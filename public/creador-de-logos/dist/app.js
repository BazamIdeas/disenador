/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./public/creador-de-logos/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./public/creador-de-logos/app/app.js":
/*!********************************************!*\
  !*** ./public/creador-de-logos/app/app.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("angular.module(\"disenador-de-logos\", [\"ngMessages\", \"ui.router\", \"ngAnimate\", \"ngAria\", \"ngMaterial\", \"base64\", \"colorpicker\", \"720kb.socialshare\", \"ngFileUpload\"])\r\n\r\n\t.config(function ($stateProvider, $httpProvider, $urlRouterProvider, $locationProvider, $mdToastProvider) {\r\n\r\n\t\t$locationProvider.html5Mode(true);\r\n\r\n\t\t/* INTERCEPTADOR */\r\n\t\t$httpProvider.interceptors.push(\"AuthInterceptor\");\r\n\r\n\t\t$mdToastProvider.addPreset(\"base\", {\r\n\t\t\toptions: function () {\r\n\t\t\t\treturn {\r\n\t\t\t\t\ttemplateUrl: \"toast-base.html\",\r\n\t\t\t\t\thideDelay: 0,\r\n\t\t\t\t\tposition: \"top right\",\r\n\t\t\t\t\tcontroller: [\"$scope\", \"$mdToast\", \"$timeout\", \"args\", function ($scope, $mdToast, $timeout, args) {\r\n\r\n\t\t\t\t\t\tif (args) {\r\n\r\n\t\t\t\t\t\t\t$scope.mensaje = args.mensaje;\r\n\r\n\t\t\t\t\t\t\t$scope.clase = args.clase;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar temporizador = $timeout(function () {\r\n\t\t\t\t\t\t\t$mdToast.hide();\r\n\t\t\t\t\t\t}, 3000);\r\n\r\n\t\t\t\t\t\t$scope.closeToast = function () {\r\n\t\t\t\t\t\t\t$timeout.cancel(temporizador);\r\n\t\t\t\t\t\t\t$mdToast.hide();\r\n\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}],\r\n\t\t\t\t\tclickOutsideToClose: true\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t});\r\n\r\n\r\n\t\t/*------------------------ Ui router states ----------------------*/\r\n\r\n\r\n\t\t$stateProvider\r\n\r\n\t\t\t.state({\r\n\t\t\t\tname: \"inicio\",\r\n\t\t\t\turl: \"/?datos\",\r\n\t\t\t\ttemplateUrl: \"app/views/inicio.tpl\",\r\n\t\t\t\tcontroller: \"inicioController as inicio\",\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tlandingResolve: [\"LS\", \"$stateParams\", function (LS, $stateParams) {\r\n\r\n\t\t\t\t\t\t/* Si es un logo compartido por url */\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif ($stateParams.datos) {\r\n\t\t\t\t\t\t\treturn angular.fromJson(decodeURI($stateParams.datos));\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t/* Si el cliente viene de la landing */\r\n\r\n\t\t\t\t\t\tvar datosLanding = LS.obtener(\"comenzar\");\r\n\r\n\t\t\t\t\t\tif (datosLanding) {\r\n\r\n\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\tdatos: {\r\n\t\t\t\t\t\t\t\t\tnombre: datosLanding.nombre,\r\n\t\t\t\t\t\t\t\t\tcategoria: {\r\n\t\t\t\t\t\t\t\t\t\ticono: datosLanding.idCategoria,\r\n\t\t\t\t\t\t\t\t\t\tfuente: datosLanding.idFuente\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\ttags: datosLanding.etiquetasParaBusqueda,\r\n\t\t\t\t\t\t\t\t\tetiquetasSeleccionadas: datosLanding.etiquetasSeleccionadas,\r\n\t\t\t\t\t\t\t\t\tpreferencias: datosLanding.preferencias\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tpalettesCopy: datosLanding.palettesCopy,\r\n\t\t\t\t\t\t\t\ticonos: datosLanding.iconos,\r\n\t\t\t\t\t\t\t\tfuentes: datosLanding.fuentes\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}]\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.state({\r\n\t\t\t\tname: \"editor\",\r\n\t\t\t\turl: \"/editor/\",\r\n\t\t\t\ttemplateUrl: \"app/views/editor.tpl\",\r\n\t\t\t\tcontroller: \"editorController as editor\",\r\n\t\t\t\tparams: {\r\n\t\t\t\t\tstatus: null,\r\n\t\t\t\t\tdatos: {\r\n\t\t\t\t\t\tlogo: null,\r\n\t\t\t\t\t\ttexto: null,\r\n\t\t\t\t\t\tfuentes: null,\r\n\t\t\t\t\t\tidLogoGuardado: null\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\t/*currentAuth: [\"$q\", \"clientesService\", function ($q, clientesService) {\r\n\r\n\t\t\t\t\t\tif (!clientesService.autorizado()) {\r\n\r\n\t\t\t\t\t\t\treturn $q.reject(\"AUTH_REQUIRED\");\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}],*/\r\n\t\t\t\t\thistoricoResolve: [\"$q\", \"$stateParams\", \"LS\", function ($q, $stateParams, LS) {\r\n\r\n\t\t\t\t\t\tvar defered = $q.defer();\r\n\r\n\t\t\t\t\t\tvar promise = defered.promise;\r\n\r\n\t\t\t\t\t\tif ($stateParams.status) {\r\n\r\n\t\t\t\t\t\t\tLS.definir(\"editor\", $stateParams.datos);\r\n\r\n\t\t\t\t\t\t\tdefered.resolve($stateParams.datos);\r\n\r\n\t\t\t\t\t\t} else if (LS.obtener(\"editor\")) {\r\n\r\n\t\t\t\t\t\t\tdefered.resolve(LS.obtener(\"editor\"));\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tdefered.reject({\r\n\t\t\t\t\t\t\t\terror: \"FALLO_HISTORICO\"\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn promise;\r\n\r\n\t\t\t\t\t}]\r\n\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\t/* \r\n\t\t\t.state({\r\n\t\t\t\tname: \"planes\",\r\n\t\t\t\turl: \"/planes/\",\r\n\t\t\t\ttemplateUrl: \"app/views/planes.tpl\",\r\n\t\t\t\tcontroller: \"planesController as planes\",\r\n\t\t\t\tparams: {\r\n\t\t\t\t\tstatus: null,\r\n\t\t\t\t\tdatos: {\r\n\t\t\t\t\t\tlogo: null,\r\n\t\t\t\t\t\tidElemento: null,\r\n\t\t\t\t\t\ttipo: null,\r\n\t\t\t\t\t\tfuentes: null\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tcurrentAuth: [\"$q\", \"clientesService\", function ($q, clientesService) {\r\n\r\n\t\t\t\t\t\tif (!clientesService.autorizado()) {\r\n\r\n\t\t\t\t\t\t\treturn $q.reject(\"AUTH_REQUIRED\");\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}],\r\n\t\t\t\t\thistoricoResolve: [\"$q\", \"$stateParams\", \"LS\", function ($q, $stateParams, LS) {\r\n\r\n\t\t\t\t\t\tvar defered = $q.defer();\r\n\r\n\t\t\t\t\t\tvar promise = defered.promise;\r\n\r\n\t\t\t\t\t\tif ($stateParams.status) {\r\n\r\n\t\t\t\t\t\t\tLS.definir(\"planes\", $stateParams.datos);\r\n\r\n\t\t\t\t\t\t\tdefered.resolve($stateParams.datos);\r\n\r\n\t\t\t\t\t\t} else if (LS.obtener(\"planes\")) {\r\n\r\n\t\t\t\t\t\t\tdefered.resolve(LS.obtener(\"planes\"));\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tdefered.reject({\r\n\t\t\t\t\t\t\t\terror: \"FALLO_HISTORICO\"\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn promise;\r\n\r\n\t\t\t\t\t}]\r\n\t\t\t\t}\r\n\t\t\t})\r\n*/\r\n\t\t\t.state({\r\n\t\t\t\tname: \"pago\",\r\n\t\t\t\turl: \"/pago/\",\r\n\t\t\t\ttemplateUrl: \"app/views/pago.tpl\",\r\n\t\t\t\tcontroller: \"pagoController as pago\",\r\n\t\t\t\tparams: {\r\n\t\t\t\t\tstatus: null,\r\n\t\t\t\t\tdatos: {\r\n\r\n\t\t\t\t\t\tlogo: null,\r\n\t\t\t\t\t\tidElemento: null,\r\n\t\t\t\t\t\ttipo: null,\r\n\t\t\t\t\t\tplan: {\r\n\t\t\t\t\t\t\tnombre: null,\r\n\t\t\t\t\t\t\tidPlan: null\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tprecio: {\r\n\t\t\t\t\t\t\tmoneda: {\r\n\t\t\t\t\t\t\t\tsimbolo: null,\r\n\t\t\t\t\t\t\t\tidMoneda: null\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tmonto: null,\r\n\t\t\t\t\t\t\tidPrecio: null\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tcurrentAuth: [\"$q\", \"clientesService\", function ($q, clientesService) {\r\n\r\n\t\t\t\t\t\tif (!clientesService.autorizado()) {\r\n\r\n\t\t\t\t\t\t\treturn $q.reject(\"AUTH_REQUIRED\");\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}],\r\n\t\t\t\t\thistoricoResolve: [\"$q\", \"$stateParams\", function ($q, $stateParams) {\r\n\r\n\t\t\t\t\t\tvar defered = $q.defer();\r\n\r\n\t\t\t\t\t\tvar promise = defered.promise;\r\n\r\n\t\t\t\t\t\tif ($stateParams.status) {\r\n\r\n\t\t\t\t\t\t\tdefered.resolve($stateParams.datos);\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tdefered.reject({\r\n\t\t\t\t\t\t\t\terror: \"FALLO_HISTORICO\"\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn promise;\r\n\r\n\t\t\t\t\t}]\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\t.state({\r\n\t\t\t\tname: \"pagoCompleto\",\r\n\t\t\t\turl: \"/pago/completo/:id/\",\r\n\t\t\t\ttemplateUrl: \"app/views/pagoCompleto.tpl\",\r\n\t\t\t\tcontroller: \"pagoCompletoController as pagoCompleto\",\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tcurrentAuth: [\"$q\", \"clientesService\", function ($q, clientesService) {\r\n\r\n\t\t\t\t\t\tif (!clientesService.autorizado()) {\r\n\r\n\t\t\t\t\t\t\treturn $q.reject(\"AUTH_REQUIRED\");\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}]\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\t.state({\r\n\t\t\t\tname: \"cuenta\",\r\n\t\t\t\turl: \"/cliente/cuenta/\",\r\n\t\t\t\ttemplateUrl: \"app/views/cuenta.tpl\",\r\n\t\t\t\tcontroller: \"cuentaController as cuenta\",\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tcurrentAuth: [\"$q\", \"clientesService\", function ($q, clientesService) {\r\n\r\n\t\t\t\t\t\tif (!clientesService.autorizado()) {\r\n\r\n\t\t\t\t\t\t\treturn $q.reject(\"AUTH_REQUIRED\");\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}]\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\t.state({\r\n\t\t\t\tname: \"logos\",\r\n\t\t\t\turl: \"/cliente/logos/\",\r\n\t\t\t\ttemplateUrl: \"app/views/logos.tpl\",\r\n\t\t\t\tcontroller: \"logosController as logos\",\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tcurrentAuth: [\"$q\", \"clientesService\", function ($q, clientesService) {\r\n\r\n\t\t\t\t\t\tif (!clientesService.autorizado()) {\r\n\r\n\t\t\t\t\t\t\treturn $q.reject(\"AUTH_REQUIRED\");\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}]\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\t.state({\r\n\t\t\t\tname: \"descargar\",\r\n\t\t\t\turl: \"/cliente/logos/descargar/{id:int}/\",\r\n\t\t\t\ttemplateUrl: \"app/views/descargar.tpl\",\r\n\t\t\t\tcontroller: \"descargarController as descargar\",\r\n\t\t\t\tparams: {\r\n\t\t\t\t\tid: null\r\n\r\n\t\t\t\t},\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tcurrentAuth: [\"$q\", \"clientesService\", function ($q, clientesService) {\r\n\r\n\t\t\t\t\t\tif (!clientesService.autorizado()) {\r\n\r\n\t\t\t\t\t\t\treturn $q.reject(\"AUTH_REQUIRED\");\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}],\r\n\t\t\t\t\tlogoResolve: [\"$q\", \"$stateParams\", \"logosService\", function ($q, $stateParams, logosService) {\r\n\r\n\t\t\t\t\t\tif ($stateParams.id) {\r\n\t\t\t\t\t\t\tvar defered = $q.defer();\r\n\t\t\t\t\t\t\tvar promise = defered.promise;\r\n\r\n\t\t\t\t\t\t\tlogosService.obtenerPorId($stateParams.id).then(function (res) {\r\n\t\t\t\t\t\t\t\tif (res.estado == \"Descargable\") {\r\n\t\t\t\t\t\t\t\t\tdefered.resolve({\r\n\t\t\t\t\t\t\t\t\t\tlogo: res.logo,\r\n\t\t\t\t\t\t\t\t\t\tid: $stateParams.id,\r\n\t\t\t\t\t\t\t\t\t\tidElemento: res.elementos_idElemento,\r\n\t\t\t\t\t\t\t\t\t\ttipo: res.tipoLogo\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tdefered.reject(\"INVALID_LOGO\");\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t}).catch(function () {\r\n\r\n\t\t\t\t\t\t\t\t// $state.go(\"logos\");\r\n\t\t\t\t\t\t\t\tdefered.reject(\"INVALID_LOGO\");\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\treturn promise;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\treturn $q.reject(\"INVALID_LOGO\");\r\n\t\t\t\t\t\t}\r\n\r\n\r\n\r\n\t\t\t\t\t}]\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\t.state({\r\n\t\t\t\tname: \"login\",\r\n\t\t\t\turl: \"/ingreso/\",\r\n\t\t\t\ttemplateUrl: \"app/views/login.tpl\",\r\n\t\t\t\tcontroller: \"loginController as login\",\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\t\"currentAuth\": [\"$q\", \"clientesService\", function ($q, clientesService) {\r\n\r\n\t\t\t\t\t\tif (clientesService.autorizado()) {\r\n\r\n\t\t\t\t\t\t\treturn $q.reject(\"LOGOUT_REQUIRED\");\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}]\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\t.state({\r\n\t\t\t\tname: \"logosGaleria\",\r\n\t\t\t\turl: \"/logos-galeria/\",\r\n\t\t\t\ttemplateUrl: \"app/views/logosGaleria.tpl\",\r\n\t\t\t\tcontroller: \"logosGaleriaController as logosGaleria\"\r\n\t\t\t})\r\n\r\n\t\t\t.state({\r\n\t\t\t\tname: \"papeleria\",\r\n\t\t\t\turl: \"/cliente/logos/papeleria/:id/\",\r\n\t\t\t\ttemplateUrl: \"app/views/papeleria.tpl\",\r\n\t\t\t\tcontroller: \"papeleriaController as papeleriaCtrl\",\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\t\"logoResolve\": [\"$q\", \"$stateParams\", \"logosService\", \"arrayToJsonMetasFactory\", function ($q, $stateParams, logosService, arrayToJsonMetasFactory) {\r\n\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif ($stateParams.id) {\r\n\t\t\t\t\t\t\tvar defered = $q.defer();\r\n\t\t\t\t\t\t\tvar promise = defered.promise;\r\n\r\n\t\t\t\t\t\t\tlogosService.obtenerPorId($stateParams.id).then(function (res) {\r\n\t\t\t\t\t\t\t\tif (res.estado == \"Descargable\") {\r\n\t\t\t\t\t\t\t\t\tdefered.resolve({\r\n\t\t\t\t\t\t\t\t\t\tlogo: res.logo,\r\n\t\t\t\t\t\t\t\t\t\tid: $stateParams.id,\r\n\t\t\t\t\t\t\t\t\t\tidElemento: res.elementos_idElemento,\r\n\t\t\t\t\t\t\t\t\t\ttipo: res.tipoLogo,\r\n\t\t\t\t\t\t\t\t\t\tatributos: arrayToJsonMetasFactory(res.atributos)\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tdefered.reject(\"INVALID_LOGO\");\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t}).catch(function () {\r\n\t\t\t\t\t\t\t\tdefered.reject(\"INVALID_LOGO\");\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\treturn promise;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\treturn $q.reject(\"INVALID_LOGO\");\r\n\t\t\t\t\t\t}\r\n\r\n\r\n\r\n\t\t\t\t\t}]\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\t.state({\r\n\t\t\t\tname: \"papeleriaEditor\",\r\n\t\t\t\turl: \"/cliente/logos/papeleria/:id/crear\",\r\n\t\t\t\ttemplateUrl: \"app/views/papeleriaEditor.tpl\",\r\n\t\t\t\tcontroller: \"papeleriaEditorController as papeleriaEditor\",\r\n\t\t\t\tparams: {\r\n\t\t\t\t\tpapeleria: null\r\n\t\t\t\t},\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\t\"currentAuth\": [\"$q\", \"clientesService\", function ($q, clientesService) {\r\n\r\n\t\t\t\t\t\tif (!clientesService.autorizado()) {\r\n\r\n\t\t\t\t\t\t\treturn $q.reject(\"AUTH_REQUIRED\");\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}],\r\n\t\t\t\t\t\"logoResolve\": [\"$q\", \"$stateParams\", \"logosService\", \"arrayToJsonMetasFactory\", function ($q, $stateParams, logosService, arrayToJsonMetasFactory) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif ($stateParams.id) {\r\n\t\t\t\t\t\t\tvar defered = $q.defer();\r\n\t\t\t\t\t\t\tvar promise = defered.promise;\r\n\r\n\t\t\t\t\t\t\tlogosService.obtenerPorId($stateParams.id).then(function (res) {\r\n\t\t\t\t\t\t\t\tif (res.estado == \"Descargable\") {\r\n\t\t\t\t\t\t\t\t\tdefered.resolve({\r\n\t\t\t\t\t\t\t\t\t\tlogo: res.logo,\r\n\t\t\t\t\t\t\t\t\t\tid: $stateParams.id,\r\n\t\t\t\t\t\t\t\t\t\tidElemento: res.elementos_idElemento,\r\n\t\t\t\t\t\t\t\t\t\ttipo: res.tipoLogo,\r\n\t\t\t\t\t\t\t\t\t\tatributos: arrayToJsonMetasFactory(res.atributos)\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tdefered.reject(\"INVALID_LOGO\");\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t}).catch(function () {\r\n\t\t\t\t\t\t\t\tdefered.reject(\"INVALID_LOGO\");\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\treturn promise;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\treturn $q.reject(\"INVALID_LOGO\");\r\n\t\t\t\t\t\t}\r\n\r\n\r\n\r\n\t\t\t\t\t}],\r\n\t\t\t\t\t\"papeleriaResolve\": [\"$q\", \"$stateParams\", function ($q, $stateParams) {\r\n\r\n\t\t\t\t\t\t/* VALIDACION DE PAPELERIA*/\r\n\r\n\t\t\t\t\t\tvar papeleria = {};\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif ($stateParams.papeleria && $stateParams.papeleria.papeleria && $stateParams.papeleria.modelo) {\r\n\r\n\t\t\t\t\t\t\tpapeleria = $stateParams.papeleria.papeleria;\r\n\t\t\t\t\t\t\tpapeleria.modelo = $stateParams.papeleria.modelo;\r\n\t\t\t\t\t\t\tpapeleria.fuentes = $stateParams.papeleria.fuentes; \r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif($stateParams.papeleria.pieza){\r\n\r\n\t\t\t\t\t\t\t\tangular.forEach($stateParams.papeleria.pieza.caras, function(cara, indiceCara){\r\n\r\n\t\t\t\t\t\t\t\t\tpapeleria.modelo.caras[indiceCara].hooks = cara.hooks;\r\n\t\t\t\t\t\t\t\t\tpapeleria.modelo.caras[indiceCara].logos = cara.logos;\r\n\r\n\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\tif($stateParams.papeleria.pieza._id){\r\n\t\t\t\t\t\t\t\t\tpapeleria.idPieza = $stateParams.papeleria.pieza._id;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\treturn papeleria;\r\n\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\treturn $q.reject(\"PAPELERIA_INVALID\");\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}],\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\r\n\t\t$urlRouterProvider.rule(function ($injector, $location) {\r\n\t\t\tvar path = $location.url();\r\n\r\n\t\t\tif (\"/\" === path[path.length - 1] || path.indexOf(\"/?\") > -1) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (path.indexOf(\"?\") > -1) {\r\n\t\t\t\treturn path.replace(\"?\", \"/?\");\r\n\t\t\t}\r\n\r\n\t\t\treturn path + \"/\";\r\n\t\t});\r\n\r\n\t\t$urlRouterProvider.otherwise(\"/404/\");\r\n\r\n\t})\r\n\r\n\r\n\t.run(function ($rootScope, $state, $timeout) {\r\n\r\n\t\t$rootScope.$on(\"$viewContentLoaded\", function () {\r\n\r\n\t\t\t$timeout(function () {\r\n\t\t\t\tangular.element(document.querySelector(\".overlay.full\")).fadeOut(500);\r\n\t\t\t}, 3000);\r\n\r\n\r\n\t\t});\r\n\r\n\t\t$rootScope.$on(\"$stateChangeSuccess\", function (event, toState, toParams, fromState, fromParams, error) {\r\n\r\n\t\t\t//Servicio para cerrar ayudas\r\n\r\n\t\t});\r\n\r\n\t\t$rootScope.$on(\"$stateChangeError\", function (event, toState, toParams, fromState, fromParams, error) {\r\n\r\n\t\t\t\r\n\r\n\t\t\tif (error === \"AUTH_REQUIRED\") {\r\n\r\n\t\t\t\tswitch (toState.name) {\r\n\r\n\t\t\t\t\tcase \"editor\":\r\n\r\n\t\t\t\t\t\tswitch (fromState.name) {\r\n\r\n\t\t\t\t\t\t\tdefault: $state.go(\"login\");\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase \"pago\":\r\n\r\n\t\t\t\t\t\tswitch (fromState.name) {\r\n\r\n\t\t\t\t\t\t\tdefault: $state.go(\"login\");\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\r\n\t\t\t\t\tcase \"pagoCompleto\":\r\n\t\t\t\t\t\tswitch (fromState.name) {\r\n\r\n\t\t\t\t\t\t\tcase \"\":\r\n\t\t\t\t\t\t\t\t$state.go(\"login\");\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t$state.go(\"login\");\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase \"cuenta\":\r\n\t\t\t\t\t\tswitch (fromState.name) {\r\n\r\n\t\t\t\t\t\t\tcase \"\":\r\n\t\t\t\t\t\t\t\t$state.go(\"login\");\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t$state.go(\"login\");\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase \"logos\":\r\n\t\t\t\t\t\tswitch (fromState.name) {\r\n\r\n\t\t\t\t\t\t\tcase \"\":\r\n\t\t\t\t\t\t\t\t$state.go(\"login\");\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t$state.go(\"login\");\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase \"descargar\":\r\n\t\t\t\t\t\tswitch (fromState.name) {\r\n\r\n\t\t\t\t\t\t\tcase \"\":\r\n\t\t\t\t\t\t\t\t$state.go(\"login\");\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t$state.go(\"login\");\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t$state.go(\"inicio\");\r\n\r\n\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t} else if (error === \"LOGOUT_REQUIRED\") {\r\n\r\n\t\t\t\t$state.go(\"cuenta\");\r\n\r\n\t\t\t} else if (error === \"PAPELERIA_INVALID\") {\r\n\r\n\t\t\t\t$state.go(\"papeleria\", {\r\n\t\t\t\t\tid: toParams.id\r\n\t\t\t\t});\r\n\r\n\t\t\t} else if (error === \"INVALID_LOGO\") {\r\n\r\n\t\t\t\tswitch (toState.name) {\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t$state.go(\"logos\");\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if (error.error === \"FALLO_HISTORICO\") {\r\n\r\n\t\t\t\tswitch (toState.name) {\r\n\r\n\t\t\t\t\tcase \"editor\":\r\n\r\n\t\t\t\t\t\t$state.go(\"inicio\");\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase \"pago\":\r\n\r\n\t\t\t\t\t\t$state.go(\"inicio\");\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t$state.go(\"inicio\")\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\tconsole.log(error);\r\n\r\n\t\t});\r\n\t});\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/app.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/controllers/cuenta.controller.js":
/*!**********************************************************************!*\
  !*** ./public/creador-de-logos/app/controllers/cuenta.controller.js ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("angular.module(\"disenador-de-logos\")\r\n\r\n\t.controller(\"cuentaController\", [\"$scope\", \"$state\", \"pedidosService\", \"clientesService\", \"$mdToast\", \"paisesValue\", \"verificarBase64Factory\", \"clienteDatosFactory\", \"$window\", function ($scope, $state, pedidosService, clientesService, $mdToast, paisesValue, verificarBase64Factory, clienteDatosFactory, $window) {\r\n\r\n\t\tvar bz = this;\r\n\r\n\t\tbz.formulario = 1;\r\n\r\n\t\tbz.paises = paisesValue;\r\n\r\n\t\tbz.verificarBase64 = verificarBase64Factory;\r\n\r\n\t\tbz.pedidos = [];\r\n\t\tbz.datos = {};\r\n\t\tbz.datosEspejo = {};\r\n\r\n\t\tclientesService.datos().then(function (res) {\r\n\r\n\t\t\tbz.datos = res;\r\n\r\n\t\t});\r\n\r\n\t\tpedidosService.listarPedidos().then(function (res) {\r\n\r\n\t\t\tangular.forEach(res, function (valor) {\r\n\r\n\t\t\t\tif (valor.estado != \"EN ESPERA\") {\r\n\t\t\t\t\tbz.pedidos.push(valor);\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\r\n\t\t});\r\n\r\n\r\n\t\tbz.editar = function (datos) {\r\n\r\n\t\t\tbz.datosEspejo = angular.copy(datos);\r\n\t\t\tbz.formulario = 2;\r\n\r\n\t\t};\r\n\r\n\r\n\t\tbz.completado = true;\r\n\r\n\t\tbz.guardar = function (datos, valido) {\r\n\r\n\t\t\tif (valido && bz.completado) {\r\n\r\n\t\t\t\tbz.completado = false;\r\n\r\n\t\t\t\tclientesService.modificar(datos.nombreCliente, datos.telefono, datos.pais)\r\n\r\n\t\t\t\t\t.then(function () {\r\n\r\n\t\t\t\t\t\tbz.datos = angular.copy(datos);\r\n\t\t\t\t\t\tbz.formulario = 1;\r\n\r\n\t\t\t\t\t\t$mdToast.show($mdToast.base({\r\n\t\t\t\t\t\t\targs: {\r\n\t\t\t\t\t\t\t\tmensaje: \"¡Datos modificados!\",\r\n\t\t\t\t\t\t\t\tclase: \"success\"\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}));\r\n\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function () {\r\n\r\n\t\t\t\t\t\t$mdToast.show($mdToast.base({\r\n\t\t\t\t\t\t\targs: {\r\n\t\t\t\t\t\t\t\tmensaje: \"Un error ha ocurrido\",\r\n\t\t\t\t\t\t\t\tclase: \"danger\"\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}));\r\n\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.finally(function () {\r\n\r\n\t\t\t\t\t\tbz.completado = true;\r\n\r\n\t\t\t\t\t});\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\t\tbz.fotoCargaCompletada = true;\r\n\t\tbz.cargandoFoto = false;\r\n\t\tbz.cargarFoto = function (imagen) {\r\n\r\n\t\t\tconsole.log(imagen)\r\n\r\n\t\t\tif (imagen) {\r\n\t\t\t\tif (bz.fotoCargaCompletada) {\r\n\t\t\t\t\tbz.cargandoFoto = true;\r\n\r\n\t\t\t\t\tclientesService.avatar(imagen)\r\n\t\t\t\t\t\t.then(function (res) {\r\n\t\t\t\t\t\t\tbz.cargandoFoto = false;\r\n\t\t\t\t\t\t\t$mdToast.show($mdToast.base({\r\n\t\t\t\t\t\t\t\targs: {\r\n\t\t\t\t\t\t\t\t\tmensaje: \"¡Foto de Perfil Cargada!\",\r\n\t\t\t\t\t\t\t\t\tclase: \"success\"\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}));\r\n\r\n\t\t\t\t\t\t\tvar user = clienteDatosFactory.obtener()\r\n\t\t\t\t\t\t\tuser.foto = res;\r\n\t\t\t\t\t\t\t$window.localStorage.setItem(\"bzToken\", angular.toJson(user));\r\n\t\t\t\t\t\t\tclienteDatosFactory.definir(user);\r\n\r\n\t\t\t\t\t\t\tbz.datos.foto = res;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(function () {\r\n\t\t\t\t\t\t\tbz.cargandoFoto = false;\r\n\t\t\t\t\t\t\t$mdToast.show($mdToast.base({\r\n\t\t\t\t\t\t\t\targs: {\r\n\t\t\t\t\t\t\t\t\tmensaje: \"Error al cargar la foto\",\r\n\t\t\t\t\t\t\t\t\tclase: \"danger\"\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}));\r\n\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.finally(function () {\r\n\r\n\t\t\t\t\t\t\tbz.fotoCargaCompletada = true;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tbz.datosOlvido = {\r\n\t\t\ttipo: 'cliente',\r\n\t\t};\r\n\r\n\t\tbz.cambiarContrasena = function (datos, v) {\r\n\t\t\tbz.peticion = true;\r\n\t\t\tif (!v){\r\n\t\t\t\tbz.peticion = false;\r\n\t\t\t\treturn $mdToast.show($mdToast.base({\r\n\t\t\t\t\targs: {\r\n\t\t\t\t\t\tmensaje: \"LLene los campos correctamente.\",\r\n\t\t\t\t\t\tclase: \"danger\"\r\n\t\t\t\t\t}\r\n\t\t\t\t}));\r\n\t\t\t}\r\n\t\t\tclientesService.verificarCambiaContrasena(datos).then(function (res) {\r\n\t\t\t\t\r\n\t\t\t\tbz.formulario = 1;\r\n\t\t\t\t$mdToast.show($mdToast.base({\r\n\t\t\t\t\targs: {\r\n\t\t\t\t\t\tmensaje: \"Contraseña Modificada.\",\r\n\t\t\t\t\t\tclase: \"success\"\r\n\t\t\t\t\t}\r\n\t\t\t\t}));\r\n\r\n\t\t\t\tbz.datosOlvido = {\r\n\t\t\t\t\ttipo: 'cliente',\r\n\t\t\t\t};\r\n\t\t\t}).catch(function () {\r\n\t\t\t\tbz.peticion = false;\r\n\t\t\t\t//console.log(res)\r\n\t\t\t}).finally(function () {\r\n\t\t\t\tbz.peticion = false;\r\n\t\t\t})\r\n\t\t}\r\n\r\n\r\n\r\n\r\n\t\t$scope.$on(\"sesionExpiro\", function () {\r\n\r\n\t\t\t$state.go(\"inicio\");\r\n\r\n\t\t});\r\n\r\n\t}]);\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/controllers/cuenta.controller.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/controllers/descargar.controller.js":
/*!*************************************************************************!*\
  !*** ./public/creador-de-logos/app/controllers/descargar.controller.js ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("angular.module(\"disenador-de-logos\")\r\n\r\n\t.controller(\"descargarController\", [\"logoResolve\", \"logosService\", \"$state\", \"$scope\", \"$base64\", \"$filter\", \"planesService\", \"pedidosService\", \"$window\", \"$document\", function (logoResolve, logosService, $state, $scope, $base64, $filter, planesService, pedidosService, $window, $document) {\r\n\r\n\t\tvar bz = this;\r\n\r\n\t\tbz.base64 = $base64;\r\n\r\n\t\tbz.formatosNoSociales = [{\r\n\t\t\tnombre: \"editable\",\r\n\t\t\tancho: 400\r\n\t\t},\r\n\t\t{\r\n\t\t\tnombre: \"papeleria\",\r\n\t\t\tancho: 300\r\n\t\t},\r\n\t\t{\r\n\t\t\tnombre: \"documento\",\r\n\t\t\tancho: 300,\r\n\t\t\tplantilla: {tipo: 'ppt', nombre: 'eglamour'}\r\n\t\t}];\r\n\r\n\t\tbz.formatos = [{\r\n\t\t\tnombre: \"facebook\",\r\n\t\t\tancho: 180\r\n\t\t},\r\n\t\t{\r\n\t\t\tnombre: \"whatsapp\",\r\n\t\t\tancho: 300\r\n\t\t},\r\n\t\t{\r\n\t\t\tnombre: \"instagram\",\r\n\t\t\tancho: 110\r\n\t\t},\r\n\t\t{\r\n\t\t\tnombre: \"google-plus\",\r\n\t\t\tancho: 250\r\n\t\t},\r\n\t\t{\r\n\t\t\tnombre: \"youtube\",\r\n\t\t\tancho: 200\r\n\t\t},\r\n\t\t{\r\n\t\t\tnombre: \"twitter\",\r\n\t\t\tancho: 400\r\n\t\t},\r\n\t\t{\r\n\t\t\tnombre: \"linkedin\",\r\n\t\t\tancho: 400\r\n\t\t},\r\n\t\t{\r\n\t\t\tnombre: \"pinterest\",\r\n\t\t\tancho: 60\r\n\t\t},\r\n\t\t{\r\n\t\t\tnombre: \"telegram\",\r\n\t\t\tancho: 300\r\n\t\t},\r\n\t\t{\r\n\t\t\tnombre: \"vimeo\",\r\n\t\t\tancho: 300\r\n\t\t},\r\n\t\t];\r\n\r\n\r\n\t\tbz.panelSeleccionado = 1;\r\n\r\n\t\tbz.panelActivo = false;\r\n\r\n\t\tbz.seleccionarPanel = function(index) {\r\n\t\t\tbz.panelSeleccionado = index;\r\n\t\t\tif (!bz.panelActivo) {\r\n\t\t\t\tbz.panelActivo = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//bz.formatoSeleccionado = bz.formatos[0];\r\n\r\n\t\tbz.logo = logoResolve;\r\n\r\n\t\tbz.plan = {};\r\n\t\tbz.planes = {};\r\n\t\tbz.monedas = {};\r\n\t\tbz.moneda = {};\r\n\r\n\t\tbz.mostrarAumento = false;\r\n\t\t\r\n\t\tplanesService.porLogo(bz.logo.id)\r\n\t\t\t.then(function (res) {\r\n\t\t\t\tbz.plan = res.caracteristicas;\r\n\r\n\t\t\t\tbz.idPlan = res.idPlan;\r\n\t\t\t\t\r\n\t\t\t\tplanesService.aumentarPlan(bz.idPlan)\r\n\t\t\t\t\t.then(function (res) {\r\n\r\n\t\t\t\t\t\tif (res.planes.superiores.length) {\r\n\r\n\t\t\t\t\t\t\tbz.moneda = {\r\n\t\t\t\t\t\t\t\tsimbolo: res.monedaDefault.codigo,\r\n\t\t\t\t\t\t\t\tidMoneda: res.monedaDefault.idMoneda\r\n\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\tbz.mostrarAumento = true;\r\n\t\t\t\t\t\t\tbz.planes = res.planes.superiores;\r\n\r\n\t\t\t\t\t\t\tangular.forEach(res.planes.superiores, function (plan) {\r\n\r\n\t\t\t\t\t\t\t\tangular.forEach(plan.precios, function (precio) {\r\n\r\n\t\t\t\t\t\t\t\t\tif (!bz.monedas[precio.moneda]) {\r\n\r\n\t\t\t\t\t\t\t\t\t\tbz.monedas[precio.moneda] = {\r\n\t\t\t\t\t\t\t\t\t\t\tsimbolo: precio.moneda,\r\n\t\t\t\t\t\t\t\t\t\t\tidMoneda: precio.idMoneda\r\n\t\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tbz.mps = true; //mostrar Planes superiores = mps\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tpedidosService.listarPasarelas(bz.moneda.idMoneda).then(function (res) {\r\n\t\t\t\t\t\t\t\tbz.pasarelas = res;\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function () {\r\n\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.finally(function () {\r\n\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\tif (bz.plan && bz.plan.png.valor == \"1\") {\r\n\t\t\t\t\tbz.formatoSeleccionado = bz.formatos[0];\r\n\t\t\t\t} else if (bz.plan && (bz.plan.editable.valor == \"1\" || (bz.plan.png.valor == \"0\" && bz.plan.editable.valor == \"0\"))) {\r\n\t\t\t\t\tbz.formatoSeleccionado = bz.formatosNoSociales[0];\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(function () {\r\n\r\n\t\t\t});\r\n\r\n\r\n\t\tbz.comprobarMonedas = function (plan) {\r\n\r\n\t\t\tvar coincidencia = false;\r\n\r\n\t\t\tangular.forEach(plan.precios, function (valor) {\r\n\r\n\t\t\t\tif (valor.moneda == bz.moneda.simbolo) {\r\n\r\n\t\t\t\t\tcoincidencia = true;\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\r\n\t\t\treturn coincidencia;\r\n\r\n\t\t};\r\n\r\n\t\tbz.precioSeleccionado = function (precios) {\r\n\r\n\t\t\tvar precioFinal = \"\";\r\n\r\n\t\t\tangular.forEach(precios, function (valor) {\r\n\r\n\t\t\t\tif (valor.moneda == bz.moneda.simbolo) {\r\n\r\n\t\t\t\t\tprecioFinal = valor.moneda + \" \" + valor.precio;\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\r\n\t\t\treturn precioFinal;\r\n\r\n\t\t};\r\n\r\n\r\n\t\tbz.seleccionar = function (formato) {\r\n\r\n\t\t\tbz.formatoSeleccionado = angular.copy(formato);\r\n\r\n\t\t};\r\n\r\n\t\t\r\n\r\n\r\n\r\n\t\tbz.paypal = function (idPaypal, plan) {\r\n\r\n\t\t\tif(bz.peticion){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar datos = {\r\n\t\t\t\tidLogo: bz.logo.id,\r\n\t\t\t\tidPrecio: null,\r\n\t\t\t\tidPasarela: idPaypal\r\n\t\t\t};\r\n\r\n\t\t\tbz.peticion = true;\r\n\r\n\t\t\tangular.forEach(plan.precios, function (valor) {\r\n\t\t\t\tif (valor.moneda == bz.moneda.simbolo) {\r\n\t\t\t\t\tdatos.idPrecio = valor.idPrecio;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t//pedidosService.listarPasarelas(bz.moneda.idMoneda).then(function (res) {\r\n\r\n\t\t\t/*\r\n\t\t\tangular.forEach(bz.pasarelas, function (valor) {\r\n\t\t\t\tif (valor.pasarela == pasarela) {\r\n\t\t\t\t\tdatos.idPasarela = valor.idPasarela;\r\n\t\t\t\t}\r\n\t\t\t});*/\r\n\r\n\t\t\tplanesService.aumentarPedidoPlan(datos).then(function (res) {\r\n\t\t\t\t$window.location = res;\r\n\t\t\t}).catch(function () {\r\n\t\t\t\t//console.log(res)\r\n\t\t\t}).finally(function () {\r\n\t\t\t\tbz.peticion = false;\r\n\t\t\t});\r\n\r\n\t\t\t\r\n\r\n\t\t};\r\n\r\n\t\tbz.mostrarStripe = function(idStripe, plan){\r\n\r\n\t\t\tvar idPrecio;\r\n\t\t\t\r\n\t\t\tangular.forEach(plan.precios, function (valor) {\r\n\t\t\t\tif (valor.moneda == bz.moneda.simbolo) {\r\n\t\t\t\t\tidPrecio = valor.idPrecio;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tbz.datosStripe = {\r\n\t\t\t\tidStripe: idStripe, \r\n\t\t\t\tidPrecio: idPrecio,\r\n\t\t\t\tidLogo: bz.logo.id\r\n\t\t\t};\r\n\r\n\r\n\t\t};\r\n\r\n\t\tbz.completado = true;\r\n\t\tbz.descargar = function (nombre, ancho, plantilla) {\r\n\r\n\t\t\tif (bz.completado) {\r\n\r\n\t\t\t\tbz.completado = false;\r\n\r\n\t\t\t\tangular.element(document.querySelector(\".overlay.full\")).fadeIn(1000);\r\n\r\n\t\t\t\tlogosService.descargarLogo(bz.logo.id, ancho, $filter(\"uppercase\")(nombre), nombre, plantilla)\r\n\r\n\t\t\t\t\t.then(function (res) {\r\n\r\n\t\t\t\t\t\t//get the headers' content disposition\r\n\t\t\t\t\t\tvar cd = res.headers[\"content-disposition\"];\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t//get the file name with regex\r\n\t\t\t\t\t\tvar regex = /filename[^;=\\n]*=((['\"]).*?\\2|[^;\\n]*)/;\r\n\t\t\t\t\t\tvar match = regex.exec(cd);\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t//is there a fiel name?\r\n\t\t\t\t\t\tvar fileName = match[1] || \"LogoPro.zip\";\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t//replace leading and trailing slashes that C# added to your file name\r\n\t\t\t\t\t\tfileName = fileName.replace(/\\\"/g, \"\");\r\n\t\t\t\t\t\t//determine the content type from the header or default to octect stream\r\n\t\t\t\t\t\tvar contentType = res.headers[\"content-type\"];\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t//finally, download it\r\n\t\t\t\t\t\tvar blob = new Blob([res.data], {type: contentType});\r\n\t\t\t\t\r\n\t\t\t\t\t\t//downloading the file depends on the browser\r\n\t\t\t\t\t\t//IE handles it differently than chrome/webkit\r\n\t\t\t\t\t\tif ($window.navigator && $window.navigator.msSaveOrOpenBlob) {\r\n\t\t\t\t\t\t\t$window.navigator.msSaveOrOpenBlob(blob, fileName);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tvar a = $document[0].createElement(\"a\");\r\n\t\t\t\t\t\t\t$document[0].body.appendChild(a);\r\n\t\t\t\t\t\t\ta.style = \"display:none\";\r\n\t\t\t\t\t\t\tvar url = $window.URL.createObjectURL(blob);\r\n\t\t\t\t\t\t\ta.href = url;\r\n\t\t\t\t\t\t\ta.download = fileName;\r\n\t\t\t\t\t\t\ta.target = \"_blank\";\r\n\t\t\t\t\t\t\ta.click();\r\n\t\t\t\t\t\t\t$window.URL.revokeObjectURL(url);\r\n\t\t\t\t\t\t\ta.remove();\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\t.finally(function () {\r\n\r\n\t\t\t\t\t\tbz.completado = true;\r\n\t\t\t\t\t\tangular.element(document.querySelector(\".overlay.full\")).fadeOut(1000);\r\n\r\n\t\t\t\t\t});\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t\tbz.descargarTodo = function () {\r\n\r\n\t\t\tif (bz.completado) {\r\n\r\n\t\t\t\tbz.completado = false;\r\n\r\n\t\t\t\tangular.element(document.querySelector(\".overlay.full\")).fadeIn(1000);\r\n\r\n\t\t\t\tvar formatos = {};\r\n\t\t\t\tvar formatosCopia = angular.copy(bz.formatos);\r\n\t\t\t\t\r\n\t\t\t\tformatosCopia.push(bz.formatosNoSociales[1]);\r\n\r\n\t\t\t\tangular.forEach(formatosCopia, function (formato){\r\n\t\t\t\t\tformatos[formato.nombre] = formato.ancho;\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\tlogosService.descargarTodo(bz.logo.id, formatos)\r\n\r\n\t\t\t\t\t.then(function (res) {\r\n\r\n\t\t\t\t\t\t//get the headers' content disposition\r\n\t\t\t\t\t\tvar cd = res.headers[\"content-disposition\"];\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t//get the file name with regex\r\n\t\t\t\t\t\tvar regex = /filename[^;=\\n]*=((['\"]).*?\\2|[^;\\n]*)/;\r\n\t\t\t\t\t\tvar match = regex.exec(cd);\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t//is there a fiel name?\r\n\t\t\t\t\t\tvar fileName = match[1] || \"LogoPro.zip\";\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t//replace leading and trailing slashes that C# added to your file name\r\n\t\t\t\t\t\tfileName = fileName.replace(/\\\"/g, \"\");\r\n\t\t\t\t\t\t//determine the content type from the header or default to octect stream\r\n\t\t\t\t\t\tvar contentType = res.headers[\"content-type\"];\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t//finally, download it\r\n\t\t\t\t\t\tvar blob = new Blob([res.data], {type: contentType});\r\n\t\t\t\t\r\n\t\t\t\t\t\t//downloading the file depends on the browser\r\n\t\t\t\t\t\t//IE handles it differently than chrome/webkit\r\n\t\t\t\t\t\tif ($window.navigator && $window.navigator.msSaveOrOpenBlob) {\r\n\t\t\t\t\t\t\t$window.navigator.msSaveOrOpenBlob(blob, fileName);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tvar a = $document[0].createElement(\"a\");\r\n\t\t\t\t\t\t\t$document[0].body.appendChild(a);\r\n\t\t\t\t\t\t\ta.style = \"display:none\";\r\n\t\t\t\t\t\t\tvar url = $window.URL.createObjectURL(blob);\r\n\t\t\t\t\t\t\ta.href = url;\r\n\t\t\t\t\t\t\ta.download = fileName;\r\n\t\t\t\t\t\t\ta.target = \"_blank\";\r\n\t\t\t\t\t\t\ta.click();\r\n\t\t\t\t\t\t\t$window.URL.revokeObjectURL(url);\r\n\t\t\t\t\t\t\ta.remove();\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\t.finally(function () {\r\n\r\n\t\t\t\t\t\tbz.completado = true;\r\n\t\t\t\t\t\tangular.element(document.querySelector(\".overlay.full\")).fadeOut(1000);\r\n\r\n\t\t\t\t\t});\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t\tbz.manualMarca = function (id) {\r\n\t\t\tbz.esperaManual = true;\r\n\t\t\tangular.element(document.querySelector(\".overlay.full\")).fadeIn(1000);\r\n\r\n\t\t\tlogosService.manualMarca(id).then(function (res) {\r\n\r\n\t\t\t\tvar a = $document[0].createElement(\"a\");\r\n\t\t\t\t$document[0].body.appendChild(a);\r\n\t\t\t\ta.style = \"display:none\";\r\n\t\t\t\tvar url = res.url;\r\n\t\t\t\ta.href = url;\r\n\t\t\t\ta.download = res.nombreArchivo;\r\n\t\t\t\ta.target = \"_blank\";\r\n\t\t\t\ta.click();\r\n\t\t\t\ta.remove();\r\n\r\n\t\t\t}).finally(function () {\r\n\t\t\t\tbz.esperaManual = false;\r\n\t\t\t\tangular.element(document.querySelector(\".overlay.full\")).fadeOut(1000);\r\n\t\t\t});\r\n\r\n\t\t};\r\n\r\n\t\t$scope.$on(\"sesionExpiro\", function () {\r\n\r\n\t\t\t$state.go(\"inicio\");\r\n\r\n\t\t});\r\n\r\n\r\n\t}]);\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/controllers/descargar.controller.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/controllers/editor.controller.js":
/*!**********************************************************************!*\
  !*** ./public/creador-de-logos/app/controllers/editor.controller.js ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("angular.module(\"disenador-de-logos\")\r\n\r\n\t.controller(\"editorController\", [\"$scope\", \"$stateParams\", \"$state\", \"$base64\", \"categoriasService\", \"logosService\", \"clientesService\", \"historicoResolve\", \"$rootScope\", \"$mdToast\", \"elementosService\", \"coloresFactory\", \"$q\", \"$window\", \"pedidosService\", \"fontService\", \"etiquetasService\", function ($scope, $stateParams, $state, $base64, categoriasService, logosService, clientesService, historicoResolve, $rootScope, $mdToast, elementosService, coloresFactory, $q, $window, pedidosService, fontService, etiquetasService) {\r\n\r\n\t\tvar bz = this;\r\n\r\n\t\tbz.base64 = $base64;\r\n\t\tbz.cuadricula = false;\r\n\t\tbz.contenedores = {\r\n\t\t\tbusquedaIconos: false,\r\n\t\t\tborradores: false,\r\n\t\t\tfuentes: false\r\n\t\t};\r\n\t\tbz.colorFondo = historicoResolve.colores ? historicoResolve.colores[1] : \"rgb(243, 243, 243)\";\r\n\t\tbz.colorFondoAnterior = bz.colorFondo;\r\n\t\tbz.colorTexto = historicoResolve.colores ? historicoResolve.colores[0] : \"#000\";\r\n\t\tbz.colorEslogan = \"#000\";\r\n\t\tbz.colorIcono = historicoResolve.colores ? historicoResolve.colores[0] : \"#000\";\r\n\t\tbz.svgFinal = \"\";\r\n\r\n\t\tbz.jqueryScrollbarOptions = {};\r\n\r\n\t\tbz.logo = historicoResolve.logo;\r\n\r\n\t\tif (!historicoResolve.idLogoGuardado && !historicoResolve.idLogoPadre) { //si no es un logo guardado\r\n\r\n\t\t\tbz.logo.texto = historicoResolve.texto;\r\n\t\t\tbz.categoria = historicoResolve.logo.icono.categorias_idCategoria;\r\n\r\n\t\t} else if (historicoResolve.idLogoGuardado) { // si es un logo previamente guardado\r\n\r\n\t\t\tbz.logo.idLogo = historicoResolve.idLogoGuardado;\r\n\r\n\t\t} else if (historicoResolve.idLogoPadre) {\r\n\r\n\t\t\tbz.idLogoPadre = historicoResolve.idLogoPadre;\r\n\r\n\t\t}\r\n\r\n\t\t/* CATEGORIAS EXISTENTES */\r\n\r\n\t\tbz.categoriasPosibles = [];\r\n\r\n\t\tcategoriasService.listaCategorias(\"ICONO\").then(function (res) {\r\n\r\n\t\t\tangular.forEach(res, function (valor) {\r\n\r\n\t\t\t\tbz.categoriasPosibles.push(valor);\r\n\r\n\t\t\t});\r\n\r\n\t\t});\r\n\r\n\t\tcategoriasService.listaCategorias(\"FUENTE\")\r\n\t\t\t.then(function (res) {\r\n\t\t\t\tbz.fuentesCategorias = res;\r\n\t\t\t})\r\n\t\t\t.catch(function () {});\r\n\r\n\r\n\t\telementosService.listarFuentes().then(function (res) {\r\n\r\n\t\t\tbz.fuentes = res;\r\n\r\n\t\t\tfontService.agregarGeneral(bz.fuentes);\r\n\r\n\t\t\tif (historicoResolve.idLogoGuardado || historicoResolve.idLogoPadre) { // si es un logo previamente guardado\r\n\r\n\t\t\t\tangular.forEach(bz.fuentes, function (valor) {\r\n\r\n\t\t\t\t\tif (valor.idElemento == historicoResolve.fuentes.principal) {\r\n\r\n\t\t\t\t\t\tbz.logo.fuente = {\r\n\t\t\t\t\t\t\turl: valor.url,\r\n\t\t\t\t\t\t\tnombre: valor.nombre\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (valor.idElemento == historicoResolve.fuentes.eslogan) {\r\n\r\n\t\t\t\t\t\tbz.logo.fuenteEslogan = {\r\n\t\t\t\t\t\t\turl: valor.url,\r\n\t\t\t\t\t\t\tnombre: valor.nombre\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\tbz.esloganActivo = true;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\t}\r\n\r\n\t\t});\r\n\r\n\t\tbz.preGuardarLogo = function(logo, tipoLogo, idElemento, idFuentePrincipal, regresar){\r\n\t\t\t\r\n\t\t\t// Verificar si el usuario que esta logueado\r\n\t\t\tif (!clientesService.autorizado()) {\r\n\t\t\r\n\t\t\t\t$rootScope.mostrarModalLogin = true;\r\n\t\t\t\t$rootScope.callback = false;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tbz.guardarLogo(logo, tipoLogo, idElemento, regresar);\r\n\t\t};\r\n\r\n\t\tbz.completadoGuardar = true;\r\n\r\n\t\tbz.guardarLogo = function (logo, tipoLogo, idElemento, idFuentePrincipal, regresar) {\r\n\r\n\t\t\tvar defered = $q.defer();\r\n\t\t\tvar promise = defered.promise;\r\n\r\n\t\t\tif (bz.completadoGuardar) {\r\n\r\n\t\t\t\tbz.completadoGuardar = false;\r\n\r\n\t\t\t\tvar fuentesId = {\r\n\t\t\t\t\tprincipal: null,\r\n\t\t\t\t\teslogan: null\r\n\t\t\t\t};\r\n\r\n\t\t\t\tangular.forEach(bz.fuentes, function (fuente) {\r\n\r\n\t\t\t\t\tif (bz.logo.fuente && (bz.logo.fuente.url == fuente.url)) {\r\n\r\n\t\t\t\t\t\tfuentesId.principal = fuente.idElemento;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (bz.logo.fuenteEslogan && (bz.logo.fuenteEslogan.url == fuente.url)) {\r\n\r\n\t\t\t\t\t\tfuentesId.eslogan = fuente.idElemento;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (!bz.logo.idLogo) { //si nunca se ha guardado este logo\r\n\t\t\t\t\tlogosService.guardarLogo(bz.base64.encode(logo), tipoLogo, idElemento, fuentesId.principal, fuentesId.eslogan, bz.idLogoPadre)\r\n\r\n\t\t\t\t\t\t.then(function (res) {\r\n\r\n\t\t\t\t\t\t\tbz.logo.idLogo = res;\r\n\r\n\t\t\t\t\t\t\tif (!regresar) {\r\n\t\t\t\t\t\t\t\t$mdToast.show($mdToast.base({\r\n\t\t\t\t\t\t\t\t\targs: {\r\n\t\t\t\t\t\t\t\t\t\tmensaje: \"Su logo ha sido guardado con exito!\",\r\n\t\t\t\t\t\t\t\t\t\tclase: \"success\"\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tdefered.resolve(res);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}).catch(function (res) {\r\n\r\n\t\t\t\t\t\t\tif (!regresar) {\r\n\t\t\t\t\t\t\t\t$mdToast.show($mdToast.base({\r\n\t\t\t\t\t\t\t\t\targs: {\r\n\t\t\t\t\t\t\t\t\t\tmensaje: \"Un error ha ocurrido\",\r\n\t\t\t\t\t\t\t\t\t\tclase: \"danger\"\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tdefered.reject(res);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}).finally(function () {\r\n\r\n\t\t\t\t\t\t\tbz.completadoGuardar = true;\r\n\r\n\t\t\t\t\t\t});\r\n\t\t\t\t} else { //si es un logo guardado\r\n\r\n\t\t\t\t\tlogosService.modificarLogo(bz.base64.encode(logo), bz.logo.idLogo, fuentesId.principal, fuentesId.eslogan)\r\n\t\t\t\t\t\t.then(function (res) {\r\n\r\n\t\t\t\t\t\t\tif (!regresar) {\r\n\t\t\t\t\t\t\t\t$mdToast.show($mdToast.base({\r\n\t\t\t\t\t\t\t\t\targs: {\r\n\t\t\t\t\t\t\t\t\t\tmensaje: \"Su logo ha sido guardado con exito!\",\r\n\t\t\t\t\t\t\t\t\t\tclase: \"success\"\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\treturn defered.resolve(res);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}).catch(function (res) {\r\n\r\n\t\t\t\t\t\t\tif (!regresar) {\r\n\t\t\t\t\t\t\t\t$mdToast.show($mdToast.base({\r\n\t\t\t\t\t\t\t\t\targs: {\r\n\t\t\t\t\t\t\t\t\t\tmensaje: \"Un error ha ocurrido\",\r\n\t\t\t\t\t\t\t\t\t\tclase: \"danger\"\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tdefered.reject(res);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}).finally(function () {\r\n\r\n\t\t\t\t\t\t\tbz.completadoGuardar = true;\r\n\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn promise;\r\n\r\n\t\t};\r\n\r\n\r\n\t\tbz.activarCuadricula = function () {\r\n\r\n\t\t\tbz.cuadricula = !bz.cuadricula;\r\n\r\n\t\t\tif(bz.cuadricula){\r\n\t\t\t\tbz.colorFondoAnterior = bz.colorFondo;\r\n\t\t\t\tbz.colorFondo = 'transparent';\r\n\t\t\t} else {\r\n\t\t\t\tbz.colorFondo = bz.colorFondoAnterior;\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t\tbz.buscarPlanes = function () {\r\n\r\n\t\t\t$rootScope.$broadcast(\"editor:planes\", true);\r\n\r\n\t\t};\r\n\r\n\t\t$scope.$on(\"directiva:planes\", function (evento, datos) {\r\n\r\n\t\t\tvar idFuente = null;\r\n\t\t\tvar idFuenteEslogan = null;\r\n\r\n\t\t\tangular.forEach(bz.fuentes, function (valor) {\r\n\r\n\t\t\t\tif (valor.url == bz.logo.fuente.url) {\r\n\r\n\t\t\t\t\tidFuente = valor.idElemento;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (bz.logo.fuenteEslogan && (valor.url == bz.logo.fuenteEslogan.url)) {\r\n\r\n\t\t\t\t\tidFuenteEslogan = valor.idElemento;\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\r\n\t\t\tbz.datosComprar = {\r\n\t\t\t\tlogo: datos.svg,\r\n\t\t\t\tidLogo: null,\r\n\t\t\t\tidElemento: bz.logo.icono.idElemento,\r\n\t\t\t\ttipo: \"Logo y nombre\",\r\n\t\t\t\tfuentes: {\r\n\t\t\t\t\tprincipal: idFuente,\r\n\t\t\t\t\teslogan: idFuenteEslogan\r\n\t\t\t\t},\r\n\t\t\t\tcolores: datos.colores,\r\n\t\t\t\tplanes: bz.planes,\r\n\t\t\t\tmoneda: bz.moneda,\r\n\t\t\t\teditor: true\r\n\t\t\t};\r\n\r\n\t\t\tif (bz.idLogoPadre) {\r\n\t\t\t\tbz.datosComprar.idPadre = bz.idLogoPadre;\r\n\t\t\t}\r\n\r\n\t\t\tif (bz.logo.idLogo) {\r\n\t\t\t\tbz.datosComprar.idLogo = bz.logo.idLogo;\r\n\t\t\t}\r\n\r\n\t\t\tbz.abrirPlanes = true;\r\n\r\n\t\t});\r\n\r\n\r\n\t\t/////////////////////////////////////\r\n\t\t//////////CAMBIO DE COLOR////////////\r\n\t\t/////////////////////////////////////\r\n\r\n\t\tbz.cambioColor = function (color, objetivo) {\r\n\r\n\t\t\t$rootScope.$broadcast(\"editor:color\", {\r\n\t\t\t\tcolor: color,\r\n\t\t\t\tobjetivo: objetivo\r\n\t\t\t});\r\n\r\n\t\t};\r\n\r\n\r\n\r\n\t\t/////////////////////////////////////\r\n\t\t//////////CAMBIO DE TEXTO////////////\r\n\t\t/////////////////////////////////////        \r\n\r\n\t\tbz.cambioTexto = function (texto, eslogan) {\r\n\r\n\t\t\t$rootScope.$broadcast(\"editor:texto\", {\r\n\t\t\t\ttexto: texto,\r\n\t\t\t\teslogan: eslogan\r\n\t\t\t});\r\n\r\n\t\t};\r\n\r\n\t\tbz.verificarEslogan = function (eslogan) {\r\n\t\t\tif (eslogan === \"\") {\r\n\t\t\t\tbz.esloganActivo = false;\r\n\t\t\t\tbz.logo.fuenteEslogan = null;\r\n\t\t\t\t$rootScope.$broadcast(\"editor:eliminarEslogan\");\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tbz.quitarEsloganDefault = function(eslogan){\r\n\t\t\tif(eslogan === \"Mi eslogan aquí\"){\r\n\t\t\t\tbz.logo.eslogan = \"\";\r\n\r\n\t\t\t\tbz.cambioTexto(\"\", true);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\r\n\r\n\t\t/////////////////////////////////////\r\n\t\t/////////CAMBIO DE FUENTE////////////\r\n\t\t///////////////////////////////////// \r\n\r\n\t\tbz.cambioFuente = function (fuente, objetivo) {\r\n\r\n\t\t\t$rootScope.$broadcast(\"editor:fuente\", {\r\n\t\t\t\tfuente: angular.copy(fuente),\r\n\t\t\t\tobjetivo: objetivo\r\n\t\t\t});\r\n\r\n\t\t};\r\n\r\n\t\t/////////////////////////////////////\r\n\t\t////////CAMBIO DE PROPIEDAS//////////\r\n\t\t///////////////////////////////////// \r\n\r\n\t\tbz.cambioPropiedad = function (propiedad, eslogan) {\r\n\r\n\t\t\t$rootScope.$broadcast(\"editor:propiedad\", {\r\n\t\t\t\tpropiedad: propiedad,\r\n\t\t\t\teslogan: eslogan\r\n\t\t\t});\r\n\r\n\t\t};\r\n\r\n\t\t/////////////////////////////////////\r\n\t\t/////////CAMBIO DE TAMAÑO////////////\r\n\t\t///////////////////////////////////// \r\n\r\n\t\tbz.cambioTamano = function (objetivo, accion) {\r\n\r\n\t\t\t$rootScope.$broadcast(\"editor:tamano\", {\r\n\t\t\t\tobjetivo: objetivo,\r\n\t\t\t\taccion: accion\r\n\t\t\t});\r\n\r\n\t\t};\r\n\r\n\t\t/////////////////////////////////////////////////////////////////////////\r\n\t\t////Disparar el guardado de un svg como copia de comparacion/////////////\r\n\t\t/////////////////////////////////////////////////////////////////////////\r\n\r\n\t\tbz.comparaciones = [];\r\n\r\n\t\tbz.realizarComparacion = function () {\r\n\r\n\t\t\t$rootScope.$broadcast(\"editor:comparar\", true);\r\n\r\n\t\t};\r\n\r\n\t\t$scope.$on(\"directiva:comparar\", function (evento, valor) {\r\n\r\n\t\t\tif (bz.comparaciones.length <= 10) {\r\n\t\t\t\tbz.comparaciones.push(valor);\r\n\t\t\t}\r\n\r\n\t\t});\r\n\r\n\t\tbz.removerComparacion = function (comparacion) {\r\n\r\n\t\t\tvar indice = bz.comparaciones.indexOf(comparacion);\r\n\t\t\tbz.comparaciones.splice(indice, 1);\r\n\t\t};\r\n\r\n\t\t//////////////////////////////////////////\r\n\t\t///////////CAMBIAR ORIENTACION////////////\r\n\t\t//////////////////////////////////////////\r\n\r\n\r\n\t\tbz.cambiarOrientacion = function (orientacion) {\r\n\r\n\t\t\t$rootScope.$broadcast(\"editor:orientacion\", orientacion);\r\n\r\n\t\t};\r\n\r\n\r\n\t\t/*//////////////////////////////////////\r\n\t\t///////CAMBIAR TABS EN SELECCION////////\r\n\t\t////////////////////////////////////////\r\n\r\n\t\t$scope.$on(\"directiva:tabs\", function (evento, valor) {\r\n\t\t\tconsole.log(valor)\r\n\t\t\tbz.menuSwitch = valor;\r\n\r\n\t\t});*/\r\n\r\n\t\t////////////////////////////////////////\r\n\t\t///////BUSCAR Y REEMPLAZAR ICONO////////\r\n\t\t////////////////////////////////////////\r\n\r\n\t\tbz.iconos = [];\r\n\r\n\t\tbz.completadoBuscar = true;\r\n\r\n\t\t/* Etiquetas */\r\n\r\n\t\tbz.selectedItem = null;\r\n\t\tbz.searchText = null;\r\n\t\tbz.etiquetasFunciones = etiquetasService;\r\n\r\n\t\tetiquetasService.listarEtiquetas().then(function (res) {\r\n\t\t\tbz.etiquetas = etiquetasService.loadEtiquetas(res.data);\r\n\t\t}).catch(function () {});\r\n\r\n\t\tbz.etiquetasSeleccionadas = [];\r\n\r\n\t\tbz.buscarIconos = function (idCategoria, valido) {\r\n\r\n\t\t\tbz.iconosForm.$setSubmitted();\r\n\r\n\t\t\tif (valido && bz.completadoBuscar) {\r\n\r\n\t\t\t\tbz.completadoBuscar = false;\r\n\r\n\t\t\t\tvar tags = [];\r\n\t\t\t\tvar iconos = [];\r\n\r\n\t\t\t\tangular.forEach(bz.etiquetasSeleccionadas, function (valor) {\r\n\t\t\t\t\ttags.push(valor.traduccion.valor);\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (bz.iconos.length > 0) {\r\n\t\t\t\t\tangular.forEach(bz.iconos, function (valor) {\r\n\t\t\t\t\t\ticonos.push(valor.idElemento);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbz.cerrarContenedores();\r\n\t\t\t\tbz.contenedores.busquedaIconos = true;\r\n\r\n\t\t\t\telementosService.listarIconosSegunTags(tags, idCategoria, iconos, 17).then(function (res) {\r\n\t\t\t\t\tbz.iconos = [];\r\n\t\t\t\t\tbz.iconos = res;\r\n\r\n\t\t\t\t}).catch(function (res) {\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t}).finally(function () {\r\n\t\t\t\t\tbz.completadoBuscar = true;\r\n\t\t\t\t});\r\n\t\t\t\t/*\r\n\t\t\t\tcategoriasService.listaCategoriasElementos(idCategoria, \"ICONO\")\r\n\t\t\t\t\t.then(function (res) {\r\n\t\t\t\t\t\tbz.iconos = [];\r\n\t\t\t\t\t\tbz.iconos = res;\r\n\t\t\t\t\t}).finally(function () {\r\n\t\t\t\t\t\tbz.completadoBuscar = true;\r\n\t\t\t\t\t});\r\n\t\t\t\t\t*/\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\r\n\r\n\t\tbz.reemplazarIcono = function (icono) {\r\n\r\n\t\t\tbz.logo.icono = icono;\r\n\t\t\t$rootScope.$broadcast(\"editor:reemplazar\", bz.base64.decode(icono.svg));\r\n\r\n\t\t};\r\n\r\n\t\t$scope.$on(\"directiva:restaurarEslogan\", function (evento, datos) {\r\n\r\n\t\t\tif (datos.accion) {\r\n\r\n\t\t\t\tvar fuenteElegida = null;\r\n\r\n\t\t\t\tangular.forEach(bz.fuentes, function (valor) {\r\n\r\n\t\t\t\t\tif (valor.nombre == datos.fuente.nombre) {\r\n\r\n\t\t\t\t\t\tfuenteElegida = {\r\n\t\t\t\t\t\t\tnombre: valor.nombre,\r\n\t\t\t\t\t\t\turl: valor.url\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\t\tbz.logo.fuenteEslogan = fuenteElegida;\r\n\t\t\t\tbz.esloganActivo = true;\r\n\t\t\t} else {\r\n\t\t\t\tbz.logo.eslogan = \"\";\r\n\t\t\t\tbz.logo.fuenteEslogan = null;\r\n\t\t\t\tbz.esloganActivo = false;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\r\n\r\n\t\tbz.agregarEslogan = function () {\r\n\r\n\t\t\tbz.logo.eslogan = \"Mi eslogan aquí\";\r\n\t\t\tbz.logo.fuenteEslogan = bz.logo.fuente;\r\n\r\n\t\t\t$rootScope.$broadcast(\"editor:agregarEslogan\", {\r\n\t\t\t\teslogan: bz.logo.eslogan,\r\n\t\t\t\tfuente: bz.logo.fuenteEslogan\r\n\t\t\t});\r\n\r\n\t\t\tbz.esloganActivo = true;\r\n\r\n\t\t};\r\n\r\n\t\t//////////////////////////////////////////\r\n\t\t////////RESTAURAR COMPARACIONES///////////\r\n\t\t//////////////////////////////////////////\r\n\r\n\t\tbz.restaurarComparacion = function (comparacion) {\r\n\r\n\t\t\t$rootScope.$broadcast(\"editor:restaurar\", comparacion);\r\n\r\n\t\t};\r\n\r\n\t\t/*\r\n\t\t$scope.$on(\"sesionExpiro\", function () {\r\n\r\n\t\t\t$state.go(\"inicio\");\r\n\r\n\t\t});\r\n\t\t*/\r\n\r\n\t\t/* PLANES */\r\n\r\n\t\tbz.monedas = {};\r\n\t\tbz.moneda = {};\r\n\t\tbz.monedaDefault = {};\r\n\t\tbz.planes = [];\r\n\t\tbz.impuesto = 0;\r\n\r\n\t\tpedidosService.listarPlanes().then(function (res) {\r\n\r\n\t\t\tbz.monedaDefault = {\r\n\t\t\t\tsimbolo: res.monedaDefault.codigo,\r\n\t\t\t\tidMoneda: res.monedaDefault.idMoneda\r\n\t\t\t};\r\n\r\n\t\t\tbz.impuesto = res.impuesto;\r\n\r\n\t\t\tbz.planes = res.planes;\r\n\r\n\t\t\tangular.forEach(res.planes, function (plan) {\r\n\r\n\t\t\t\tangular.forEach(plan.precios, function (precio) {\r\n\r\n\t\t\t\t\tif (!bz.monedas[precio.moneda]) {\r\n\r\n\t\t\t\t\t\tbz.monedas[precio.moneda] = {\r\n\t\t\t\t\t\t\tsimbolo: precio.moneda,\r\n\t\t\t\t\t\t\tidMoneda: precio.idMoneda\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\t});\r\n\r\n\t\t\tbz.moneda = bz.monedaDefault;\r\n\r\n\t\t});\r\n\r\n\t\tbz.precioSeleccionado = function (precios) {\r\n\r\n\t\t\tvar precioFinal = \"\";\r\n\r\n\t\t\tangular.forEach(precios, function (valor) {\r\n\r\n\t\t\t\tif (valor.moneda == bz.moneda.simbolo) {\r\n\r\n\t\t\t\t\tprecioFinal = valor.moneda + \" \" + valor.precio;\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\r\n\t\t\treturn precioFinal;\r\n\r\n\t\t};\r\n\r\n\t\tbz.abrirContenedor = function(contenedor, noCerrar){\r\n\t\t\t\r\n\t\t\tif(!noCerrar && bz.contenedores[contenedor]) return bz.contenedores[contenedor] = false;\r\n\r\n\t\t\tbz.cerrarContenedores(contenedor);\r\n\r\n\t\t\tbz.contenedores[contenedor] = true;\r\n\t\t};\r\n\r\n\t\tbz.cerrarContenedores = function(contenedor){\r\n\r\n\t\t\t$scope.$broadcast(\"editor:cerrarColorPickers\", true);\r\n\r\n\t\t\tangular.forEach(bz.contenedores, function(el, k){\r\n\t\t\t\tif(contenedor == k) return;\r\n\t\t\t\tbz.contenedores[k] = false;\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t}]);\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/controllers/editor.controller.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/controllers/header.js":
/*!***********************************************************!*\
  !*** ./public/creador-de-logos/app/controllers/header.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("angular.module(\"disenador-de-logos\")\r\n\r\n/* header */\r\n\r\n\t.controller(\"headerController\", [\"$state\", \"clientesService\", \"$rootScope\", \"$scope\", \"mostrarPasoPopAyudaFactory\", \"verificarBase64Factory\", function ($state, clientesService, $rootScope, $scope, mostrarPasoPopAyudaFactory, verificarBase64Factory) {\r\n\r\n\t\tvar bz = this;\r\n\r\n\t\tbz.salir = function () {\r\n\t\t\tclientesService.salir(true, true);\r\n\t\t};\r\n\r\n\t\tbz.verificarBase64 = verificarBase64Factory;\r\n    \r\n\t\tbz.autorizado = clientesService.autorizado();\r\n        \r\n\t\tbz.mostrarPasoPopAyuda = mostrarPasoPopAyudaFactory\r\n\t\t\r\n\r\n\t\t$scope.$on(\"sesionExpiro\", function () {\r\n\r\n\t\t\tbz.autorizado = clientesService.autorizado();\r\n\r\n\t\t});\r\n\r\n\t\t$scope.$on(\"sesionInicio\", function () {\r\n\r\n\t\t\tbz.autorizado = clientesService.autorizado();\r\n\r\n\t\t});\r\n\r\n\t}]);\r\n\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/controllers/header.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/controllers/index.js":
/*!**********************************************************!*\
  !*** ./public/creador-de-logos/app/controllers/index.js ***!
  \**********************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _cuenta_controller_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./cuenta.controller.js */ \"./public/creador-de-logos/app/controllers/cuenta.controller.js\");\n/* harmony import */ var _cuenta_controller_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_cuenta_controller_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _descargar_controller_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./descargar.controller.js */ \"./public/creador-de-logos/app/controllers/descargar.controller.js\");\n/* harmony import */ var _descargar_controller_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_descargar_controller_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _editor_controller_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./editor.controller.js */ \"./public/creador-de-logos/app/controllers/editor.controller.js\");\n/* harmony import */ var _editor_controller_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_editor_controller_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _header_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./header.js */ \"./public/creador-de-logos/app/controllers/header.js\");\n/* harmony import */ var _header_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_header_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _inicio_controller_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./inicio.controller.js */ \"./public/creador-de-logos/app/controllers/inicio.controller.js\");\n/* harmony import */ var _inicio_controller_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_inicio_controller_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _login_controller_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./login.controller.js */ \"./public/creador-de-logos/app/controllers/login.controller.js\");\n/* harmony import */ var _login_controller_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_login_controller_js__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _logos_controller_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./logos.controller.js */ \"./public/creador-de-logos/app/controllers/logos.controller.js\");\n/* harmony import */ var _logos_controller_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_logos_controller_js__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _logosGaleria_controller_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./logosGaleria.controller.js */ \"./public/creador-de-logos/app/controllers/logosGaleria.controller.js\");\n/* harmony import */ var _logosGaleria_controller_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_logosGaleria_controller_js__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _pago_controller_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./pago.controller.js */ \"./public/creador-de-logos/app/controllers/pago.controller.js\");\n/* harmony import */ var _pago_controller_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_pago_controller_js__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _pagoCompleto_controller_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./pagoCompleto.controller.js */ \"./public/creador-de-logos/app/controllers/pagoCompleto.controller.js\");\n/* harmony import */ var _pagoCompleto_controller_js__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_pagoCompleto_controller_js__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _papeleria_controller_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./papeleria.controller.js */ \"./public/creador-de-logos/app/controllers/papeleria.controller.js\");\n/* harmony import */ var _papeleria_controller_js__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_papeleria_controller_js__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _papeleriaEditor_controller__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./papeleriaEditor.controller */ \"./public/creador-de-logos/app/controllers/papeleriaEditor.controller.js\");\n/* harmony import */ var _papeleriaEditor_controller__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_papeleriaEditor_controller__WEBPACK_IMPORTED_MODULE_11__);\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/controllers/index.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/controllers/inicio.controller.js":
/*!**********************************************************************!*\
  !*** ./public/creador-de-logos/app/controllers/inicio.controller.js ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("angular.module(\"disenador-de-logos\")\r\n\r\n\t.controller(\"inicioController\", [\"categoriasService\", \"preferenciasService\", \"elementosService\", \"$stateParams\", \"$q\", \"$scope\", \"$state\", \"crearLogoFactory\", \"clientesService\", \"$mdToast\", \"$timeout\", \"logosService\", \"$base64\", \"coloresFactory\", \"landingResolve\", \"coloresPaletteValue\", \"etiquetasService\", \"pedidosService\", \"$rootScope\", \"$location\", \"Socialshare\", function (categoriasService, preferenciasService, elementosService, $stateParams, $q, $scope, $state, crearLogoFactory, clientesService, $mdToast, $timeout, logosService, $base64, coloresFactory, landingResolve, coloresPaletteValue, etiquetasService, pedidosService, $rootScope, $location, Socialshare) {\r\n\r\n\t\tvar bz = this;\r\n\r\n\t\tbz.base64 = $base64;\r\n\r\n\t\tbz.obtenerColores = function(coloresArray){\r\n\t\t\treturn coloresFactory(angular.copy(coloresArray));\r\n\t\t};\r\n\r\n\t\tbz.colorRandom =  function (largoArray) {\r\n\r\n\t\t\tvar i = Math.floor(Math.random() * largoArray) + 0;\r\n\t\t\treturn i;\r\n\t\t};\r\n\r\n\t\tbz.palettes = coloresPaletteValue;\r\n\r\n\t\tif (landingResolve) {\r\n\t\t\tbz.palettesCopy = landingResolve.palettesCopy;\r\n\t\t}\r\n\r\n\t\tbz.datos = landingResolve ? landingResolve.datos : {\r\n\t\t\tnombre: \"Mi logo\",\r\n\t\t\tpreferencias: [],\r\n\t\t\tcategoria: {\r\n\t\t\t\ticono: \"\",\r\n\t\t\t\tfuente: \"\"\r\n\t\t\t},\r\n\t\t\tetiquetasSeleccionadas: []\r\n\t\t};\r\n\r\n\r\n\t\t\r\n\r\n\t\tbz.urlCompartir = $location.port() != \"80\" ? $location.protocol() + \"://\" + $location.host() + \":\" + $location.port() : $location.protocol() + \"://\" + $location.host();\r\n\r\n\r\n\t\tbz.completadoCompartirSocial = true;\r\n\t\tbz.compartir = function(provider, logo) {\r\n\r\n\r\n\t\t\tif (!clientesService.autorizado()) {\r\n\r\n\t\t\t\t$rootScope.mostrarModalLogin = true;\r\n\t\t\t\t$rootScope.callbackLogin = false;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif(bz.completadoCompartirSocial){\r\n\t\t\t\t\r\n\t\t\t\tbz.completadoCompartirSocial = false;\r\n\r\n\t\t\t\tvar defered = $q.defer();\r\n\t\t\t\tvar compartirPromise = defered.promise;\r\n\r\n\t\t\t\tif (!logo.idLogo) {\r\n\r\n\t\t\t\t\tbz.guardarLogo(logo.cargado, \"Logo y nombre\", logo.icono.idElemento, logo.fuente.idElemento)\r\n\t\t\t\t\t\t.then(function (res) {\r\n\t\t\t\t\t\t\tlogo.idLogo = res;\r\n\r\n\t\t\t\t\t\t\tvar unix = Date.now();\r\n\r\n\t\t\t\t\t\t\tvar attrs = {\r\n\t\t\t\t\t\t\t\tsocialshareUrl: bz.urlCompartir + $location.path() + \"?idLogo=\" + logo.idLogo + \"&unix=\" + unix\r\n\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\tswitch (provider) {\r\n\t\t\t\t\t\t\tcase \"twitter\":\r\n\t\t\t\t\t\t\t\tattrs.socialshareHashtags = \"Liderlogo\";\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t\tcase \"pinterest\":\r\n\t\t\t\t\t\t\t\tattrs.socialshareMedia = bz.urlCompartir+\"/app/logo/compartido/\"+logo.idLogo; attrs.socialshareText = \"Pinterest\";\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tSocialshare.share({\r\n\t\t\t\t\t\t\t\t\"provider\": provider,\r\n\t\t\t\t\t\t\t\t\"attrs\": attrs\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(function () {\r\n\t\t\t\t\t\t\t$mdToast.show($mdToast.base({\r\n\t\t\t\t\t\t\t\targs: {\r\n\t\t\t\t\t\t\t\t\tmensaje: \"Un error ha ocurrido\",\r\n\t\t\t\t\t\t\t\t\tclase: \"danger\"\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.finally(function () {\r\n\t\t\t\t\t\t\tdefered.resolve();\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t} else{\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar unix = Date.now();\r\n\r\n\t\t\t\t\tvar attrs = {\r\n\t\t\t\t\t\tsocialshareUrl: bz.urlCompartir + $location.path() + \"?idLogo=\" + logo.idLogo + \"&unix=\" + unix\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tswitch (provider) {\r\n\t\t\t\t\tcase \"twitter\":\r\n\t\t\t\t\t\tattrs.socialshareHashtags = \"Liderlogo\";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\r\n\t\t\t\t\tcase \"pinterest\":\r\n\t\t\t\t\t\tattrs.socialshareMedia = bz.urlCompartir+\"/app/logo/compartido/\"+logo.idLogo; attrs.socialshareText = \"Pinterest\";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tSocialshare.share({\r\n\t\t\t\t\t\t\"provider\": provider,\r\n\t\t\t\t\t\t\"attrs\": attrs\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tdefered.resolve();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcompartirPromise.finally(function(){\r\n\t\t\t\t\tbz.completadoCompartirSocial = true;\r\n\t\t\t\t});\r\n\r\n\t\t\t}\r\n\t\t\t\r\n\r\n\t\t};\r\n\r\n\r\n\t\tbz.compartirPorEmailUrl = function () {\r\n\r\n\t\t\tvar datosFormat = angular.copy(bz.datos);\r\n\r\n\t\t\tangular.forEach(datosFormat.etiquetasSeleccionadas, function(valor){\r\n\t\t\t\tif(valor.$$hashKey){\r\n\t\t\t\t\tdelete valor.$$hashKey;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tdelete datosFormat.fuentes;\r\n\t\t\tdelete datosFormat.colores;\r\n\r\n\t\t\tvar datos = {\r\n\t\t\t\tdatos: datosFormat,\r\n\t\t\t\tpalettesCopy: bz.palettesCopy,\r\n\t\t\t\tlogoCompartido: true\r\n\t\t\t};\r\n\r\n\t\t\tvar url = bz.urlCompartir + $location.path() + \"?datos=\"+ encodeURI(angular.toJson(datos));\r\n\r\n\t\t\treturn url;\r\n\t\t};\r\n\r\n\t\tcategoriasService.listaCategorias(\"FUENTE\")\r\n\t\t\t.then(function (res) {\r\n\t\t\t\tbz.datos.fuentes = res;\r\n\t\t\t})\r\n\t\t\t.catch(function () {});\r\n\r\n\t\tbz.coloresIguales = function (color) {\r\n\r\n\t\t\tvar coincidencia;\r\n\r\n\t\t\tangular.forEach(bz.datos.colores, function (datosColor) {\r\n\r\n\t\t\t\tif (angular.equals(color, datosColor)) {\r\n\t\t\t\t\tcoincidencia = true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\treturn coincidencia;\r\n\r\n\t\t};\r\n\r\n\t\tbz.jqueryScrollbarOptions = {};\r\n\r\n\t\tbz.iconos = [];\r\n\r\n\t\tbz.fuentes = [];\r\n\r\n\t\tbz.logos = [];\r\n\r\n\t\tbz.aprobados = [];\r\n\r\n\t\tbz.logoSeleccionado = null;\r\n\t\tbz.logoElegido = null;\r\n\t\tbz.predisenadoSeleccionado = null;\r\n\r\n\t\tbz.objetivoEditor = null; //posibles valores 'nuevo' o 'predisenado'\r\n\r\n\t\tbz.categoriasPosibles = {\r\n\t\t\tfuentes: [],\r\n\t\t\ticonos: []\r\n\t\t};\r\n\r\n\t\tbz.preferencias = [];\r\n\r\n\t\tcategoriasService.listaCategorias(\"ICONO\").then(function (res) {\r\n\t\t\tbz.categoriasPosibles.iconos = res;\r\n\t\t}).catch(function () {});\r\n\r\n\t\tcategoriasService.listaCategorias(\"FUENTE\").then(function (res) {\r\n\t\t\tbz.categoriasPosibles.fuentes = res;\r\n\t\t}).catch(function () {});\r\n\r\n\t\tbz.combinar = function (iconos, fuentes) {\r\n\r\n\t\t\tbz.datos.colores = [];\r\n\r\n\t\t\tangular.forEach(bz.palettesCopy, function (palettes, indicePalettes) {\r\n\t\t\t\tangular.forEach(palettes, function (palette, indicePalette) {\r\n\t\t\t\t\tif (palette) {\r\n\t\t\t\t\t\tbz.datos.colores.push(bz.palettes[indicePalettes][indicePalette]);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tvar logos = crearLogoFactory(iconos, fuentes);\r\n\r\n\t\t\tbz.logos = logos;\r\n\t\t\t/*\r\n\t\t\tvar cantidadLogos = logos.length;\r\n\t\t\t\r\n\t\t\twhile (cantidadLogos) {\r\n\r\n\t\t\t\tvar indiceRandom = Math.floor(Math.random() * (cantidadLogos - 1)) + 0;\r\n\t\t\t\tbz.logos.push(logos[indiceRandom]);\r\n\t\t\t\tlogos.splice(indiceRandom, 1);\r\n\t\t\t\tcantidadLogos--;\r\n\t\t\t}*/\r\n\t\t\t/*\r\n\t\t\tangular.element(\".contenedor-principal > div\").animate({\r\n\t\t\t\tscrollTop: 0\r\n\t\t\t}, 1000);*/\r\n\r\n\t\t};\r\n\r\n\t\tbz.completado = true;\r\n\r\n\t\t// Si no es un logo compartido\r\n\r\n\t\tif (landingResolve && !landingResolve.logoCompartido) {\r\n\t\t\tbz.combinar(landingResolve.iconos, landingResolve.fuentes);\r\n\t\t}\r\n\r\n\t\tbz.solicitarElementos = function (inicial) {\r\n\r\n\t\t\tif (bz.completado) {\r\n\r\n\t\t\t\tif (bz.datosForm && !bz.datosForm.$valid && !landingResolve.logoCompartido) return;\r\n\r\n\t\t\t\tbz.completado = false;\r\n\r\n\t\t\t\tvar tags = [];\r\n\r\n\t\t\t\tangular.forEach(bz.datos.etiquetasSeleccionadas, function (tag) {\r\n\t\t\t\t\ttags.push(tag.traduccion.valor);\r\n\t\t\t\t});\r\n\r\n\t\t\t\tvar promesaIconos = inicial ? elementosService.listarIniciales(inicial) : elementosService.listarIconosSegunTags(tags, bz.datos.categoria.icono, bz.iconos, 12);\r\n\t\t\t\tvar promesaFuentes = elementosService.listaFuentesSegunPref(bz.datos.categoria.fuente, bz.datos.preferencias, 12);\r\n\r\n\t\t\t\t$q.all([\r\n\t\t\t\t\tpromesaIconos,\r\n\t\t\t\t\tpromesaFuentes\r\n\t\t\t\t])\r\n\t\t\t\t\t.then(function (res) {\r\n\r\n\t\t\t\t\t\tangular.forEach(res[0], function (icono) {\r\n\t\t\t\t\t\t\tbz.iconos.push(icono.idElemento);\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tbz.combinar(res[0], res[1]);\r\n\r\n\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function () {\r\n\t\t\t\t\t\t//console.log(res)\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.finally(function () {\r\n\r\n\t\t\t\t\t\tbz.completado = true;\r\n\r\n\t\t\t\t\t});\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t\t// Si es un logo compartido \r\n\t\tif (landingResolve && landingResolve.logoCompartido) {\r\n\t\t\tbz.solicitarElementos();\r\n\t\t}\r\n\r\n\t\tbz.preAvanzar = function (logo) {\r\n\t\t\tbz.logoSeleccionado = bz.logos.indexOf(logo);\r\n\t\t\tbz.avanzar();\r\n\t\t};\r\n\r\n\t\tbz.avanzar = function () {\r\n\r\n\r\n\t\t\tvar logoSeleccionado = angular.copy(bz.logos[bz.logoSeleccionado]);\r\n\r\n\t\t\tif(logoSeleccionado.idLogo){\r\n\t\t\t\tlogoSeleccionado.icono.svg = bz.base64.encode(logoSeleccionado.cargado); \r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar datos = {\r\n\t\t\t\tstatus: true,\r\n\t\t\t\tdatos: {\r\n\t\t\t\t\tlogo: logoSeleccionado,\r\n\t\t\t\t\ttexto: bz.datos.nombre,\r\n\t\t\t\t\tcategoria: logoSeleccionado.icono.categorias_idCategoria,\r\n\t\t\t\t\tcolores: [logoSeleccionado.colores[0], logoSeleccionado.colores[logoSeleccionado.random]]\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\t$state.go(\"editor\", datos);\r\n\r\n\t\t};\r\n\r\n\t\tbz.comprarLogo = function (svg, colores, logo, idLogo, v) {\r\n\t\t\tbz.datosComprar = {\r\n\t\t\t\tlogo: svg,\r\n\t\t\t\tidLogo: idLogo,\r\n\t\t\t\tidElemento: logo.icono.idElemento,\r\n\t\t\t\ttipo: \"Logo y nombre\",\r\n\t\t\t\tfuentes: {\r\n\t\t\t\t\tprincipal: logo.fuente.idElemento\r\n\t\t\t\t},\r\n\t\t\t\tcolores: {\r\n\t\t\t\t\tfondo: colores[1],\r\n\t\t\t\t\ticono: colores[0],\r\n\t\t\t\t\tnombre: colores[0]\r\n\t\t\t\t},\r\n\t\t\t\tplanes: bz.planes,\r\n\t\t\t\tmoneda: bz.moneda\r\n\t\t\t};\r\n\r\n\t\t\tif (v) {\r\n\t\t\t\treturn bz.verPrevisualizar = true;\r\n\t\t\t}\r\n\t\t\tbz.abrirPlanes = true;\r\n\t\t};\r\n\r\n\t\t/* guardar logo */\r\n\r\n\r\n\t\tbz.preGuardarLogo = function (logo) {\r\n\r\n\t\t\tif (logo.idLogo) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (!clientesService.autorizado()) {\r\n\r\n\t\t\t\t$rootScope.mostrarModalLogin = true;\r\n\t\t\t\t$rootScope.callbackLogin = false;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\r\n\t\t\tbz.guardarLogo(logo.cargado, \"Logo y nombre\", logo.icono.idElemento, logo.fuente.idElemento)\r\n\r\n\t\t\t\t.then(function (res) {\r\n\r\n\t\t\t\t\tvar indiceLogo = bz.logos.indexOf(logo);\r\n\r\n\t\t\t\t\tbz.logos[indiceLogo].idLogo = res;\r\n\r\n\t\t\t\t\t$mdToast.show($mdToast.base({\r\n\t\t\t\t\t\targs: {\r\n\t\t\t\t\t\t\tmensaje: \"Su logo ha sido guardado con exito!\",\r\n\t\t\t\t\t\t\tclase: \"success\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}));\r\n\t\t\t\t})\r\n\t\t\t\t.catch(function () {\r\n\t\t\t\t\t$mdToast.show($mdToast.base({\r\n\t\t\t\t\t\targs: {\r\n\t\t\t\t\t\t\tmensaje: \"Un error ha ocurrido\",\r\n\t\t\t\t\t\t\tclase: \"danger\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}));\r\n\t\t\t\t});\r\n\r\n\t\t};\r\n\r\n\t\tbz.completadoGuardar = true;\r\n\r\n\t\tbz.guardarLogo = function (logo, tipoLogo, idElemento, idFuentePrincipal) {\r\n\r\n\t\t\tvar defered = $q.defer();\r\n\t\t\tvar promise = defered.promise;\r\n\r\n\t\t\tif (bz.completadoGuardar) {\r\n\r\n\t\t\t\tbz.completadoGuardar = false;\r\n\r\n\t\t\t\tlogosService.guardarLogo(bz.base64.encode(logo), tipoLogo, idElemento, idFuentePrincipal)\r\n\r\n\t\t\t\t\t.then(function (res) {\r\n\t\t\t\t\t\tdefered.resolve(res);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function (res) {\r\n\t\t\t\t\t\tdefered.reject(res);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.finally(function () {\r\n\t\t\t\t\t\tbz.completadoGuardar = true;\r\n\t\t\t\t\t});\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn promise;\r\n\r\n\t\t};\r\n\r\n\t\tbz.completadoCompartir = true;\r\n\t\tbz.compartirPorEmail = function (email, logo, valido) {\r\n\r\n\t\t\tif (!clientesService.autorizado()) {\r\n\r\n\t\t\t\t$rootScope.mostrarModalLogin = true;\r\n\t\t\t\t$rootScope.callbackLogin = false;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (valido && bz.completadoCompartir) {\r\n\r\n\t\t\t\tbz.completadoCompartir = false;\r\n\r\n\t\t\t\tvar defered = $q.defer();\r\n\t\t\t\tvar emailPromise = defered.promise;\r\n\r\n\t\t\t\tif (!logo.idLogo) {\r\n\r\n\t\t\t\t\tbz.guardarLogo(logo.cargado, \"Logo y nombre\", logo.icono.idElemento, logo.fuente.idElemento)\r\n\t\t\t\t\t\t.then(function (res) {\r\n\t\t\t\t\t\t\tlogo.idLogo = res;\r\n\t\t\t\t\t\t\tvar url = bz.compartirPorEmailUrl();\r\n\r\n\t\t\t\t\t\t\tlogosService.enviarPorEmail(logo.idLogo, email, url)\r\n\t\t\t\t\t\t\t\t.then(function () {\r\n\t\t\t\t\t\t\t\t\t$mdToast.show($mdToast.base({\r\n\t\t\t\t\t\t\t\t\t\targs: {\r\n\t\t\t\t\t\t\t\t\t\t\tmensaje: \"Su logo ha sido enviado!\",\r\n\t\t\t\t\t\t\t\t\t\t\tclase: \"success\"\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}));\r\n\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t.catch(function () {\r\n\t\t\t\t\t\t\t\t\t$mdToast.show($mdToast.base({\r\n\t\t\t\t\t\t\t\t\t\targs: {\r\n\t\t\t\t\t\t\t\t\t\t\tmensaje: \"Un error ha ocurrido\",\r\n\t\t\t\t\t\t\t\t\t\t\tclase: \"danger\"\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t.finally(function () {\r\n\t\t\t\t\t\t\t\t\tdefered.resolve();\r\n\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(function () {\r\n\t\t\t\t\t\t\t$mdToast.show($mdToast.base({\r\n\t\t\t\t\t\t\t\targs: {\r\n\t\t\t\t\t\t\t\t\tmensaje: \"Un error ha ocurrido\",\r\n\t\t\t\t\t\t\t\t\tclase: \"danger\"\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\tdefered.resolve();\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar url = bz.compartirPorEmailUrl();\r\n\t\t\t\t\tlogosService.enviarPorEmail(logo.idLogo, email, url)\r\n\t\t\t\t\t\t.then(function () {\r\n\t\t\t\t\t\t\t$mdToast.show($mdToast.base({\r\n\t\t\t\t\t\t\t\targs: {\r\n\t\t\t\t\t\t\t\t\tmensaje: \"Su logo ha sido enviado!\",\r\n\t\t\t\t\t\t\t\t\tclase: \"success\"\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}));\r\n\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(function () {\r\n\t\t\t\t\t\t\t$mdToast.show($mdToast.base({\r\n\t\t\t\t\t\t\t\targs: {\r\n\t\t\t\t\t\t\t\t\tmensaje: \"Un error ha ocurrido\",\r\n\t\t\t\t\t\t\t\t\tclase: \"danger\"\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.finally(function () {\r\n\t\t\t\t\t\t\tdefered.resolve();\r\n\t\t\t\t\t\t});\r\n\r\n\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\temailPromise.finally(function () {\r\n\t\t\t\t\tbz.completadoCompartir = true;\r\n\t\t\t\t});\r\n\r\n\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t/* Etiquetas */\r\n\r\n\t\tbz.selectedItem = null;\r\n\t\tbz.searchText = null;\r\n\t\tbz.etiquetasFunciones = etiquetasService;\r\n\r\n\t\tetiquetasService.listarEtiquetas().then(function (res) {\r\n\t\t\tbz.etiquetas = etiquetasService.loadEtiquetas(res.data);\r\n\t\t}).catch(function () {\r\n\t\t\t//console.log(res)\r\n\t\t});\r\n\r\n\t}]);\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/controllers/inicio.controller.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/controllers/login.controller.js":
/*!*********************************************************************!*\
  !*** ./public/creador-de-logos/app/controllers/login.controller.js ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("angular.module(\"disenador-de-logos\")\r\n\r\n\t.controller(\"loginController\", [\"$state\", \"$rootScope\", function ($state, $rootScope) {\r\n\t\t\r\n\t\t$rootScope.callbackLogin = function () {\r\n\t\t\t$state.go('logos');\r\n\t\t};\r\n\r\n\t}]);\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/controllers/login.controller.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/controllers/logos.controller.js":
/*!*********************************************************************!*\
  !*** ./public/creador-de-logos/app/controllers/logos.controller.js ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("angular.module(\"disenador-de-logos\")\r\n\r\n\t.controller(\"logosController\", [\"$scope\", \"pedidosService\", \"$window\", \"$state\", \"logosService\", \"$base64\", \"$mdToast\", \"arrayToJsonMetasFactory\", \"$location\", \"Socialshare\",\"$q\", function ($scope, pedidosService, $window, $state, logosService, $base64, $mdToast, arrayToJsonMetasFactory, $location, Socialshare, $q) {\r\n\r\n\t\tvar bz = this;\r\n\r\n\t\tbz.base64 = $base64;\r\n\r\n\t\tbz.opcionMostrar = \"guardados\";\r\n\r\n\t\tbz.guardados = [];\r\n\t\tbz.comprados = [];\r\n\r\n\t\tbz.elegido = null;\r\n\r\n\t\tbz.salto = {\r\n\t\t\tcomprados: 0,\r\n\t\t\tguardados: 0\r\n\t\t};\r\n\r\n\t\tbz.cantidad = {\r\n\r\n\t\t\tcomprados: 0,\r\n\t\t\tguardados: 0\r\n\r\n\t\t};\r\n\r\n\t\tbz.terminados = {\r\n\r\n\t\t\tcomprados: false,\r\n\t\t\tguardados: false\r\n\r\n\t\t};\r\n\r\n\t\tbz.actual = 1;\r\n\t\t\r\n\t\t$scope.$watch(\"logos.actual\", function (newValue, oldValue) {\r\n\r\n\t\t\tif (newValue === oldValue) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tbz.mostrarPlanes(newValue, true);\r\n\t\t});\r\n\r\n\t\tlogosService.mostrarGuardados()\r\n\t\t\t.then(function (res) {\r\n\r\n\t\t\t\tbz.guardados = res;\r\n\t\t\t\tbz.cantidad.guardados = bz.guardados.length;\r\n\r\n\t\t\t\tbz.mostrarPlanes(bz.actual, true);\r\n\r\n\t\t\t})\r\n\t\t\t.catch(function () {\r\n\r\n\t\t\t})\r\n\t\t\t.finally(function () {\r\n\t\t\t\tbz.terminados.guardados = true;\r\n\t\t\t});\r\n\r\n\r\n\t\tlogosService.mostrarComprados()\r\n\t\t\t.then(function (res) {\r\n\r\n\t\t\t\tbz.comprados = res;\r\n\t\t\t\tbz.cantidad.comprados = bz.comprados.length;\r\n\r\n\t\t\t})\r\n\t\t\t.catch(function () {\r\n\r\n\t\t\t})\r\n\t\t\t.finally(function () {\r\n\t\t\t\tbz.terminados.comprados = true;\r\n\t\t\t});\r\n\r\n\r\n\t\tbz.modificarSalto = function (accion, objetivo) {\r\n\r\n\t\t\tif (accion) {\r\n\r\n\t\t\t\tif (bz[objetivo][bz.salto[objetivo] + 9]) {\r\n\r\n\t\t\t\t\tbz.salto[objetivo] = bz.salto[objetivo] + 9;\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if ((bz.salto[objetivo] - 9) >= 0) {\r\n\r\n\t\t\t\tbz.salto[objetivo] = bz.salto[objetivo] - 9;\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\r\n\t\tbz.urlCompartir = $location.port() != \"80\" ? $location.protocol() + \"://\" + $location.host() + \":\" + $location.port() : $location.protocol() + \"://\" + $location.host();\r\n\r\n\t\tbz.mostrarModalSocial = false;\r\n\t\tbz.idLogoCompartir = null;\r\n\r\n\t\tbz.abrirModal = function (idLogo) {\r\n\t\t\tbz.mostrarModalSocial = true;\r\n\t\t\tbz.idLogoCompartir = idLogo;\r\n\r\n\t\t};\r\n\r\n\t\tbz.borradoCompleto = true;\r\n\r\n\t\tbz.borrarLogo = function (idLogo) {\r\n\t\t\t\r\n\t\t\tif (bz.borradoCompleto) {\r\n\r\n\t\t\t\tvar defered = $q.defer();\r\n\r\n\t\t\t\tvar promise = defered.promise;\r\n\r\n\t\t\t\tbz.borradoCompleto = false;\r\n\r\n\t\t\t\tlogosService.borrarLogo(idLogo)\r\n\t\t\t\t\t.then(function () {\r\n\r\n\t\t\t\t\t\tangular.forEach(bz.guardados, function (valor, indice) {\r\n\t\t\t\t\t\t\tif (valor.idLogo == idLogo) {\r\n\t\t\t\t\t\t\t\tbz.guardados.splice(indice, 1);\r\n\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tdefered.resolve(true);\r\n\r\n\t\t\t\t\t\t$mdToast.show($mdToast.base({\r\n\t\t\t\t\t\t\targs: {\r\n\t\t\t\t\t\t\t\tmensaje: \"El logo fue borrado exitosamente!\",\r\n\t\t\t\t\t\t\t\tclase: \"success\"\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}));\r\n\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function () {\r\n\r\n\t\t\t\t\t\tdefered.reject();\r\n\r\n\t\t\t\t\t\t$mdToast.show($mdToast.base({\r\n\t\t\t\t\t\t\targs: {\r\n\t\t\t\t\t\t\t\tmensaje: \"Un error ha ocurrido\",\r\n\t\t\t\t\t\t\t\tclase: \"danger\"\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}));\r\n\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.finally(function () {\r\n\r\n\t\t\t\t\t\tbz.borradoCompleto = true;\r\n\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\treturn promise;\r\n\r\n\t\t\t}\r\n\t\t};\r\n\r\n\r\n\t\tbz.buscarAtributo = function (lista, objetivo) {\r\n\r\n\t\t\tvar valor = null;\r\n\r\n\t\t\tangular.forEach(lista, function (atributo) {\r\n\r\n\t\t\t\tif (atributo.clave == objetivo) {\r\n\r\n\t\t\t\t\tvalor = atributo.valor;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\r\n\t\t\treturn valor;\r\n\t\t};\r\n\r\n\r\n\t\tbz.mostrarPlanes = function (index, previsualizar) {\r\n\r\n\t\t\tvar datos = angular.copy(bz.guardados[index]);\r\n\t\t\tdatos.atributos = arrayToJsonMetasFactory(datos.atributos);\r\n\r\n\t\t\tbz.datosComprar = {\r\n\t\t\t\tidLogo: datos.idLogo,\r\n\t\t\t\tlogo: bz.base64.decode(datos.logo),\r\n\t\t\t\tidElemento: datos.elementos_idElemento,\r\n\t\t\t\ttipo: \"Logo y nombre\",\r\n\t\t\t\tfuentes: {\r\n\t\t\t\t\tprincipal: datos.atributos.principal,\r\n\t\t\t\t\teslogan: datos.atributos.principal.eslogan\r\n\t\t\t\t},\r\n\t\t\t\tcolores: {\r\n\t\t\t\t\ticono: datos.atributos[\"color-icono\"],\r\n\t\t\t\t\tnombre: datos.atributos[\"color-nombre\"],\r\n\r\n\t\t\t\t},\r\n\t\t\t\tplanes: bz.planes,\r\n\t\t\t\tmoneda: bz.moneda\r\n\t\t\t};\r\n\r\n\t\t\tif (datos.atributos[\"color-eslogan\"]) {\r\n\t\t\t\tbz.datosComprar.colores.eslogan = datos.atributos[\"color-eslogan\"];\r\n\t\t\t}\r\n\t\t\t/*\r\n\t\t\tif (bz.idLogoPadre) {\r\n\t\t\t\tbz.datosComprar.idPadre = bz.idLogoPadre;\r\n\t\t\t}*/\r\n\r\n\t\t\tif (previsualizar) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tbz.abrirPlanes = true; // modelo para abrir la directiva\r\n\r\n\t\t};\r\n\r\n\t\t$scope.$on(\"sesionExpiro\", function () {\r\n\r\n\t\t\t$state.go(\"inicio\");\r\n\r\n\t\t});\r\n\r\n\r\n\t\tbz.compartir = function(provider, idLogo) {\r\n\r\n\t\t\tvar unix = Date.now();\r\n\r\n\t\t\tvar attrs = {\r\n\t\t\t\tsocialshareUrl : bz.urlCompartir+\"?idLogo=\"+idLogo+\"&unix=\"+unix\r\n\t\t\t};\r\n\r\n\t\t\tswitch (provider) {\r\n\t\t\tcase \"twitter\":\r\n\t\t\t\tattrs.socialshareHashtags = \"Liderlogo\";\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase \"pinterest\":\r\n\t\t\t\tattrs.socialshareMedia = bz.urlCompartir+\"/app/logo/compartido/\"+idLogo; attrs.socialshareText = \"Pinterest\";\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tSocialshare.share({\r\n\t\t\t\t\"provider\": provider,\r\n\t\t\t\t\"attrs\": attrs\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t}]);\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/controllers/logos.controller.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/controllers/logosGaleria.controller.js":
/*!****************************************************************************!*\
  !*** ./public/creador-de-logos/app/controllers/logosGaleria.controller.js ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("angular.module(\"disenador-de-logos\")\r\n\r\n\r\n\r\n    .controller('logosGaleriaController', [\"$scope\", \"$state\", \"$base64\", \"logosService\", \"clientesService\", \"$mdToast\", \"$timeout\", function ($scope, $state, $base64, logosService, clientesService, $mdToast, $timeout) {\r\n\r\n        var bz = this;\r\n\r\n        bz.base64 = $base64;\r\n        bz.aprobados = [];\r\n\r\n        logosService.mostrarDestacados().then(function (res) {\r\n         \r\n            bz.aprobados = res;\r\n\r\n        }).catch(function () {\r\n\r\n\r\n\r\n        }).finally(function () {\r\n\r\n            if (!bz.aprobados.length) {\r\n\r\n                logosService.mostrarAprobados().then(function (res) {\r\n\r\n                    bz.aprobados = res;\r\n\r\n                }).catch(function (res) {\r\n\r\n                    //console.log(\"hola\")\r\n                    \r\n                }).finally(function () {\r\n\r\n\r\n                })\r\n\r\n            }\r\n\r\n        })\r\n        bz.completadoCarga = true;\r\n        \r\n        bz.cargarMas = function (logo) {\r\n\r\n            if(bz.completadoCarga){\r\n               \r\n                bz.completadoCarga = false;\r\n                \r\n                var idLogo = logo.destacados ? false : logo.idLogo;\r\n\r\n                logosService.mostrarAprobados(idLogo).then(function (res) {\r\n                    \r\n                    angular.forEach(res, function(valor, llave){\r\n\r\n                        bz.aprobados.push(valor)\r\n\r\n                    })\r\n                    \r\n                }).catch(function(){\r\n                    \r\n                }).finally(function(){\r\n                     \r\n                    bz.completadoCarga = true;\r\n                    \r\n                })\r\n                \r\n            }\r\n            \r\n        }\r\n\r\n        bz.buscarAtributo = function (lista, objetivo) {\r\n\r\n            var idFuente = null;\r\n\r\n            angular.forEach(lista, function (atributo, llave) {\r\n\r\n                if (atributo.clave == objetivo) {\r\n\r\n                    idFuente = atributo.valor;\r\n\r\n                }\r\n\r\n            })\r\n\r\n            return idFuente;\r\n        }\r\n\r\n\r\n        bz.avanzar = function (indiceLogo) {\r\n\r\n            bz.logoSeleccionado = indiceLogo;\r\n\r\n            if (!clientesService.autorizado()) {\r\n\r\n                bz.mostrarModalLogin = true;\r\n\r\n            } else {\r\n                var aprobado = null;\r\n\r\n                angular.forEach(bz.aprobados, function (valor, llave) {\r\n\r\n                    if (valor.idLogo == indiceLogo) {\r\n\r\n                        aprobado = valor;\r\n                    }\r\n\r\n                })\r\n                if (aprobado) {\r\n                    $state.go(\"editor\", {\r\n                        status: true,\r\n                        datos: {\r\n                            logo: {\r\n                                icono: {\r\n                                    idElemento: aprobado.elementos_idElemento,\r\n                                    svg: aprobado.logo\r\n                                }\r\n                            },\r\n                            idLogoPadre: aprobado.idLogo,\r\n                            fuentes: {\r\n                                principal: bz.buscarAtributo(aprobado.atributos, 'principal'),\r\n                                eslogan: bz.buscarAtributo(aprobado.atributos, 'eslogan')\r\n                            }\r\n                        }\r\n                    })\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n\r\n\r\n\r\n\r\n        bz.datosLogin = {};\r\n\r\n        bz.completadoLogin = true;\r\n\r\n        bz.login = function (datos, valido) {\r\n\r\n            if (valido) {\r\n\r\n                bz.completadoLogin = false;\r\n\r\n                clientesService.login(datos).then(function (res) {\r\n\r\n                    if (clientesService.autorizado(true)) {\r\n\r\n                        $mdToast.show({\r\n                            hideDelay: 0,\r\n                            position: 'top right',\r\n                            controller: [\"$scope\", \"$mdToast\", function ($scope, $mdToast) {\r\n                                var temporizador = $timeout(function () {\r\n\r\n                                    $mdToast.hide();\r\n\r\n                                }, 2000)\r\n\r\n                                $scope.closeToast = function () {\r\n                                    $timeout.cancel(temporizador)\r\n                                    $mdToast.hide();\r\n\r\n                                }\r\n                            }],\r\n                            templateUrl: 'toast-success-login.html'\r\n                        });\r\n\r\n                        bz.mostrarModalLogin = false;\r\n                        bz.avanzar(bz.logoSeleccionado);\r\n                    }\r\n\r\n                }).catch(function () {\r\n\r\n                    $mdToast.show({\r\n                        hideDelay: 0,\r\n                        position: 'top right',\r\n                        controller: [\"$scope\", \"$mdToast\", function ($scope, $mdToast) {\r\n\r\n                            var temporizador = $timeout(function () {\r\n\r\n                                $mdToast.hide();\r\n\r\n                            }, 2000)\r\n\r\n                            $scope.closeToast = function () {\r\n                                $timeout.cancel(temporizador)\r\n                                $mdToast.hide();\r\n                            }\r\n                            }],\r\n                        templateUrl: 'toast-danger-login.html'\r\n                    });\r\n\r\n                }).finally(function (res) {\r\n\r\n                    bz.completadoLogin = true;\r\n\r\n                });\r\n\r\n\r\n            };\r\n\r\n        };\r\n\r\n\r\n\r\n        bz.completadoRegistro = true;\r\n\r\n        bz.registrar = function (datos, valido) {\r\n\r\n            if (valido && bz.completadoRegistro) {\r\n\r\n                bz.completadoRegistro = false;\r\n\r\n                clientesService.registrar(datos.nombreCliente, datos.correo, datos.pass, datos.telefono, datos.pais).then(function (res) {\r\n\r\n                    if (clientesService.autorizado(true)) {\r\n\r\n                        $mdToast.show({\r\n                            hideDelay: 0,\r\n                            position: 'top right',\r\n                            controller: [\"$scope\", \"$mdToast\", function ($scope, $mdToast) {\r\n\r\n                                var temporizador = $timeout(function () {\r\n\r\n                                    $mdToast.hide();\r\n\r\n                                }, 2000)\r\n\r\n                                $scope.closeToast = function () {\r\n                                    $timeout.cancel(temporizador)\r\n                                    $mdToast.hide();\r\n\r\n                                }\r\n                            }],\r\n                            templateUrl: 'toast-success-registro.html'\r\n                        });\r\n\r\n                        bz.mostrarModalLogin = false;\r\n                        bz.avanzar(bz.logoSeleccionado);\r\n\r\n                    }\r\n\r\n                }).catch(function () {\r\n\r\n                    $mdToast.show({\r\n                        hideDelay: 0,\r\n                        position: 'top right',\r\n                        controller: [\"$scope\", \"$mdToast\", function ($scope, $mdToast) {\r\n\r\n                            var temporizador = $timeout(function () {\r\n\r\n                                $mdToast.hide();\r\n\r\n                            }, 2000)\r\n\r\n                            $scope.closeToast = function () {\r\n                                $timeout.cancel(temporizador)\r\n                                $mdToast.hide();\r\n\r\n                            }\r\n                        }],\r\n                        templateUrl: 'toast-danger-registro.html'\r\n                    });\r\n\r\n\r\n                }).finally(function () {\r\n\r\n                    bz.completadoRegistro = true;\r\n\r\n                })\r\n\r\n            };\r\n\r\n        }\r\n\r\n\r\n    }])\r\n\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/controllers/logosGaleria.controller.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/controllers/pago.controller.js":
/*!********************************************************************!*\
  !*** ./public/creador-de-logos/app/controllers/pago.controller.js ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("angular.module(\"disenador-de-logos\")\r\n\r\n\r\n\t.controller(\"pagoController\", [\"$scope\", \"historicoResolve\", \"pedidosService\", \"$window\", \"$state\", \"$base64\", function ($scope, historicoResolve, pedidosService, $window, $state, $base64) {\r\n\r\n\t\tvar bz = this;\r\n\r\n\t\tbz.base64 = $base64;\r\n\r\n\t\tbz.pedido = historicoResolve;\r\n\r\n\t\tbz.pasarelas = [];\r\n\r\n\t\tpedidosService.listarPasarelas(bz.pedido.precio.moneda.idMoneda).then(function (res) {\r\n\r\n\t\t\tbz.pasarelas = res;\r\n\r\n\t\t\tbz.pasarelaElegida = bz.pasarelas[1];\r\n\r\n\t\t});\r\n\r\n\t\tbz.terminos = true;\r\n\r\n\r\n\t\tbz.mostrarMetodo = function (indice, terminos) {\r\n\r\n\t\t\tif(!terminos){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tangular.forEach(bz.pasarelas, function (pasarela, llave) {\r\n\r\n\t\t\t\tif (pasarela.idPasarela != indice) {\r\n\r\n\t\t\t\t\tbz.pasarelas[llave].mostrar = false;\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tbz.pasarelas[llave].mostrar = true;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\r\n\t\t};\r\n\r\n\r\n\t\tbz.completado = true;\r\n\r\n\t\tbz.pagar = function (idPasarela, terminos) {\r\n\r\n\t\t\tif (terminos && bz.completado) {\r\n\r\n\t\t\t\tbz.completado = false;\r\n\t\t\t\t\r\n\t\t\t\tangular.element(document.querySelector(\".overlay.full\")).fadeIn(1000);\r\n\r\n\t\t\t\tswitch (idPasarela) {\r\n\r\n\t\t\t\t\tcase 1: //PAYPAL\r\n\t\t\t\t\t\tpedidosService.pagar.paypal(bz.pedido.idElemento, bz.pedido.atributos, bz.base64.encode(bz.pedido.logo), bz.pedido.precio.idPrecio, bz.pedido.tipo, idPasarela)\r\n\r\n\t\t\t\t\t\t\t.then(function (res) {\r\n\r\n\t\t\t\t\t\t\t\t$window.location = res;\r\n\r\n\t\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t\t.finally(function () {\r\n\r\n\t\t\t\t\t\t\t\tbz.completado = true;\r\n\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 2: //STRIPE\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 3: //PAYU\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\r\n\t\t};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t\t$scope.$on(\"sesionExpiro\", function () {\r\n\r\n\t\t\t$state.go(\"inicio\");\r\n\r\n\t\t});\r\n\r\n\r\n\t}]);\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/controllers/pago.controller.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/controllers/pagoCompleto.controller.js":
/*!****************************************************************************!*\
  !*** ./public/creador-de-logos/app/controllers/pagoCompleto.controller.js ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("angular.module(\"disenador-de-logos\")\r\n\r\n\t.controller(\"pagoCompletoController\", [\"arrayToJsonMetasFactory\", \"$scope\", \"$state\", \"logosService\", \"$stateParams\", \"$base64\", function (arrayToJsonMetasFactory, $scope, $state, logosService, $stateParams, $base64) {\r\n\r\n\t\tvar bz = this;\r\n\r\n\t\tbz.base64 = $base64;\r\n\r\n\t\tbz.logo = false;\r\n\r\n\t\tbz.calificacionTentativa = 5;\r\n\r\n\t\tbz.atributos = {\r\n\t\t\tpadre: null,\r\n\t\t\tcalificacion: null\r\n\t\t};\r\n\r\n\t\tbz.padre = null;\r\n\r\n\t\t/*MOVER A RESOLVE*/\r\n\r\n\t\tlogosService.obtenerPorId($stateParams.id).then(function (res) {\r\n\r\n\t\t\tbz.logo = res;\r\n\r\n\t\t\tvar atributos = arrayToJsonMetasFactory(bz.logo.atributos);\r\n\r\n\t\t\tif (atributos.padre) {\r\n\r\n\t\t\t\tbz.atributos.padre = true;\r\n\t\t\t\tbz.padre = parseInt(atributos.padre);\r\n\r\n\t\t\t\tlogosService.obtenerPorId(bz.padre).then(function (res) {\r\n\r\n\t\t\t\t\tvar atributosPadre = arrayToJsonMetasFactory(res.atributos);\r\n\r\n\t\t\t\t\tif (atributosPadre[\"calificacion-cliente\"]) {\r\n\r\n\t\t\t\t\t\tbz.atributos.calificacion = true;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tbz.atributos.calificacion = false;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}).catch(function (res) {\r\n\r\n\r\n\t\t\t\t}).finally(function () {\r\n\r\n                    \r\n\t\t\t\t});\r\n\r\n\t\t\t}\r\n\r\n\t\t}).catch(function (res) {\r\n\r\n\r\n\t\t}).finally(function () {\r\n\r\n\r\n\t\t});\r\n\r\n\t\t/*MOVER A RESOLVE*/\r\n\r\n\t\tbz.completado = true;\r\n\t\tbz.calificar = function (calificacion, comentario, valido) {\r\n\r\n\t\t\tif (valido && bz.completado) {\r\n\t\t\t\tbz.completado = false;\r\n\r\n\t\t\t\t// promesa de calificacion\r\n\t\t\t\tlogosService.calificar(bz.padre, calificacion, comentario).finally(function () {\r\n\r\n\t\t\t\t\tbz.completado = true;\r\n\t\t\t\t\tbz.atributos.calificacion = true;\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\t}\r\n\t\t};\r\n\r\n\r\n\t\t$scope.$on(\"sesionExpiro\", function (event, data) {\r\n\r\n\t\t\t$state.go(\"inicio\");\r\n\r\n\t\t});\r\n\r\n\r\n\t}]);\r\n\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/controllers/pagoCompleto.controller.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/controllers/papeleria.controller.js":
/*!*************************************************************************!*\
  !*** ./public/creador-de-logos/app/controllers/papeleria.controller.js ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("angular.module(\"disenador-de-logos\")\r\n\t.controller(\"papeleriaController\", [\"$base64\", \"$scope\", \"$stateParams\", \"$sce\", \"logoResolve\", \"$state\", \"papeleriaService\", \"$document\", \"elementosService\", \"fontService\", function ($base64, $scope, $stateParams, $sce, logoResolve, $state, papeleriaService, $document, elementosService, fontService) {\r\n\r\n\t\tvar bz = this;\r\n\r\n\t\tbz.base64 = $base64;\r\n\t\tbz.sce = $sce;\r\n\t\tbz.tienePiezas = false;\r\n    \r\n\t\tbz.idLogo = logoResolve.id;\r\n\r\n\t\telementosService.listarFuentes().then(function(res){\r\n\t\t\tbz.fuentes = res;\r\n\t\t\tfontService.agregarGeneral(res);\r\n\t\t});\r\n\r\n\t\tpapeleriaService.listarPorClienteYlogo(bz.idLogo).then(function(res){\r\n\t\t\tbz.papelerias = res;\r\n\t\t\tangular.forEach(bz.papelerias, function(papeleria){\r\n\t\t\t\tangular.forEach(papeleria.modelos, function(modelo){\r\n\t\t\t\t\tif(modelo.piezas){\r\n\t\t\t\t\t\tpapeleria.tienePiezas = true;\r\n\t\t\t\t\t\tbz.tienePiezas = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t})\r\n\r\n\t\t\tif(!bz.tienePiezas){\r\n\t\t\t\tbz.crearPapeleria = true;\r\n\t\t\t}\r\n\t\t\tbz.papeleriaActiva = bz.papelerias[0].tipo;\r\n\t\t})\r\n\r\n\t\tbz.enviarEditor = function (indicePapeleria, indiceModelo, indicePieza) {\r\n\t\t\tif(bz.peticion) return;\r\n\t\t\tvar papeleria = angular.copy(bz.papelerias[indicePapeleria]);\r\n\t\t\tdelete papeleria.modelos;\r\n\t\t\tvar modelo = angular.copy(bz.papelerias[indicePapeleria].modelos[indiceModelo]);\r\n\t\t\tdelete modelo.piezas;\r\n\t\t\tvar pieza = angular.copy(bz.papelerias[indicePapeleria].modelos[indiceModelo].piezas[indicePieza]);\r\n\r\n\t\t\tbz.datos = {\r\n\t\t\t\tpapeleria: papeleria,\r\n\t\t\t\tmodelo: modelo,\r\n\t\t\t\tpieza: pieza,\r\n\t\t\t\tfuentes: bz.fuentes\r\n\t\t\t};\r\n\r\n\t\t\t$state.go('papeleriaEditor', {\r\n\t\t\t\tid: bz.idLogo,\r\n\t\t\t\tpapeleria: bz.datos\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tbz.descargarPieza = function(id){\r\n\t\t\tangular.element(document.querySelector(\".overlay.full\")).fadeIn(1000);\r\n\t\t\tpapeleriaService.piezas.descargar(id, bz.idLogo).then(function(res){\r\n\t\t\t\tvar a = $document[0].createElement(\"a\");\r\n\t\t\t\t$document[0].body.appendChild(a);\r\n\t\t\t\ta.style = \"display:none\";\r\n\t\t\t\tvar url = res.url;\r\n\t\t\t\ta.href = url;\r\n\t\t\t\ta.download = res.nombreArchivo;\r\n\t\t\t\ta.target = \"_blank\";\r\n\t\t\t\ta.click();\r\n\t\t\t\ta.remove();\r\n\t\t\t}).finally(function(){\r\n\t\t\t\tangular.element(document.querySelector(\".overlay.full\")).fadeOut(1000);\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tbz.duplicarPieza = function(tipo, modelo, pieza, index){\r\n\t\t\tif(bz.peticion) return;\r\n\t\t\tbz.papeleriaIndexElemento = index;\r\n\t\t\tbz.peticion = true;\r\n\r\n\t\t\tvar piezaE = angular.copy(pieza);\r\n\r\n\t\t\tdelete piezaE._id;\r\n\r\n\t\t\tpapeleriaService.piezas.guardar(tipo, modelo.nombre, piezaE).then(function(res){\r\n\t\t\t\tmodelo.piezas.push(res.insertId);\r\n\t\t\t\tbz.peticion = false;\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tbz.eliminarPieza = function(arr, index){\r\n\t\t\tif(bz.peticion) return;\r\n\t\t\tbz.papeleriaIndexElemento = index;\r\n\t\t\tbz.peticion = true;\r\n\r\n\t\t\tpieza = arr[index];\r\n\r\n\t\t\tpapeleriaService.piezas.eliminar(pieza._id).then(function(res){\r\n\t\t\t\tarr.splice(index, 1);\r\n\t\t\t\tbz.peticion = false;\r\n\t\t\t});\r\n\t\t}\r\n\t}]);\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/controllers/papeleria.controller.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/controllers/papeleriaEditor.controller.js":
/*!*******************************************************************************!*\
  !*** ./public/creador-de-logos/app/controllers/papeleriaEditor.controller.js ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("angular.module(\"disenador-de-logos\")\r\n\t.controller(\"papeleriaEditorController\", [\"papeleriaResolve\", \"logoResolve\", \"$base64\", \"$scope\", \"elementosService\", \"fontService\", \"papeleriaService\", \"$document\", \"$state\", function (papeleriaResolve, logoResolve, $base64, $scope, elementosService, fontService, papeleriaService, $document, $state) {\r\n\r\n\t\tvar bz = this;\r\n\r\n\t\tbz.base64 = $base64;\r\n\r\n\t\tbz.logo = logoResolve;\r\n\r\n\t\tbz.papeleria = papeleriaResolve;\r\n\t\tbz.fuentes = papeleriaResolve.fuentes;\r\n\r\n\t\tbz.datos = {\r\n\t\t\ttipo: \"\",\r\n\t\t\tmodelo: \"\",\r\n\t\t\tpieza: {\r\n\t\t\t\tcaras: [],\r\n\t\t\t\tnombre: \"\",\r\n\t\t\t\t_id: \"\", //id de la pieza si esta existia\r\n\t\t\t\tlogo: 0 //id del logo\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tbz.datos.pieza.logo = bz.logo.id;\r\n\r\n\t\tif (bz.papeleria.idPieza) {\r\n\t\t\tbz.datos.pieza._id = bz.papeleria.idPieza;\r\n\t\t}\r\n\r\n\t\tbz.volver = function () {\r\n\t\t\t$state.go('papeleria', {\r\n\t\t\t\tid: bz.logo.id\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tbz.descargarPieza = function (id) {\r\n\t\t\tif(bz.peticion) return;\r\n\r\n\t\t\tif (bz.datos.pieza._id != undefined) {\r\n\t\t\t\tdescargar(bz.datos.pieza._id);\r\n\t\t\t} else {\r\n\t\t\t\tbz.guardar().then(function () {\r\n\t\t\t\t\tdescargar(bz.datos.pieza._id);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tfunction descargar(id){\r\n\t\t\t\tangular.element(document.querySelector(\".overlay.full\")).fadeIn(1000);\r\n\t\t\t\tpapeleriaService.piezas.descargar(id, bz.logo.id).then(function(res){\r\n\t\t\t\t\tvar a = $document[0].createElement(\"a\");\r\n\t\t\t\t\t$document[0].body.appendChild(a);\r\n\t\t\t\t\ta.style = \"display:none\";\r\n\t\t\t\t\tvar url = res.url;\r\n\t\t\t\t\ta.href = url;\r\n\t\t\t\t\ta.download = res.nombreArchivo;\r\n\t\t\t\t\ta.target = \"_blank\";\r\n\t\t\t\t\ta.click();\r\n\t\t\t\t\ta.remove();\r\n\t\t\t\t}).finally(function(){\r\n\t\t\t\t\tangular.element(document.querySelector(\".overlay.full\")).fadeOut(1000);\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}]);\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/controllers/papeleriaEditor.controller.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/directives/bazamAyuda.js":
/*!**************************************************************!*\
  !*** ./public/creador-de-logos/app/directives/bazamAyuda.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("angular.module(\"disenador-de-logos\")\r\n\r\n\t.directive(\"bazamAyuda\", [\"$timeout\", \"$compile\", function ($timeout, $compile) {\r\n\t\treturn {\r\n\t\t\trestrict: \"A\",\r\n\t\t\tcontrollerAs: \"bazamAyuda\",\r\n\t\t\tscope: {\r\n\t\t\t\tclases: \"<\",\r\n\t\t\t\ttitulo: \"@\",\r\n\t\t\t\ttexto: \"@\",\r\n\t\t\t\tretraso: \"@\",\r\n\t\t\t\torientacion: \"@\",\r\n\t\t\t\tidentificador: \"@\",\r\n\t\t\t\tindice: \"@paso\"\r\n\t\t\t},\r\n\t\t\tlink: function (scope, element) {\r\n\r\n\t\t\t\tif (!scope.clases) {\r\n\t\t\t\t\tscope.clases = [];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!scope.retraso) {\r\n\t\t\t\t\tscope.retraso = 200;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tscope.$on(\"bazamAyuda:mostrar\", function (evento, data) {\r\n\r\n\t\t\t\t\tif (angular.element(\"#\" + scope.identificador).length) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar coordenadas = element[0].getClientRects()[0];\r\n\t\t\t\t\tvar body = angular.element(\"body\");\r\n\r\n\t\t\t\t\tvar orientacion = scope.orientacion ? scope.orientacion : \"right\";\r\n\t\t\t\t\tvar orientacionFinal = {\r\n\t\t\t\t\t\ttop: 0,\r\n\t\t\t\t\t\tleft: 0\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tif (scope.indice == data.indice) {\r\n\r\n\t\t\t\t\t\tangular.element(\".pop-ayuda\").remove();\r\n\r\n\t\t\t\t\t\tvar elementPOP = angular.element(\"<div></div>\");\r\n\t\t\t\t\t\telementPOP.addClass(\"pop-ayuda\");\r\n\t\t\t\t\t\telementPOP.append(\"<p class='titulo-ayuda'>\" + scope.titulo + \"</p>\");\r\n\t\t\t\t\t\telementPOP.append(\"<p class='texto-ayuda'>\" + scope.texto + \"</p>\");\r\n\t\t\t\t\t\telementPOP.attr(\"quitar-ayuda\", parseInt(scope.indice));\r\n\r\n\t\t\t\t\t\tif (angular.element(\"[data-paso=\" + (parseInt(scope.indice) - 1) + \"]\").length) {\r\n\t\t\t\t\t\t\tvar flechaIzq = angular.element(\"<div></div>\");\r\n\t\t\t\t\t\t\tflechaIzq.addClass(\"flecha-ayuda izquierda\");\r\n\t\t\t\t\t\t\tflechaIzq.attr(\"mostrar-pop-ayuda\", (parseInt(scope.indice) - 1));\r\n\t\t\t\t\t\t\tflechaIzq.append(\"<span><i class='material-icons'>keyboard_arrow_left</i></span>\");\r\n\t\t\t\t\t\t\telementPOP.append(flechaIzq);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (angular.element(\"[data-paso=\" + (parseInt(scope.indice) + 1) + \"]\").length) {\r\n\t\t\t\t\t\t\tvar flechaDer = angular.element(\"<div></div>\");\r\n\t\t\t\t\t\t\tflechaDer.addClass(\"flecha-ayuda derecha\");\r\n\t\t\t\t\t\t\tflechaDer.attr(\"mostrar-pop-ayuda\", (parseInt(scope.indice) + 1));\r\n\t\t\t\t\t\t\tflechaDer.append(\"<span><i class='material-icons'>keyboard_arrow_right</i></span>\");\r\n\t\t\t\t\t\t\telementPOP.append(flechaDer);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar html = $compile(elementPOP[0].outerHTML)(scope);\r\n\t\t\t\t\t\tvar popCreado = angular.element(html);\r\n\t\t\t\t\t\tbody.append(popCreado);\r\n\r\n\t\t\t\t\t\tangular.forEach(scope.clases, function (clase) {\r\n\t\t\t\t\t\t\tpopCreado.addClass(clase);\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tpopCreado.css({\r\n\t\t\t\t\t\t\t\"position\": \"fixed\",\r\n\t\t\t\t\t\t\t\"z-index\": 2,\r\n\t\t\t\t\t\t\t\"opacity\": 0\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tswitch (orientacion) {\r\n\t\t\t\t\t\tcase \"bottom\":\r\n\t\t\t\t\t\t\torientacionFinal.top = coordenadas.bottom;\r\n\t\t\t\t\t\t\torientacionFinal.left = coordenadas.left + (element.width() / 2);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase \"right\":\r\n\t\t\t\t\t\t\torientacionFinal.top = coordenadas.top + (element.height() / 2);\r\n\t\t\t\t\t\t\torientacionFinal.left = coordenadas.right;\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase \"left\":\r\n\t\t\t\t\t\t\torientacionFinal.top = coordenadas.top + (element.height() / 2);\r\n\t\t\t\t\t\t\torientacionFinal.left = coordenadas.left - popCreado.width();\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase \"top\":\r\n\t\t\t\t\t\t\torientacionFinal.top = coordenadas.top;\r\n\t\t\t\t\t\t\torientacionFinal.left = coordenadas.left + (element.width() / 2);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tpopCreado.css({\r\n\t\t\t\t\t\t\t\"top\": orientacionFinal.top,\r\n\t\t\t\t\t\t\t\"left\": orientacionFinal.left\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tpopCreado.attr({\r\n\t\t\t\t\t\t\t\"id\": scope.identificador\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tif (scope.retraso) {\r\n\t\t\t\t\t\t\t$timeout(function () {\r\n\t\t\t\t\t\t\t\tpopCreado.addClass(\"aparecer\");\r\n\t\t\t\t\t\t\t}, scope.retraso);\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\t}])\r\n\r\n\t.directive(\"bazamPasosAyuda\", [\"$timeout\", \"$compile\", function ($timeout, $compile) {\r\n\t\treturn {\r\n\t\t\trestrict: \"A\",\r\n\t\t\tcontrollerAs: \"bazamPasosAyuda\",\r\n\t\t\tlink: function (scope, element, attrs) {\r\n\r\n\t\t\t\tscope.$on(\"bazamPasoAyuda:mostrar\", function (evento, accion) {\r\n\r\n\t\t\t\t\tif (accion) {\r\n\r\n\t\t\t\t\t\tvar coordenadas = element[0].getClientRects()[0];\r\n\t\t\t\t\t\tvar body = angular.element(\"body\");\r\n\r\n\t\t\t\t\t\tvar orientacion = attrs.orientacion ? attrs.orientacion : \"right\";\r\n\t\t\t\t\t\tvar orientacionFinal = {\r\n\t\t\t\t\t\t\ttop: 0,\r\n\t\t\t\t\t\t\tleft: 0\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\tvar elementPOP = angular.element(\"<div></div>\");\r\n\t\t\t\t\t\telementPOP.attr(\"mostrar-pop-ayuda\", attrs.paso);\r\n\t\t\t\t\t\telementPOP.addClass(\"pop-paso-ayuda\");\r\n\t\t\t\t\t\telementPOP.append(\"<p class='paso-ayuda'>?</p>\");\r\n\r\n\t\t\t\t\t\tvar html = $compile(elementPOP[0].outerHTML)(scope);\r\n\t\t\t\t\t\tvar popPasoCreado = angular.element(html);\r\n\t\t\t\t\t\tbody.append(popPasoCreado);\r\n\r\n\t\t\t\t\t\tpopPasoCreado.css({\r\n\t\t\t\t\t\t\t\"position\": \"fixed\",\r\n\t\t\t\t\t\t\t\"z-index\": 2,\r\n\t\t\t\t\t\t\t\"opacity\": 0\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tswitch (orientacion) {\r\n\t\t\t\t\t\tcase \"bottom\":\r\n\t\t\t\t\t\t\torientacionFinal.top = coordenadas.bottom - 40;\r\n\t\t\t\t\t\t\torientacionFinal.left = coordenadas.left + (element.width() / 2);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase \"right\":\r\n\t\t\t\t\t\t\torientacionFinal.top = (coordenadas.top + (element.height() / 2)) - 10;\r\n\t\t\t\t\t\t\torientacionFinal.left = coordenadas.right - 35;\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase \"left\":\r\n\t\t\t\t\t\t\torientacionFinal.top = (coordenadas.top + (element.height() / 2)) - 10;\r\n\t\t\t\t\t\t\torientacionFinal.left = (coordenadas.left - popPasoCreado.width()) + 25;\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase \"top\":\r\n\t\t\t\t\t\t\torientacionFinal.top = coordenadas.top + 40;\r\n\t\t\t\t\t\t\torientacionFinal.left = coordenadas.left + (element.width() / 2);\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tpopPasoCreado.css({\r\n\t\t\t\t\t\t\t\"top\": orientacionFinal.top,\r\n\t\t\t\t\t\t\t\"left\": orientacionFinal.left\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t$timeout(function () {\r\n\t\t\t\t\t\t\tpopPasoCreado.addClass(\"aparecer\");\r\n\t\t\t\t\t\t}, 300);\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tangular.element(\".pop-paso-ayuda\").remove();\r\n\t\t\t\t\t\tangular.element(\".pop-ayuda\").remove();\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\t}])\r\n\r\n\r\n\t.directive(\"mostrarPopAyuda\", [\"mostrarPopAyudaFactory\", function (mostrarPopAyudaFactory) {\r\n\t\treturn {\r\n\t\t\trestrict: \"AE\",\r\n\t\t\tlink: function (scope, element, attrs) {\r\n\t\t\t\telement.click(function () {\r\n\t\t\t\t\tif (!angular.isUndefined(attrs.reiniciar)) {\r\n\t\t\t\t\t\tangular.element(\"[mostrar-pop-ayuda]:not([mostrar-pop-ayuda=1])\").remove();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!angular.element(\"#cerrar-ayudas\").length) {\r\n\t\t\t\t\t\tangular.element(\"body\").append(\"<div><span>Cerrar Ayudas</span></div>\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\tmostrarPopAyudaFactory(attrs.mostrarPopAyuda);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\t}])\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/directives/bazamAyuda.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/directives/bazamCarouseles.js":
/*!*******************************************************************!*\
  !*** ./public/creador-de-logos/app/directives/bazamCarouseles.js ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("angular.module(\"disenador-de-logos\")\r\n\r\n\t/*\r\n\r\n\t/////////////////////////////////////////////\r\n\t//////Carousel de logos//////////////////////\r\n\t/////////////////////////////////////////////\r\n\r\n\t.directive(\"carouselCombinaciones\", [function () {\r\n\r\n\t\treturn {\r\n\t\t\trestrict: \"E\",\r\n\t\t\ttemplateUrl: \"app/templates/carousel-combinaciones.tpl\",\r\n\t\t\tcontroller: [\"$scope\", \"$base64\", \"arrayToJsonMetasFactory\", function ($scope, $base64, arrayToJsonMetasFactory) {\r\n\r\n\t\t\t\tvar bz = this;\r\n\r\n\t\t\t\tbz.logos = $scope.logos;\r\n\r\n\t\t\t\tbz.largoArray = bz.logos.length;\r\n\r\n\t\t\t\tbz.nombre = $scope.nombre;\r\n\r\n\t\t\t\tbz.callback = $scope.callback;\r\n\r\n\t\t\t\tbz.actual = 0;\r\n\r\n\t\t\t\tif (bz.largoArray > 1) {\r\n\t\t\t\t\tbz.actual = 1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbz.convertidor = arrayToJsonMetasFactory;\r\n\r\n\t\t\t\tbz.base64 = $base64;\r\n\r\n\t\t\t}],\r\n\t\t\tcontrollerAs: \"carouselCombinaciones\",\r\n\t\t\tscope: {\r\n\t\t\t\tcallback: \"<\",\r\n\t\t\t\tlogos: \"<\",\r\n\t\t\t\tnombre: \"<\"\r\n\t\t\t}\r\n\t\t};\r\n\r\n\r\n\t}])\r\n\r\n\t/////////////////////////////////////////////\r\n\t/////Carousel de destacados/////////////////////\r\n\t/////////////////////////////////////////////\r\n\r\n\t.directive(\"carouselDestacados\", [function () {\r\n\r\n\t\treturn {\r\n\t\t\trestrict: \"E\",\r\n\t\t\ttemplateUrl: \"app/templates/carousel-destacados.tpl\",\r\n\t\t\tcontroller: [\"$scope\", \"$base64\", \"arrayToJsonMetasFactory\", function ($scope, $base64, arrayToJsonMetasFactory) {\r\n\r\n\t\t\t\tvar bz = this;\r\n\r\n\t\t\t\tbz.callback = $scope.callback;\r\n\r\n\t\t\t\tbz.actual = 0;\r\n\r\n\t\t\t\tif ($scope.logos.length > 5) {\r\n\t\t\t\t\tbz.actual = 4;\r\n\t\t\t\t} else if ($scope.logos.length > 4) {\r\n\t\t\t\t\tbz.actual = 3;\r\n\t\t\t\t} else if ($scope.logos.length > 3) {\r\n\t\t\t\t\tbz.actual = 2;\r\n\t\t\t\t} else if ($scope.logos.length > 2) {\r\n\t\t\t\t\tbz.actual = 1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbz.convertidor = arrayToJsonMetasFactory;\r\n\r\n\t\t\t\tbz.base64 = $base64;\r\n\r\n\t\t\t\tbz.avanzar = function () {\r\n\t\t\t\t\tif (bz.actual < ($scope.logos.length - 2)) {\r\n\t\t\t\t\t\tbz.actual = bz.actual + 2;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (bz.actual == ($scope.logos.length - 6)) {\r\n\t\t\t\t\t\t$scope.callback[1]($scope.logos[$scope.logos.length - 1]);\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\r\n\t\t\t}],\r\n\t\t\tcontrollerAs: \"carouselDestacados\",\r\n\t\t\tscope: {\r\n\t\t\t\tcallback: \"<\",\r\n\t\t\t\tlogos: \"<\"\r\n\t\t\t}\r\n\t\t};\r\n\r\n\r\n\t}])\r\n\t*/\r\n\r\n\t.directive(\"carouselMisLogos\", [function () {\r\n\r\n\t\treturn {\r\n\t\t\trestrict: \"E\",\r\n\t\t\ttemplateUrl: \"app/templates/carousel-mis-logos.tpl\",\r\n\t\t\tcontroller: [\"$scope\", \"$base64\", \"arrayToJsonMetasFactory\", \"logosService\", \"$mdToast\", \"$location\", function ($scope, $base64, arrayToJsonMetasFactory, logosService, $mdToast, $location) {\r\n\r\n\t\t\t\tvar bz = this;\r\n\r\n\t\t\t\tbz.callback = $scope.callback;\r\n\t\t\t\tbz.elegido = $scope.elegido;\r\n\t\t\t\tbz.logos = $scope.logos;\r\n\r\n\t\t\t\tbz.base64 = $base64;\r\n\r\n\t\t\t\tbz.actual = 0;\r\n\t\t\r\n\t\t\t\tif ($scope.logos.length) {\r\n\t\t\t\t\t$scope.elegido = bz.base64.decode(bz.logos[bz.actual].logo);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ($scope.logos.length > 1) {\r\n\t\t\t\t\tbz.actual = 1;\r\n\t\t\t\t\t$scope.actual = bz.actual;\r\n\t\t\t\t\t$scope.elegido = bz.base64.decode(bz.logos[bz.actual].logo);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbz.convertidor = arrayToJsonMetasFactory;\r\n\r\n\t\t\t\tbz.mover = function (accion) {\r\n\r\n\t\t\t\t\tif (accion) {\r\n\t\t\t\t\t\tbz.actual = bz.actual == (bz.logos.length - 1) ? 0 : bz.actual + 1;\r\n\t\t\t\t\t\t$scope.actual = bz.actual;\r\n\t\t\t\t\t\t$scope.elegido = bz.base64.decode(bz.logos[bz.actual].logo);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tbz.actual = bz.actual == 0 ? bz.logos.length - 1 : bz.actual - 1;\r\n\t\t\t\t\t\t$scope.actual = bz.actual;\r\n\t\t\t\t\t\t$scope.elegido = bz.base64.decode(bz.logos[bz.actual].logo);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t};\r\n\r\n\t\t\t\tbz.borrarSlider = function (idLogo) {\r\n\t\t\t\t\tbz.callback[4](idLogo).then(function(){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tbz.logos = $scope.logos;\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tif (bz.logos.length && bz.actual == bz.logos.length) {\r\n\t\t\t\t\t\t\tbz.actual = bz.logos.length - 1;\r\n\t\t\t\t\t\t\t$scope.elegido = bz.base64.decode(bz.logos[bz.actual].logo);\r\n\t\t\t\t\t\t\t$scope.actual = bz.actual;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}).catch(function(){\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\r\n\t\t\t\t};\r\n\r\n\r\n\r\n\t\t\t\t\r\n\t\t\t\tvar dominio = $location.port() != \"80\" ? $location.protocol() + \"://\" + $location.host() + \":\" + $location.port() : $location.protocol() + \"://\" + $location.host();\r\n\r\n\t\t\t\tbz.completadoCompartir = true;\r\n\t\t\t\tbz.compartirPorEmail = function (email, logo, valido) {\r\n\r\n\t\t\t\t\tif (valido && bz.completadoCompartir) {\r\n\r\n\t\t\t\t\t\tbz.completadoCompartir = false;\r\n\t\t\r\n\t\t\t\t\t\tlogosService.enviarPorEmail(logo.idLogo, email, dominio)\r\n\t\t\t\t\t\t\t.then(function () {\r\n\t\t\t\t\t\t\t\t$mdToast.show($mdToast.base({\r\n\t\t\t\t\t\t\t\t\targs: {\r\n\t\t\t\t\t\t\t\t\t\tmensaje: \"Su logo ha sido enviado!\",\r\n\t\t\t\t\t\t\t\t\t\tclase: \"success\"\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}));\r\n\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.catch(function () {\r\n\t\t\t\t\t\t\t\t$mdToast.show($mdToast.base({\r\n\t\t\t\t\t\t\t\t\targs: {\r\n\t\t\t\t\t\t\t\t\t\tmensaje: \"Un error ha ocurrido\",\r\n\t\t\t\t\t\t\t\t\t\tclase: \"danger\"\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.finally(function () {\r\n\t\t\t\t\t\t\t\tbz.completadoCompartir = true;\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t}],\r\n\t\t\tcontrollerAs: \"carouselMisLogos\",\r\n\t\t\tscope: {\r\n\t\t\t\tcallback: \"<\",\r\n\t\t\t\tlogos: \"<\",\r\n\t\t\t\telegido: \"=\",\r\n\t\t\t\tactual: \"=?bind\"\r\n\t\t\t}\r\n\t\t};\r\n\r\n\r\n\t}]);\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/directives/bazamCarouseles.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/directives/bazamColorPicker.js":
/*!********************************************************************!*\
  !*** ./public/creador-de-logos/app/directives/bazamColorPicker.js ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("angular.module(\"disenador-de-logos\")\r\n\r\n\r\n\t.directive(\"bazamColorPicker\", [function () {\r\n\t\treturn {\r\n\t\t\ttemplate: \"<div class='bazam-color-picker'>\\\r\n\t\t\t\t\t\t\t<div class='background-selector' ng-style='jsonColor(color)' ng-click='mostrarPicker = !mostrarPicker'>\\\r\n\t\t\t\t\t\t\t</div>\\\r\n\t\t\t\t\t\t\t<div class='background-color-picker' id='background-color-picker' ng-show='mostrarPicker'>\\\r\n\t\t\t\t\t\t\t\t\t<div class='title'>\\\r\n\t\t\t\t\t\t\t\t\t\tFONDO\\\r\n\t\t\t\t\t\t\t\t\t\t<span class='close-color-picker' ng-click='mostrarPicker = !mostrarPicker'>\\\r\n\t\t\t\t\t\t\t\t\t\t\t<i class='material-icons cerrar'>clear</i>\\\r\n\t\t\t\t\t\t\t\t\t\t</span>\\\r\n\t\t\t\t\t\t\t\t\t</div>\\\r\n\t\t\t\t\t\t\t\t\t<div ng-repeat='paletaColor in paletaColores track by $index' class='color' ng-style='jsonColor(paletaColor)' ng-click='$parent.color=paletaColor'></div>\\\r\n\t\t\t\t\t\t\t\t</div>\\\r\n\t\t\t\t\t\t</div>\",\r\n\t\t\tscope: {\r\n\t\t\t\tcolor: \"=\"\r\n\t\t\t},\r\n\t\t\tcontroller: [\"$scope\", \"coloresPaletaValue\", function ($scope, coloresPaletaValue) {\r\n\t\t\t\t$scope.paletaColores = coloresPaletaValue;\r\n\r\n\t\t\t\t$scope.jsonColor = function (color) {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\"background-color\": color\r\n\t\t\t\t\t};\r\n\t\t\t\t};\r\n\r\n\t\t\t\t$scope.mostrarPicker = false;\r\n\r\n\t\t\t\t$scope.$on(\"editor:cerrarColorPickers\", function () {\r\n\r\n\t\t\t\t\t$scope.mostrarPicker = false;\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\t\tangular.element(\"#background-color-picker\").draggable({\r\n\t\t\t\t\trevert:false\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t}]\r\n\t\t};\r\n\t}]);\r\n\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/directives/bazamColorPicker.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/directives/bazamFormLogin.js":
/*!******************************************************************!*\
  !*** ./public/creador-de-logos/app/directives/bazamFormLogin.js ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("angular.module(\"disenador-de-logos\")\r\n\r\n\t.directive(\"bazamFormLogin\", [function () {\r\n\r\n\t\treturn {\r\n\t\t\trestrict: \"E\",\r\n\t\t\ttemplateUrl: \"app/templates/bazamFormLogin.tpl\",\r\n\t\t\tcontroller: [\"$scope\", \"clientesService\", \"$mdToast\", \"paisesValue\", \"$rootScope\", \"socialAuth\", \"$state\", function ($scope, clientesService, $mdToast, paisesValue, $rootScope, socialAuth, $state) {\r\n\r\n\t\t\t\tvar bz = this;\r\n\r\n\r\n\t\t\t\tbz.vistaActual = $state.current.name;\r\n\r\n\t\t\t\t$rootScope.$on('$stateChangeSuccess', function () {\r\n\r\n\t\t\t\t\tbz.vistaActual = $state.current.name;\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\t\tbz.paisDefecto = null;\r\n\r\n\t\t\t\tbz.ingresar = true;\r\n\r\n\t\t\t\tclientesService.pais()\r\n\t\t\t\t\t.then(function (res) {\r\n\t\t\t\t\t\tbz.paisDefecto = res.iso;\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\tbz.datosLogin = {};\r\n\r\n\t\t\t\tbz.completadoLogin = true;\r\n\r\n\t\t\t\tbz.login = function (datos, valido) {\r\n\r\n\t\t\t\t\tif (valido && bz.completadoLogin) {\r\n\r\n\t\t\t\t\t\tbz.loginForm.falloLogin = false;\r\n\t\t\t\t\t\tbz.completadoLogin = false;\r\n\r\n\t\t\t\t\t\tclientesService.login(datos).then(function () {\r\n\r\n\t\t\t\t\t\t\tif (clientesService.autorizado(true)) {\r\n\r\n\t\t\t\t\t\t\t\t$mdToast.show($mdToast.base({\r\n\t\t\t\t\t\t\t\t\targs: {\r\n\t\t\t\t\t\t\t\t\t\tmensaje: \"¡Bienvenido!\",\r\n\t\t\t\t\t\t\t\t\t\tclase: \"success\"\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\t\t$rootScope.mostrarModalLogin = false;\r\n\r\n\t\t\t\t\t\t\t\tif ($rootScope.callbackLogin) {\r\n\r\n\t\t\t\t\t\t\t\t\t$rootScope.callbackLogin();\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}).catch(function () {\r\n\r\n\t\t\t\t\t\t\t$mdToast.show($mdToast.base({\r\n\t\t\t\t\t\t\t\targs: {\r\n\t\t\t\t\t\t\t\t\tmensaje: \"Su usuario o contraseña son erroneos por favor verifique los mismos y vuelva a ingresar\",\r\n\t\t\t\t\t\t\t\t\tclase: \"danger\"\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}));\r\n\r\n\t\t\t\t\t\t}).finally(function () {\r\n\r\n\t\t\t\t\t\t\tbz.completadoLogin = true;\r\n\r\n\t\t\t\t\t\t});\r\n\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t};\r\n\r\n\t\t\t\tbz.completadoRegistro = true;\r\n\r\n\t\t\t\tbz.registrar = function (datos, valido) {\r\n\r\n\t\t\t\t\tif (valido && bz.completadoRegistro) {\r\n\r\n\t\t\t\t\t\tbz.registroForm.falloRegistro = false;\r\n\t\t\t\t\t\tbz.completadoRegistro = false;\r\n\r\n\t\t\t\t\t\tclientesService.registrar(datos.nombreCliente, datos.correo, datos.pass, datos.telefono, datos.pais).then(function () {\r\n\r\n\t\t\t\t\t\t\tif (clientesService.autorizado(true)) {\r\n\r\n\t\t\t\t\t\t\t\t$mdToast.show($mdToast.base({\r\n\t\t\t\t\t\t\t\t\targs: {\r\n\t\t\t\t\t\t\t\t\t\tmensaje: \"¡Registro exitoso!\",\r\n\t\t\t\t\t\t\t\t\t\tclase: \"success\"\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}));\r\n\r\n\t\t\t\t\t\t\t\t$rootScope.mostrarModalLogin = false;\r\n\r\n\t\t\t\t\t\t\t\tif ($rootScope.callbackLogin) {\r\n\t\t\t\t\t\t\t\t\t$rootScope.callbackLogin();\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}).catch(function () {\r\n\r\n\t\t\t\t\t\t\tbz.registroForm.falloRegistro = true;\r\n\r\n\t\t\t\t\t\t}).finally(function () {\r\n\r\n\t\t\t\t\t\t\tbz.completadoRegistro = true;\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t};\r\n\r\n\t\t\t\tbz.olvido = {\r\n\t\t\t\t\ttipo: \"cliente\"\r\n\t\t\t\t};\r\n\r\n\t\t\t\tbz.forgotPass = function (datos, v) {\r\n\t\t\t\t\tif (v) {\r\n\t\t\t\t\t\tbz.peticion = true;\r\n\t\t\t\t\t\tbz.loaderCargando2 = true;\r\n\t\t\t\t\t\tclientesService.forgotPass(datos).then(function () {\r\n\t\t\t\t\t\t\tbz.rc = 2;\r\n\t\t\t\t\t\t\tbz.loaderCargando2 = false;\r\n\t\t\t\t\t\t\t$mdToast.show($mdToast.base({\r\n\t\t\t\t\t\t\t\targs: {\r\n\t\t\t\t\t\t\t\t\tmensaje: \"Codigo enviado al correo.\",\r\n\t\t\t\t\t\t\t\t\tclase: \"success\"\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t}).catch(function () {\r\n\t\t\t\t\t\t\tbz.loaderCargando = false;\r\n\t\t\t\t\t\t}).finally(function () {\r\n\t\t\t\t\t\t\tbz.peticion = false;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\tbz.confirmarToken = function (opcion, val) {\r\n\t\t\t\t\tbz.peticion = true;\r\n\t\t\t\t\tif (opcion == true) {\r\n\t\t\t\t\t\tif (val) {\r\n\t\t\t\t\t\t\tclientesService.cambiarContrasena(bz.olvido).then(function () {\r\n\r\n\t\t\t\t\t\t\t\tbz.completadoLogin = true;\r\n\r\n\t\t\t\t\t\t\t\tvar datos = {\r\n\t\t\t\t\t\t\t\t\tcorreo: bz.olvido.correo,\r\n\t\t\t\t\t\t\t\t\tpass: bz.olvido.pass\r\n\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\tbz.loaderCargando2 = false;\r\n\t\t\t\t\t\t\t\tbz.login(datos, true);\r\n\r\n\t\t\t\t\t\t\t}).finally(function () {\r\n\t\t\t\t\t\t\t\tbz.peticion = false;\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tclientesService.confirmarToken(bz.olvido.token).then(function (res) {\r\n\t\t\t\t\t\t\tif (res) {\r\n\t\t\t\t\t\t\t\tbz.rc = 3;\r\n\t\t\t\t\t\t\t\t$mdToast.show($mdToast.base({\r\n\t\t\t\t\t\t\t\t\targs: {\r\n\t\t\t\t\t\t\t\t\t\tmensaje: \"Codigo Confirmado.\",\r\n\t\t\t\t\t\t\t\t\t\tclase: \"success\"\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}).catch(function () {\r\n\t\t\t\t\t\t\t//console.log(res)\r\n\t\t\t\t\t\t}).finally(function () {\r\n\t\t\t\t\t\t\tbz.peticion = false;\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/* REDES SOCIALES */\r\n\r\n\t\t\t\tbz.social = function (op) {\r\n\r\n\t\t\t\t\tswitch (op) {\r\n\t\t\t\t\t\tcase \"fb\":\r\n\r\n\t\t\t\t\t\t\tsocialAuth.facebook().then(function (res) {\r\n\r\n\t\t\t\t\t\t\t\tif (clientesService.autorizado(true)) {\r\n\r\n\t\t\t\t\t\t\t\t\t$mdToast.show($mdToast.base({\r\n\t\t\t\t\t\t\t\t\t\targs: {\r\n\t\t\t\t\t\t\t\t\t\t\tmensaje: \"¡Bienvenido! \" + res.data.msg,\r\n\t\t\t\t\t\t\t\t\t\t\tclase: \"success\"\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}));\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t$rootScope.mostrarModalLogin = false;\r\n\r\n\t\t\t\t\t\t\t\t\tif ($rootScope.callbackLogin) {\r\n\t\t\t\t\t\t\t\t\t\t$rootScope.callbackLogin();\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t\t\t}).catch(function () {\r\n\t\t\t\t\t\t\t\t$mdToast.show($mdToast.base({\r\n\t\t\t\t\t\t\t\t\targs: {\r\n\t\t\t\t\t\t\t\t\t\tmensaje: \"Un error ha ocurrido\",\r\n\t\t\t\t\t\t\t\t\t\tclase: \"danger\"\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\t}).finally(function () {\r\n\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase \"gg\":\r\n\r\n\t\t\t\t\t\t\tsocialAuth.google().then(function (res) {\r\n\t\t\t\t\t\t\t\tif (clientesService.autorizado(true)) {\r\n\r\n\t\t\t\t\t\t\t\t\t$mdToast.show($mdToast.base({\r\n\t\t\t\t\t\t\t\t\t\targs: {\r\n\t\t\t\t\t\t\t\t\t\t\tmensaje: \"¡Bienvenido! \" + res.data.msg,\r\n\t\t\t\t\t\t\t\t\t\t\tclase: \"success\"\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}));\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t$rootScope.mostrarModalLogin = false;\r\n\r\n\t\t\t\t\t\t\t\t\tif ($rootScope.callbackLogin) {\r\n\t\t\t\t\t\t\t\t\t\t$rootScope.callbackLogin();\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}).catch(function () {\r\n\t\t\t\t\t\t\t\t$mdToast.show($mdToast.base({\r\n\t\t\t\t\t\t\t\t\targs: {\r\n\t\t\t\t\t\t\t\t\t\tmensaje: \"Un error ha ocurrido\",\r\n\t\t\t\t\t\t\t\t\t\tclase: \"danger\"\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\t}).finally(function () {\r\n\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\tbz.noLoguear = function () {\r\n\t\t\t\t\t$rootScope.mostrarModalLogin = false;\r\n\t\t\t\t\t$state.go('inicio');\r\n\t\t\t\t}\r\n\r\n\t\t\t}],\r\n\t\t\tcontrollerAs: \"bazamLogin\"\r\n\t\t};\r\n\r\n\r\n\t}])\r\n\r\n\t.directive(\"bazamModalLogin\", [function () {\r\n\t\treturn {\r\n\t\t\trestrict: \"E\",\r\n\t\t\ttemplateUrl: \"app/templates/bazamModalLogin.tpl\"\r\n\t\t};\r\n\r\n\t}]);\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/directives/bazamFormLogin.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/directives/bazamMail.js":
/*!*************************************************************!*\
  !*** ./public/creador-de-logos/app/directives/bazamMail.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("angular.module(\"disenador-de-logos\")\r\n\r\n    .directive(\"bazamMail\", [\"clientesService\", \"$q\", function (clientesService, $q) {\r\n        return {\r\n            require: \"ngModel\",\r\n            link: function (scope, element, attributes, ctrl) {\r\n\r\n                ctrl.$asyncValidators.disponible = function (modelValor) {\r\n\r\n                    var defered = $q.defer();\r\n                    var promise = defered.promise;\r\n\r\n                    if (ctrl.$isEmpty(modelValor)) {\r\n                        return defered.resolve();\r\n                    }\r\n\r\n                    clientesService.correoDisponible(modelValor)\r\n                        .then(function () {\r\n                            defered.resolve();\r\n                        })\r\n                        .catch(function () {\r\n                            defered.reject();\r\n                        });\r\n\r\n                    return promise;\r\n\r\n                };\r\n\r\n            }\r\n        };\r\n\r\n    }]);\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/directives/bazamMail.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/directives/bazamPalettePicker.js":
/*!**********************************************************************!*\
  !*** ./public/creador-de-logos/app/directives/bazamPalettePicker.js ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("angular.module(\"disenador-de-logos\")\r\n\t.directive(\"bazamPalettePicker\", [function(){\r\n\t\treturn {\r\n\t\t\trestrict: \"AE\",\r\n\t\t\tscope: true,\r\n\t\t\ttemplateUrl: \"app/templates/bazamPalettePicker.tpl\",\r\n\t\t\tcontroller: [\"$scope\", \"coloresPaletteValue\", function ($scope, coloresPaletteValue){\r\n\r\n\t\t\t\tvar bz = $scope.$parent.inicio;\r\n\r\n\t\t\t\tbz.palettes = coloresPaletteValue;\r\n\r\n\t\t\t\tif (bz.palettesCopy == undefined) {\r\n\r\n\t\t\t\t\tbz.palettesCopy = [];\r\n\r\n\t\t\t\t\tangular.forEach(bz.palettes, function (palette, index) {\r\n\r\n\t\t\t\t\t\tbz.palettesCopy.push([]);\r\n\t\t\t\t\t\tvar i;\r\n\t\t\t\t\t\tfor (i = 0; i < palette.length; i++) {\r\n\t\t\t\t\t\t\tbz.palettesCopy[index].push(false);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t\t$scope.seleccionarColor= function($event){\r\n\r\n\t\t\t\t\tvar indiceArrays;\r\n                    \r\n\t\t\t\t\tvar pathSVG = $event.target;\r\n\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(pathSVG.classList.contains(\"linea-1\")){\r\n\t\t\t\t\t\tindiceArrays = 0;\r\n\t\t\t\t\t} else if(pathSVG.classList.contains(\"linea-2\")){\r\n\t\t\t\t\t\tindiceArrays = 1;\r\n\t\t\t\t\t} else if(pathSVG.classList.contains(\"linea-3\")){\r\n\t\t\t\t\t\tindiceArrays = 2;\r\n\t\t\t\t\t} else if(pathSVG.classList.contains(\"linea-4\")){\r\n\t\t\t\t\t\tindiceArrays = 3;\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\tvar indicePalettes = parseInt(angular.element(pathSVG).data(\"index\")) - 1;\r\n                    \r\n\t\t\t\t\tvar valor = bz.palettesCopy[indiceArrays][indicePalettes];\r\n                    \r\n\t\t\t\t\tbz.palettesCopy[indiceArrays][indicePalettes] = !valor;\r\n\r\n\t\t\t\t\t!valor ? pathSVG.classList.add(\"color-checked\") : pathSVG.classList.remove(\"color-checked\");\r\n\r\n\t\t\t\t};\r\n                \r\n\r\n\t\t\t\t$scope.checkRequired = function(){\r\n\r\n\t\t\t\t\tvar requerir = true;\r\n\t\t\t\t\tangular.forEach(bz.palettesCopy, function(palettes){\r\n\t\t\t\t\t\tangular.forEach(palettes, function(palette){\r\n\t\t\t\t\t\t\tif(palette){\r\n\t\t\t\t\t\t\t\trequerir = false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n                    \r\n\t\t\t\t\treturn requerir;\r\n\t\t\t\t};\r\n\r\n\t\t\t}],\r\n\t\t\tlink: function (scope, element) {\r\n\r\n\t\t\t\telement.find(\"[data-index]\").each(function(index, el){\r\n\r\n\t\t\t\t\tvar bz = scope.$parent.inicio;\r\n\r\n\t\t\t\t\tvar indiceArrays;\r\n\r\n\t\t\t\t\tswitch (el.className.baseVal){\r\n\t\t\t\t\tcase \"linea-1\":\r\n\t\t\t\t\t\tindiceArrays = 0;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"linea-2\":\r\n\t\t\t\t\t\tindiceArrays = 1;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"linea-3\":\r\n\t\t\t\t\t\tindiceArrays = 2;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"linea-4\":\r\n\t\t\t\t\t\tindiceArrays = 3;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar indicePalettes = parseInt(angular.element(el).data(\"index\")) - 1;\r\n\r\n\t\t\t\t\tvar valor = bz.palettesCopy[indiceArrays][indicePalettes];\r\n\r\n\t\t\t\t\tvalor ? el.classList.add(\"color-checked\") : el.classList.remove(\"color-checked\");\r\n\t\t\t\t\tel.style.fill = bz.palettes[indiceArrays][indicePalettes][0];\r\n\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\t}]);\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/directives/bazamPalettePicker.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/directives/bazamRedireccionar.js":
/*!**********************************************************************!*\
  !*** ./public/creador-de-logos/app/directives/bazamRedireccionar.js ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("angular.module(\"disenador-de-logos\")\r\n\r\n\t/////////////////////////////////////////////\r\n\t//////REDIRECCIONAR EN CAMBIO DE TAMAÑO//////\r\n\t/////////////////////////////////////////////\r\n\r\n\t.directive(\"bazamRedireccionar\", function ($window, $location) {\r\n\r\n\t\treturn {\r\n\t\t\trestrict: \"AE\",\r\n\t\t\tlink: function () {\r\n\r\n\t\t\t\tif ($window.innerWidth < 1024) {\r\n\t\t\t\t\t$window.location = \"/m\" + $location.url();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tangular.element(window).resize(function () {\r\n\t\t\t\t\tif ($window.innerWidth < 1024) {\r\n\t\t\t\t\t\t$window.location = \"/m\" + $location.url();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t});\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/directives/bazamRedireccionar.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/directives/bazamScroll.js":
/*!***************************************************************!*\
  !*** ./public/creador-de-logos/app/directives/bazamScroll.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("angular.module(\"disenador-de-logos\")\r\n\r\n\t.directive(\"bazamScroll\", [function () {\r\n\t\treturn {\r\n\t\t\trestrict: \"AE\",\r\n\t\t\tlink: function (scope, element) {\r\n\r\n\t\t\t\telement.find('a.link-scroll').click(function (e) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\tvar irA = element.find(e.target.attributes.href.value);\r\n\r\n\t\t\t\t\tangular.element('body').animate({\r\n\t\t\t\t\t\tscrollTop: irA[0].offsetTop\r\n\t\t\t\t\t}, 1000);\r\n\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t});\r\n\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t}]);\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/directives/bazamScroll.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/directives/bazamSvg.js":
/*!************************************************************!*\
  !*** ./public/creador-de-logos/app/directives/bazamSvg.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("angular.module(\"disenador-de-logos\")\r\n\r\n\r\n\t//////////////////////////////\r\n\t//////EDICION DEL SVG/////////\r\n\t//////////////////////////////\r\n\r\n\t.directive(\"bazamSvg\", [\"$rootScope\", \"fontService\", \"$timeout\", \"$q\", \"coloresPaletaValue\", function ($rootScope, fontService, $timeout, $q, coloresPaletaValue) {\r\n\t\treturn {\r\n\t\t\trestrict: \"AE\",\r\n\t\t\tscope: {\r\n\r\n\t\t\t\tsvg: \"=svg\",\r\n\t\t\t\ttexto: \"=texto\",\r\n\t\t\t\tfuente: \"=fuente\",\r\n\t\t\t\tsvgFinal: \"=svgFinal\",\r\n\t\t\t\tidLogo: \"=idLogo\",\r\n\t\t\t\tidPadre: \"=idPadre\",\r\n\t\t\t\teslogan: \"=eslogan\",\r\n\t\t\t\tcolorIcono: \"=colorIcono\",\r\n\t\t\t\tcolorTexto: \"=colorTexto\"\r\n\r\n\r\n\t\t\t},\r\n\t\t\tcontroller: function ($scope)\r\n\r\n\t\t\t{\r\n\r\n\t\t\t\t$scope.svgPreparado = $q.defer();\r\n\r\n\t\t\t\tif (!$scope.idLogo && !$scope.idPadre) { //si no es un logo previamente guardado\r\n\r\n\t\t\t\t\t$scope.fuenteCargada = fontService.preparar($scope.fuente.nombre, $scope.fuente.url);\r\n\r\n\t\t\t\t\t$scope.svgSaneado = $scope.svg.trim();\r\n\r\n\t\t\t\t\tvar posicion1 = $scope.svgSaneado.search(\">\");\r\n\r\n\t\t\t\t\t//svg tag\r\n\t\t\t\t\t$scope.svgTagIncompleto = $scope.svgSaneado.substr(0, posicion1 + 1);\r\n\r\n\t\t\t\t\tvar posicion2 = $scope.svgSaneado.substr(posicion1 + 1).search(\"</svg>\");\r\n\r\n\t\t\t\t\t//contenido del svg\r\n\t\t\t\t\t$scope.seccionInterna = $scope.svgSaneado.substr(posicion1 + 1).substr(0, posicion2);\r\n\r\n\t\t\t\t\t//recipiente de secciones del svg original\r\n\t\t\t\t\t$scope.seccionInternaElementos = [];\r\n\r\n\t\t\t\t\t//indices del elemento\r\n\t\t\t\t\t$scope.elementosIndices = [];\r\n\r\n\t\t\t\t\t//division en partes del svg\r\n\t\t\t\t\t$scope.seccionInterna.trim().split(\">\").forEach(function (parte, index) {\r\n\t\t\t\t\t\tvar indiceParte = \" data-indice='\" + index + \"'\";\r\n\t\t\t\t\t\tif (parte != \"\") { //si no es un tag de cerrar\r\n\t\t\t\t\t\t\tif (parte.search(\"</\") == -1) {\r\n\t\t\t\t\t\t\t\t//si es un tag compuesto, ej: \r\n\t\t\t\t\t\t\t\tif (parte.search(\"/\") == -1) {\r\n\t\t\t\t\t\t\t\t\t$scope.seccionInternaElementos.push(parte + indiceParte + \">\");\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t//si no es un tag compuesto, ej: path\r\n\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t$scope.seccionInternaElementos.push(parte.replace(\"/\", \"\") + indiceParte + \"/>\");\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t//si es un tag de cerrar\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t$scope.seccionInternaElementos.push(parte + \">\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t$scope.elementosIndices.push(false);\r\n\t\t\t\t\t});\r\n\t\t\t\t\t//union del nuevo contenido\r\n\t\t\t\t\t$scope.seccionInterna = $scope.seccionInternaElementos.join(\"\");\r\n\r\n\t\t\t\t\t$scope.svgTag = $scope.svgTagIncompleto + $scope.seccionInterna + \"</svg>\";\r\n\r\n\t\t\t\t} else if ($scope.idLogo || $scope.idPadre) { //si es un logo previamente guardado\r\n\r\n\t\t\t\t\t$scope.elementosIndices = [];\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\tlink: {\r\n\t\t\t\tpre: function (scope, element) {\r\n\r\n\t\t\t\t\tvar tamanoBase = 100;\r\n\r\n\t\t\t\t\tif (!scope.idLogo && !scope.idPadre) { // si no es un logo guardado previamente\r\n\r\n\t\t\t\t\t\tscope.fuenteCargada\r\n\t\t\t\t\t\t\t.then(function () {})\r\n\t\t\t\t\t\t\t.catch(function () {})\r\n\t\t\t\t\t\t\t.finally(function () {\r\n\r\n\r\n\t\t\t\t\t\t\t\t////////////////////////////////////////////////////////////\r\n\t\t\t\t\t\t\t\t//////Insertamos el SVG del icono dentro del SVG padre//////\r\n\t\t\t\t\t\t\t\t////////////////////////////////////////////////////////////\r\n\r\n\t\t\t\t\t\t\t\telement[0].innerHTML = \"<svg viewBox='0 0 \" + tamanoBase + \" \" + tamanoBase + \"'><g class='contenedor-icono'>\" + scope.svgTag + \"</g></svg>\";\r\n\r\n\t\t\t\t\t\t\t\tvar relacion = element[0].children[0].getClientRects()[0].height / tamanoBase;\r\n\r\n\t\t\t\t\t\t\t\tvar svgIcono = element[0].children[0].children[0].children[0];\r\n\r\n\t\t\t\t\t\t\t\tsvgIcono.setAttribute(\"height\", (tamanoBase / 2) + \"px\");\r\n\t\t\t\t\t\t\t\tsvgIcono.setAttribute(\"fill\", scope.colorIcono);\r\n\r\n\t\t\t\t\t\t\t\t/////////////////////////////////////////\r\n\t\t\t\t\t\t\t\t////////creamos el elemento Text/////////\r\n\t\t\t\t\t\t\t\t/////////////////////////////////////////\r\n\r\n\t\t\t\t\t\t\t\tvar texto = document.createElementNS(\"http://www.w3.org/2000/svg\", \"text\");\r\n\r\n\t\t\t\t\t\t\t\ttexto.setAttributeNS(null, \"x\", (tamanoBase / 2));\r\n\r\n\t\t\t\t\t\t\t\tvar textoNode = document.createTextNode(scope.texto);\r\n\r\n\t\t\t\t\t\t\t\ttexto.appendChild(textoNode);\r\n\r\n\t\t\t\t\t\t\t\telement[0].children[0].appendChild(texto);\r\n\r\n\t\t\t\t\t\t\t\tvar svgTexto = element[0].children[0].children[1];\r\n\r\n\r\n\t\t\t\t\t\t\t\tsvgTexto.style.fill = scope.colorTexto;\r\n\t\t\t\t\t\t\t\tsvgTexto.style.fontSize = (tamanoBase / 2) + \"px\";\r\n\t\t\t\t\t\t\t\tsvgTexto.setAttribute(\"text-anchor\", \"middle\");\r\n\t\t\t\t\t\t\t\tsvgTexto.setAttribute(\"font-family\", scope.fuente.nombre);\r\n\t\t\t\t\t\t\t\tsvgTexto.setAttribute(\"class\", \"textoPrincipal\");\r\n\r\n\t\t\t\t\t\t\t\t//////////////////////////////////////////////////////////////////////\r\n\t\t\t\t\t\t\t\t////ajustamos el tamaño del texto en relacion al tamaño del icono/////\r\n\t\t\t\t\t\t\t\t//////////////////////////////////////////////////////////////////////\r\n\r\n\t\t\t\t\t\t\t\twhile (svgTexto.getComputedTextLength() > (1.6 * svgIcono.height.baseVal.value)) {\r\n\r\n\t\t\t\t\t\t\t\t\tsvgTexto.style.fontSize = (parseFloat(svgTexto.style.fontSize) - 1) + \"px\";\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t///////////////////////////////////\r\n\t\t\t\t\t\t\t\t/////centramos los elementos///////\r\n\t\t\t\t\t\t\t\t///////////////////////////////////\r\n\r\n\t\t\t\t\t\t\t\tvar paddingTopIcono = ((tamanoBase - (svgIcono.height.baseVal.value + (svgTexto.getClientRects()[0].height / relacion))) / 2);\r\n\r\n\t\t\t\t\t\t\t\tsvgIcono.setAttribute(\"y\", paddingTopIcono);\r\n\r\n\t\t\t\t\t\t\t\tvar paddingTopText = (paddingTopIcono + parseFloat(svgIcono.getAttribute(\"height\")) + ((svgTexto.getClientRects()[0].height / relacion) / 1.3)) + \"px\";\r\n\r\n\t\t\t\t\t\t\t\tsvgTexto.setAttribute(\"y\", paddingTopText);\r\n\r\n\t\t\t\t\t\t\t\tif (((svgTexto.getClientRects()[0].height / relacion) + svgIcono.height.baseVal.value) >= tamanoBase) {\r\n\r\n\t\t\t\t\t\t\t\t\twhile (((svgTexto.getClientRects()[0].height / relacion) + svgIcono.height.baseVal.value) >= tamanoBase) {\r\n\r\n\t\t\t\t\t\t\t\t\t\tsvgIcono.setAttribute(\"height\", (parseFloat(svgIcono.getAttribute(\"height\")) * 0.95) + \"px\");\r\n\r\n\t\t\t\t\t\t\t\t\t\tsvgTexto.style.fontSize = (parseFloat(svgTexto.style.fontSize) * 0.95) + \"px\";\r\n\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\tpaddingTopIcono = ((tamanoBase - (svgIcono.height.baseVal.value + (svgTexto.getClientRects()[0].height / relacion))) / 2);\r\n\r\n\t\t\t\t\t\t\t\t\tsvgIcono.setAttribute(\"y\", paddingTopIcono);\r\n\r\n\t\t\t\t\t\t\t\t\tpaddingTopText = (paddingTopIcono + parseFloat(svgIcono.getAttribute(\"height\")) + ((svgTexto.getClientRects()[0].height / relacion) / 1.3)) + \"px\";\r\n\r\n\t\t\t\t\t\t\t\t\tsvgTexto.setAttribute(\"y\", paddingTopText);\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t\t\t\t//agregamos el Style Tag al svg\r\n\t\t\t\t\t\t\t\telement.children().prepend(\"<style> @font-face { font-family: '\" + scope.fuente.nombre + \"'; src: url('\" + scope.fuente.url + \"')}  </style>\");\r\n\r\n\t\t\t\t\t\t\t\tscope.svgPreparado.resolve();\r\n\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t} else if (scope.idLogo || scope.idPadre) { // si es un logo previamenteguardado\r\n\r\n\t\t\t\t\t\telement.html(scope.svg);\r\n\r\n\t\t\t\t\t\telement.find(\"g.contenedor-icono > svg [data-indice]\").each(function () {\r\n\r\n\t\t\t\t\t\t\tscope.elementosIndices[parseInt(this.getAttribute(\"data-indice\"))] = false;\r\n\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tscope.texto = element.find(\"text.textoPrincipal\").text();\r\n\r\n\t\t\t\t\t\tif (element.find(\"text.eslogan\").length) {\r\n\r\n\r\n\t\t\t\t\t\t\tscope.eslogan = element.find(\"text.eslogan\").text();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tscope.svgPreparado.resolve();\r\n\r\n\t\t\t\t\t}\r\n\r\n\r\n\r\n\r\n\t\t\t\t},\r\n\t\t\t\tpost: function (scope, element) {\r\n\r\n\t\t\t\t\t//esperamos a que la fuente haya cargado\r\n\t\t\t\t\tscope.svgPreparado.promise.finally(function () {\r\n\r\n\t\t\t\t\t\t//reinsertamos el svg para permitir que se muestre\r\n\t\t\t\t\t\telement.html(element.html());\r\n\r\n\t\t\t\t\t\tscope.svgFinal = element.html();\r\n\r\n\t\t\t\t\t\tvar fuentes = {\r\n\t\t\t\t\t\t\tprincipal: scope.fuente,\r\n\t\t\t\t\t\t\teslogan: null\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\tvar paletaColores = coloresPaletaValue;\r\n\r\n\t\t\t\t\t\t//evento para los hijos directos de seccion-icono\r\n\t\t\t\t\t\tangular.element(\"bazam-svg\").on(\"click\", \"g.contenedor-icono > svg :not(g), .textoPrincipal, .eslogan\", function (e) {\r\n\r\n\t\t\t\t\t\t\t/* COLOPICKER */\r\n\t\t\t\t\t\t\tvar coordenadasCon = angular.element(\".svg-container\")[0].getBoundingClientRect();\r\n\r\n\t\t\t\t\t\t\tvar titulo = \"\";\r\n\t\t\t\t\t\t\tvar id = \"\";\r\n\r\n\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\tvar crearPicker = function (id) {\r\n\r\n\t\t\t\t\t\t\t\tif (angular.element(\"#\" + id).length) {\r\n\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tvar posicionPicker;\r\n\r\n\t\t\t\t\t\t\t\tswitch (id) {\r\n\r\n\t\t\t\t\t\t\t\tcase \"color-picker-icono\":\r\n\t\t\t\t\t\t\t\t\tposicionPicker = {\r\n\t\t\t\t\t\t\t\t\t\t\"position\": \"fixed\",\r\n\t\t\t\t\t\t\t\t\t\t\"left\": coordenadasCon.right + 10,\r\n\t\t\t\t\t\t\t\t\t\t\"top\": coordenadasCon.top - 10,\r\n\t\t\t\t\t\t\t\t\t\t\"width\": coordenadasCon.width / 1.6,\r\n\t\t\t\t\t\t\t\t\t\t\"height\": coordenadasCon.height / 2,\r\n\t\t\t\t\t\t\t\t\t\t\"background-color\": \"white\",\r\n\t\t\t\t\t\t\t\t\t\t\"z-index\": \"2\"\r\n\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\tcase \"color-picker-texto\":\r\n\t\t\t\t\t\t\t\t\tposicionPicker = {\r\n\t\t\t\t\t\t\t\t\t\t\"position\": \"fixed\",\r\n\t\t\t\t\t\t\t\t\t\t\"left\": coordenadasCon.left - (coordenadasCon.width / 2) - 10,\r\n\t\t\t\t\t\t\t\t\t\t\"top\": coordenadasCon.top - 40,\r\n\t\t\t\t\t\t\t\t\t\t\"width\": coordenadasCon.width / 1.6,\r\n\t\t\t\t\t\t\t\t\t\t\"height\": coordenadasCon.height / 2,\r\n\t\t\t\t\t\t\t\t\t\t\"background-color\": \"white\",\r\n\t\t\t\t\t\t\t\t\t\t\"z-index\": \"2\"\r\n\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\tcase \"color-picker-eslogan\":\r\n\t\t\t\t\t\t\t\t\tposicionPicker = {\r\n\t\t\t\t\t\t\t\t\t\t\"position\": \"fixed\",\r\n\t\t\t\t\t\t\t\t\t\t\"left\": coordenadasCon.left - (coordenadasCon.width / 2) - 10,\r\n\t\t\t\t\t\t\t\t\t\t\"top\": coordenadasCon.top + 10 + (coordenadasCon.height / 2),\r\n\t\t\t\t\t\t\t\t\t\t\"width\": coordenadasCon.width / 1.6,\r\n\t\t\t\t\t\t\t\t\t\t\"height\": coordenadasCon.height / 2,\r\n\t\t\t\t\t\t\t\t\t\t\"background-color\": \"white\",\r\n\t\t\t\t\t\t\t\t\t\t\"z-index\": \"2\"\r\n\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tvar colorPicker = angular.element(\"<div class='element-color-picker'><div class='title'>\" + titulo + \" <span class='close-color-picker'><i class='material-icons cerrar'>clear</i></span></div></div>\");\r\n\r\n\t\t\t\t\t\t\t\tcolorPicker.attr(\"id\", id);\r\n\r\n\t\t\t\t\t\t\t\tcolorPicker.css(posicionPicker);\r\n\r\n\t\t\t\t\t\t\t\tangular.forEach(paletaColores, function (color) {\r\n\r\n\t\t\t\t\t\t\t\t\tvar colorIndividual = angular.element(\"<div></div>\");\r\n\r\n\t\t\t\t\t\t\t\t\tcolorIndividual.addClass(\"color\");\r\n\r\n\t\t\t\t\t\t\t\t\tcolorIndividual.attr(\"data-color\", color);\r\n\r\n\t\t\t\t\t\t\t\t\tcolorIndividual.css({\r\n\t\t\t\t\t\t\t\t\t\t\"background-color\": color,\r\n\t\t\t\t\t\t\t\t\t\t\"width\": \"4.2%\",\r\n\t\t\t\t\t\t\t\t\t\t\"height\": \"6.7%\",\r\n\t\t\t\t\t\t\t\t\t\t\"display\": \"inline-block\"\r\n\t\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\t\tcolorPicker.append(colorIndividual);\r\n\r\n\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\tangular.element(\".principal-container.editor\").append(colorPicker);\r\n\r\n\t\t\t\t\t\t\t\tcolorPicker.draggable({\r\n\t\t\t\t\t\t\t\t\trevert:false\r\n\t\t\t\t\t\t\t\t  });\r\n\r\n\t\t\t\t\t\t\t};\r\n\r\n\r\n\r\n\t\t\t\t\t\t\tvar clicked = angular.element(e.target);\r\n\r\n\t\t\t\t\t\t\tif (clicked.hasClass(\"textoPrincipal\")) {\r\n\r\n\t\t\t\t\t\t\t\ttitulo = \"NOMBRE\";\r\n\t\t\t\t\t\t\t\tid = \"color-picker-texto\";\r\n\r\n\t\t\t\t\t\t\t} else if (clicked.hasClass(\"eslogan\")) {\r\n\r\n\t\t\t\t\t\t\t\ttitulo = \"ESLOGAN\";\r\n\t\t\t\t\t\t\t\tid = \"color-picker-eslogan\";\r\n\t\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t\ttitulo = \"ICONO\";\r\n\t\t\t\t\t\t\t\tid = \"color-picker-icono\";\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tcrearPicker(id);\r\n\r\n\t\t\t\t\t\t\tif (clicked.hasClass(\"textoPrincipal\") || clicked.hasClass(\"eslogan\")) {\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t//angular.element(\"body\").append(\"<div style='position:fixed; left: 50%; top: 50%; background: white; width: 200px; height: 200px'> hola </div>\")\r\n\r\n\t\t\t\t\t\t\tangular.element(\".seleccionado\").removeClass(\"seleccionado\");\r\n\t\t\t\t\t\t\tangular.element(this).addClass(\"seleccionado\");\r\n\r\n\t\t\t\t\t\t\t//obtenemos el indice que es espejo del array\r\n\t\t\t\t\t\t\tvar indiceParte = angular.element(this).attr(\"data-indice\");\r\n\r\n\t\t\t\t\t\t\t//definimos en false todos los valores del array\r\n\t\t\t\t\t\t\tscope.elementosIndices.forEach(function (valor, indice) {\r\n\r\n\t\t\t\t\t\t\t\tscope.elementosIndices[indice] = false;\r\n\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t//definimos en true la seccion objetivo\r\n\t\t\t\t\t\t\tscope.elementosIndices[indiceParte] = true;\r\n\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tangular.element(\".principal-container.editor\").on(\"click\", \"#color-picker-icono, #color-picker-texto, #color-picker-eslogan\", function (e) {\r\n\r\n\t\t\t\t\t\t\tvar contenedorColor = angular.element(e.target);\r\n\r\n\t\t\t\t\t\t\tvar color = contenedorColor.data(\"color\");\r\n\r\n\t\t\t\t\t\t\tvar colorPicker = contenedorColor.parent();\r\n\r\n\t\t\t\t\t\t\tswitch (colorPicker.attr(\"id\")) {\r\n\r\n\t\t\t\t\t\t\tcase \"color-picker-icono\":\r\n\r\n\t\t\t\t\t\t\t\tvar indice = scope.elementosIndices.indexOf(true);\r\n\t\t\t\t\t\t\t\t//cambiamos el color al correcto\r\n\t\t\t\t\t\t\t\telement.find(\"[data-indice=\" + indice + \"]\").css(\"fill\", color);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\tcase \"color-picker-texto\":\r\n\t\t\t\t\t\t\t\telement.find(\"text.textoPrincipal\").css(\"fill\", color);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\tcase \"color-picker-eslogan\":\r\n\t\t\t\t\t\t\t\telement.find(\"text.eslogan\").css(\"fill\", color);\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t});\r\n\r\n\r\n\t\t\t\t\t\tangular.element(\".principal-container.editor\").on(\"click\", \".close-color-picker\", function () {\r\n\r\n\t\t\t\t\t\t\tvar colorPicker = angular.element(this).parents(\".element-color-picker\");\r\n\r\n\t\t\t\t\t\t\tif (colorPicker.attr(\"id\") == \"color-picker-icono\") {\r\n\t\t\t\t\t\t\t\tangular.element(\".seleccionado\").removeClass(\"seleccionado\");\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tcolorPicker.remove();\r\n\r\n\r\n\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tscope.$on(\"editor:cerrarColorPickers\", function () {\r\n\r\n\t\t\t\t\t\t\tangular.element(\".color-picker-bazam:not(#color-picker-fondo)\").remove();\r\n\t\t\t\t\t\t\tangular.element(\".seleccionado\").removeClass(\"seleccionado\");\r\n\r\n\t\t\t\t\t\t});\r\n\r\n\r\n\t\t\t\t\t\t////////////////////////////////////////////\r\n\t\t\t\t\t\t////////vigilamos el cambio de texto////////\r\n\t\t\t\t\t\t////////////////////////////////////////////\r\n\r\n\t\t\t\t\t\tscope.$on(\"editor:texto\", function (evento, texto) {\r\n\r\n\t\t\t\t\t\t\tvar textoFinal = texto.texto;\r\n\r\n\t\t\t\t\t\t\tvar selector = !texto.eslogan ? \".textoPrincipal\" : \".eslogan\";\r\n\r\n\t\t\t\t\t\t\telement.find(selector).text(textoFinal);\r\n\t\t\t\t\t\t\tobtenerSVGFinal();\r\n\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tscope.$on(\"editor:eliminarEslogan\", function () {\r\n\r\n\t\t\t\t\t\t\telement.find(\".eslogan\").remove();\r\n\t\t\t\t\t\t\tobtenerSVGFinal();\r\n\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t/////////////////////////////////////////////\r\n\t\t\t\t\t\t///vigilamos el cambio de fuente del texto///\r\n\t\t\t\t\t\t/////////////////////////////////////////////\r\n\r\n\t\t\t\t\t\tscope.$on(\"editor:fuente\", function (evento, datos) {\r\n\r\n\r\n\t\t\t\t\t\t\tvar selector = datos.objetivo == \"texto\" ? \"text.textoPrincipal\" : \"text.eslogan\";\r\n\t\t\t\t\t\t\tvar keyFuente = datos.objetivo == \"texto\" ? \"principal\" : \"eslogan\";\r\n\r\n\t\t\t\t\t\t\tfuentes[keyFuente] = datos.fuente;\r\n\r\n\t\t\t\t\t\t\tvar htmlStyle = \"\";\r\n\r\n\r\n\r\n\t\t\t\t\t\t\tif (fuentes.principal && fuentes.eslogan) {\r\n\r\n\t\t\t\t\t\t\t\thtmlStyle = \"@font-face { font-family: '\" + fuentes.principal.nombre + \"'; src: url('\" + fuentes.principal.url + \"')}\\n @font-face { font-family: '\" + fuentes.eslogan.nombre + \"'; src: url('\" + fuentes.eslogan.url + \"')}\";\r\n\r\n\t\t\t\t\t\t\t} else if (fuentes.principal) {\r\n\r\n\t\t\t\t\t\t\t\thtmlStyle = \"@font-face { font-family: '\" + fuentes.principal.nombre + \"'; src: url('\" + fuentes.principal.url + \"')}\";\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t//cambiamos la font-family al correcto\r\n\r\n\t\t\t\t\t\t\telement.find(selector).attr(\"font-family\", datos.fuente.nombre);\r\n\r\n\t\t\t\t\t\t\telement.children().children(\"style\").html(htmlStyle);\r\n\r\n\t\t\t\t\t\t\tobtenerSVGFinal();\r\n\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t/////////////////////////////////////////////\r\n\t\t\t\t\t\t/////vigilamos las propiedades del texto/////\r\n\t\t\t\t\t\t/////////////////////////////////////////////\r\n\r\n\t\t\t\t\t\tscope.$on(\"editor:propiedad\", function (evento, propiedad) {\r\n\r\n\t\t\t\t\t\t\tvar selector = propiedad.eslogan ? \"text.eslogan\" : \"text.textoPrincipal\";\r\n\r\n\t\t\t\t\t\t\tif (propiedad.propiedad == \"bold\") {\r\n\r\n\t\t\t\t\t\t\t\tvar grosor = element.find(selector).attr(\"font-weight\") == \"bold\" ? \"normal\" : \"bold\";\r\n\r\n\t\t\t\t\t\t\t\t//cambiamos la font-weight al correcto\r\n\t\t\t\t\t\t\t\telement.find(selector).attr(\"font-weight\", grosor);\r\n\r\n\t\t\t\t\t\t\t} else if (propiedad.propiedad == \"cursive\") {\r\n\r\n\t\t\t\t\t\t\t\tvar estilo = element.find(selector)[0].style.fontStyle == \"oblique\" ? \"normal\" : \"oblique\";\r\n\r\n\t\t\t\t\t\t\t\t//cambiamos la font-weight al correcto\r\n\t\t\t\t\t\t\t\telement.find(selector).css(\"font-style\", estilo);\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tobtenerSVGFinal();\r\n\t\t\t\t\t\t});\r\n\r\n\r\n\t\t\t\t\t\t/////////////////////////////////////////////\r\n\t\t\t\t\t\t///////vigilamos el cambio de tamaño/////////\r\n\t\t\t\t\t\t/////////////////////////////////////////////\r\n\r\n\t\t\t\t\t\tscope.$on(\"editor:tamano\", function (evento, datos) {\r\n\r\n\r\n\t\t\t\t\t\t\tif (datos.objetivo == \"texto\" || datos.objetivo == \"eslogan\") {\r\n\r\n\r\n\t\t\t\t\t\t\t\tvar selector = datos.objetivo == \"eslogan\" ? \"text.eslogan\" : \"text.textoPrincipal\";\r\n\t\t\t\t\t\t\t\tvar texto = element.find(selector);\r\n\t\t\t\t\t\t\t\tvar tamano = \"\";\r\n\t\t\t\t\t\t\t\tif (datos.accion) {\r\n\r\n\t\t\t\t\t\t\t\t\ttamano = (parseFloat(texto.css(\"font-size\")) + 1) + \"px\";\r\n\r\n\t\t\t\t\t\t\t\t} else if (!datos.accion) {\r\n\r\n\t\t\t\t\t\t\t\t\ttamano = (parseFloat(texto.css(\"font-size\")) - 1) + \"px\";\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\ttexto.css(\"font-size\", tamano);\r\n\r\n\t\t\t\t\t\t\t} else if (datos.objetivo == \"icono\") {\r\n\r\n\t\t\t\t\t\t\t\tvar icono = element.find(\"g.contenedor-icono > svg\");\r\n\r\n\t\t\t\t\t\t\t\tvar alto = parseFloat(icono.attr(\"height\"));\r\n\t\t\t\t\t\t\t\tvar ancho = icono.attr(\"width\") ? parseFloat(icono.attr(\"width\")) : null;\r\n\t\t\t\t\t\t\t\tvar altoFinal = 0;\r\n\t\t\t\t\t\t\t\tvar anchoFinal = 0;\r\n\t\t\t\t\t\t\t\tif (datos.accion) {\r\n\r\n\t\t\t\t\t\t\t\t\taltoFinal = alto + 1;\r\n\t\t\t\t\t\t\t\t\tanchoFinal = ancho ? ancho + 1 : null;\r\n\r\n\t\t\t\t\t\t\t\t} else if (!datos.accion) {\r\n\r\n\t\t\t\t\t\t\t\t\taltoFinal = alto - 1;\r\n\t\t\t\t\t\t\t\t\tanchoFinal = ancho ? ancho - 1 : null;\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\ticono.attr(\"height\", altoFinal + \"px\");\r\n\r\n\t\t\t\t\t\t\t\tif (anchoFinal) {\r\n\r\n\t\t\t\t\t\t\t\t\ticono.attr(\"width\", anchoFinal + \"px\");\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tobtenerSVGFinal();\r\n\r\n\t\t\t\t\t\t});\r\n\r\n\r\n\r\n\t\t\t\t\t\t/////////////////////////////////////////////\r\n\t\t\t\t\t\t///////////vigilamos el movimiento///////////\r\n\t\t\t\t\t\t/////////////////////////////////////////////\r\n\r\n\t\t\t\t\t\tvar currentX = 0;\r\n\t\t\t\t\t\tvar currentY = 0;\r\n\t\t\t\t\t\tvar currentMatrix = 0;\r\n\r\n\t\t\t\t\t\tangular.element(\"bazam-svg\").on(\"mousedown\", \"text.eslogan, text.textoPrincipal, g.contenedor-icono svg\", function (evento) {\r\n\r\n\t\t\t\t\t\t\tvar selector = evento.currentTarget.tagName == \"svg\" ? \"g.contenedor-icono\" : this;\r\n\r\n\t\t\t\t\t\t\tif (!angular.element(selector).attr(\"transform\")) {\r\n\r\n\t\t\t\t\t\t\t\tangular.element(selector).attr(\"transform\", \"matrix(1 0 0 1 0 0)\");\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tangular.element(selector).attr(\"movimiento-bz\", true);\r\n\r\n\t\t\t\t\t\t\tcurrentX = evento.clientX;\r\n\r\n\t\t\t\t\t\t\tcurrentY = evento.clientY;\r\n\r\n\t\t\t\t\t\t\tcurrentMatrix = angular.element(selector).attr(\"transform\").slice(7, -1).split(\" \");\r\n\r\n\t\t\t\t\t\t\tfor (var i = 0; i < currentMatrix.length; i++) {\r\n\r\n\t\t\t\t\t\t\t\tcurrentMatrix[i] = parseFloat(currentMatrix[i]);\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t});\r\n\r\n\r\n\t\t\t\t\t\tangular.element(\"bazam-svg\").on(\"mousemove\", \"text.eslogan[movimiento-bz], text.textoPrincipal[movimiento-bz], g.contenedor-icono[movimiento-bz]\", function (evento) {\r\n\r\n\r\n\t\t\t\t\t\t\tif (angular.element(\"[movimiento-bz]\").length) {\r\n\r\n\t\t\t\t\t\t\t\tvar dx = evento.clientX - currentX;\r\n\t\t\t\t\t\t\t\tvar dy = evento.clientY - currentY;\r\n\r\n\t\t\t\t\t\t\t\tvar svgPadre = element[0].children[0];\r\n\r\n\t\t\t\t\t\t\t\tvar relacionX = (svgPadre.getClientRects()[0].width / parseFloat(element.children().attr(\"viewBox\").split(\" \")[2]));\r\n\r\n\t\t\t\t\t\t\t\tvar relacionY = (svgPadre.getClientRects()[0].height / parseFloat(element.children().attr(\"viewBox\").split(\" \")[3]));\r\n\r\n\t\t\t\t\t\t\t\tcurrentMatrix[4] += (dx / relacionY);\r\n\t\t\t\t\t\t\t\tcurrentMatrix[5] += (dy / relacionX);\r\n\r\n\t\t\t\t\t\t\t\tvar newMatrix = \"matrix(\" + currentMatrix.join(\" \") + \")\";\r\n\r\n\t\t\t\t\t\t\t\tangular.element(this).attr(\"transform\", newMatrix);\r\n\t\t\t\t\t\t\t\tcurrentX = evento.clientX;\r\n\t\t\t\t\t\t\t\tcurrentY = evento.clientY;\r\n\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tangular.element(document.querySelector(\"body\")).mouseup(function () {\r\n\r\n\t\t\t\t\t\t\tangular.element(\"text.textoPrincipal, g.contenedor-icono, text.eslogan\").removeAttr(\"movimiento-bz\");\r\n\r\n\t\t\t\t\t\t\tvar clon = angular.element(document.querySelector(\"bazam-svg\")).clone();\r\n\r\n\t\t\t\t\t\t\tclon.find(\".seleccionado\").removeClass(\"seleccionado\");\r\n\r\n\t\t\t\t\t\t\tscope.$apply(function () {\r\n\t\t\t\t\t\t\t\tscope.svgFinal = clon.html();\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t/*\r\n\t\t\t\t\t\tangular.element(document.querySelector(\".editor *\")).mouseup(function () {\r\n\r\n\t\t\t\t\t\t\tif (intermediador) {\r\n\r\n\t\t\t\t\t\t\t\telement.find(\".seleccionado\").removeClass(\"seleccionado\");\r\n\t\t\t\t\t\t\t\tconsole.log(\"hola\")\r\n\t\t\t\t\t\t\t\tangular.element(\"#color-picker-icono\").remove();\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t*/\r\n\r\n\r\n\t\t\t\t\t\t///////////////////////////////////////////\r\n\t\t\t\t\t\t//////////////COMPARACION//////////////////\r\n\t\t\t\t\t\t///////////////////////////////////////////\r\n\r\n\r\n\t\t\t\t\t\tscope.$on(\"editor:comparar\", function () {\r\n\r\n\t\t\t\t\t\t\t$rootScope.$broadcast(\"directiva:comparar\", {\r\n\t\t\t\t\t\t\t\tsvg: element.html(),\r\n\t\t\t\t\t\t\t\tcreacion: Date.now()\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t});\r\n\r\n\r\n\t\t\t\t\t\t/////////////////////////////////////////\r\n\t\t\t\t\t\t//////////////ORIENTACION////////////////\r\n\t\t\t\t\t\t/////////////////////////////////////////\r\n\r\n\r\n\r\n\t\t\t\t\t\tscope.$on(\"editor:orientacion\", function (evento, orientacion) {\r\n\r\n\t\t\t\t\t\t\tvar tamanoBase = 100;\r\n\t\t\t\t\t\t\tvar svgIcono;\r\n\t\t\t\t\t\t\tvar svgTexto;\r\n\t\t\t\t\t\t\tvar eslogan;\r\n\r\n\t\t\t\t\t\t\tvar relacion = element[0].children[0].getClientRects()[0].height / tamanoBase;\r\n\r\n\t\t\t\t\t\t\tif (orientacion == \"horizontal\") {\r\n\r\n\t\t\t\t\t\t\t\tvar alturaSVG = tamanoBase;\r\n\t\t\t\t\t\t\t\tvar anchoSVG = tamanoBase;\r\n\r\n\t\t\t\t\t\t\t\tsvgIcono = element.find(\"g.contenedor-icono > svg\")[0];\r\n\r\n\t\t\t\t\t\t\t\tsvgIcono.setAttribute(\"height\", (alturaSVG * 0.75) + \"px\");\r\n\t\t\t\t\t\t\t\tsvgIcono.setAttribute(\"width\", (alturaSVG * 0.75) + \"px\");\r\n\t\t\t\t\t\t\t\tsvgIcono.parentElement.setAttribute(\"transform\", \"\");\r\n\r\n\r\n\t\t\t\t\t\t\t\t/////////////////////////////////////////\r\n\t\t\t\t\t\t\t\t////////creamos el elemento Text/////////\r\n\t\t\t\t\t\t\t\t/////////////////////////////////////////\r\n\r\n\t\t\t\t\t\t\t\tsvgTexto = element.find(\"text.textoPrincipal\")[0];\r\n\r\n\t\t\t\t\t\t\t\tsvgTexto.style.fontSize = ((alturaSVG * 0.75) / 2) + \"px\";\r\n\t\t\t\t\t\t\t\tsvgTexto.setAttribute(\"text-anchor\", \"left\");\r\n\t\t\t\t\t\t\t\tsvgTexto.setAttribute(\"transform\", \"\");\r\n\t\t\t\t\t\t\t\t//////////////////////////////////////////////////////////////////////\r\n\t\t\t\t\t\t\t\t////ajustamos el tamaño del texto en relacion al tamaño del icono/////\r\n\t\t\t\t\t\t\t\t//////////////////////////////////////////////////////////////////////\r\n\r\n\t\t\t\t\t\t\t\tvar anchoViewBox = parseInt(element[0].children[0].getAttribute(\"viewBox\").split(\" \")[3]);\r\n\r\n\t\t\t\t\t\t\t\twhile ((svgIcono.width.baseVal.value + (anchoSVG * 0.05) + svgTexto.getComputedTextLength()) > (anchoViewBox * 0.80)) {\r\n\r\n\t\t\t\t\t\t\t\t\tsvgTexto.style.fontSize = (parseFloat(svgTexto.style.fontSize) * 0.95) + \"px\";\r\n\t\t\t\t\t\t\t\t\tsvgIcono.setAttribute(\"width\", (svgIcono.width.baseVal.value * 0.95) + \"px\");\r\n\t\t\t\t\t\t\t\t\tsvgIcono.setAttribute(\"height\", (svgIcono.height.baseVal.value * 0.95) + \"px\");\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t///////////////////////////////////\r\n\t\t\t\t\t\t\t\t/////centramos los elementos///////\r\n\t\t\t\t\t\t\t\t///////////////////////////////////\r\n\r\n\t\t\t\t\t\t\t\t//anchoSVG - (svgIcono.width.baseVal.value + (anchoSVG * 0.05) + svgTexto.getComputedTextLength())\r\n\r\n\t\t\t\t\t\t\t\tvar totalEspacioIconoFuente = (svgIcono.width.baseVal.value + (anchoSVG * 0.05) + svgTexto.getComputedTextLength());\r\n\r\n\t\t\t\t\t\t\t\tvar paddingLeft = (anchoSVG - totalEspacioIconoFuente) / 2;\r\n\r\n\t\t\t\t\t\t\t\tsvgIcono.setAttribute(\"y\", (alturaSVG / 2) - (svgIcono.height.baseVal.value / 2));\r\n\t\t\t\t\t\t\t\tsvgIcono.setAttribute(\"x\", paddingLeft);\r\n\r\n\t\t\t\t\t\t\t\tsvgTexto.setAttribute(\"x\", paddingLeft + (svgIcono.width.baseVal.value + (anchoSVG * 0.05)));\r\n\t\t\t\t\t\t\t\tsvgTexto.setAttribute(\"y\", (alturaSVG / 2) + ((svgTexto.getClientRects()[0].height / relacion) / 4));\r\n\r\n\t\t\t\t\t\t\t\t//SI EXISTE EL ESLOGAN\r\n\r\n\t\t\t\t\t\t\t\tif (element.find(\"text.eslogan\").length) {\r\n\r\n\t\t\t\t\t\t\t\t\teslogan = element.find(\"text.eslogan\")[0];\r\n\r\n\t\t\t\t\t\t\t\t\teslogan.setAttribute(\"transform\", \"\");\r\n\t\t\t\t\t\t\t\t\teslogan.setAttribute(\"text-anchor\", \"left\");\r\n\t\t\t\t\t\t\t\t\teslogan.style.fontSize = svgTexto.style.fontSize;\r\n\r\n\t\t\t\t\t\t\t\t\teslogan.setAttribute(\"x\", svgTexto.getAttribute(\"x\"));\r\n\t\t\t\t\t\t\t\t\t/*\r\n\t\t\t\t\t\t\t\t\twhile ((eslogan.getComputedTextLength() > (svgTexto.getComputedTextLength() * 0.8))) {\r\n\r\n\t\t\t\t\t\t\t\t\t\teslogan.style.fontSize = (parseFloat(eslogan.style.fontSize) * 0.95) + \"px\";\r\n\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t*/\r\n\r\n\t\t\t\t\t\t\t\t\tsvgTexto.setAttribute(\"y\", (alturaSVG / 2) + ((svgTexto.getClientRects()[0].height / relacion) / 4) * 0.5);\r\n\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t//AJUSTAR ALTURA ESLOGAN AQUI\r\n\t\t\t\t\t\t\t\t\t//eslogan.setAttribute(\"y\", (alturaSVG / 1.65));\r\n\r\n\r\n\r\n\t\t\t\t\t\t\t\t\twhile (((eslogan.getClientRects()[0].height / relacion) * 1.5) >= (svgTexto.getClientRects()[0].height / relacion)) {\r\n\t\t\t\t\t\t\t\t\t\teslogan.style.fontSize = (parseFloat(eslogan.style.fontSize) * 0.95) + \"px\";\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\teslogan.setAttribute(\"y\", ((alturaSVG / 2) + ((svgTexto.getClientRects()[0].height / relacion) / 4) * 0.5) + ((eslogan.getClientRects()[0].height / relacion) * 0.9));\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\r\n\r\n\t\t\t\t\t\t\t} else if (orientacion == \"vertical\") {\r\n\r\n\r\n\t\t\t\t\t\t\t\t////////////////////////////////////////////////////////////\r\n\t\t\t\t\t\t\t\t//////Insertamos el SVG del icono dentro del SVG padre//////\r\n\t\t\t\t\t\t\t\t////////////////////////////////////////////////////////////\r\n\r\n\t\t\t\t\t\t\t\tsvgIcono = element.find(\"g.contenedor-icono > svg\")[0];\r\n\r\n\t\t\t\t\t\t\t\tsvgIcono.setAttribute(\"height\", (tamanoBase / 2) + \"px\");\r\n\t\t\t\t\t\t\t\tsvgIcono.removeAttribute(\"width\");\r\n\t\t\t\t\t\t\t\tsvgIcono.removeAttribute(\"x\");\r\n\t\t\t\t\t\t\t\tsvgIcono.parentElement.setAttribute(\"transform\", \"\");\r\n\r\n\t\t\t\t\t\t\t\t/////////////////////////////////////////\r\n\t\t\t\t\t\t\t\t////////creamos el elemento Text/////////\r\n\t\t\t\t\t\t\t\t/////////////////////////////////////////\r\n\r\n\t\t\t\t\t\t\t\tsvgTexto = element.find(\"text.textoPrincipal\")[0];\r\n\r\n\t\t\t\t\t\t\t\tsvgTexto.style.fontSize = (tamanoBase / 2) + \"px\";\r\n\t\t\t\t\t\t\t\tsvgTexto.setAttribute(\"text-anchor\", \"middle\");\r\n\r\n\t\t\t\t\t\t\t\tsvgTexto.setAttribute(\"transform\", \"\");\r\n\t\t\t\t\t\t\t\tsvgTexto.setAttribute(\"x\", tamanoBase / 2);\r\n\r\n\t\t\t\t\t\t\t\t//////////////////////////////////////////////////////////////////////\r\n\t\t\t\t\t\t\t\t////ajustamos el tamaño del texto en relacion al tamaño del icono/////\r\n\t\t\t\t\t\t\t\t//////////////////////////////////////////////////////////////////////\r\n\r\n\t\t\t\t\t\t\t\twhile (svgTexto.getComputedTextLength() > (1.6 * svgIcono.height.baseVal.value)) {\r\n\r\n\t\t\t\t\t\t\t\t\tsvgTexto.style.fontSize = (parseFloat(svgTexto.style.fontSize) - 1) + \"px\";\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t///////////////////////////////////\r\n\t\t\t\t\t\t\t\t/////centramos los elementos///////\r\n\t\t\t\t\t\t\t\t///////////////////////////////////\r\n\r\n\t\t\t\t\t\t\t\tvar paddingTopIcono = ((tamanoBase - (svgIcono.height.baseVal.value + (svgTexto.getClientRects()[0].height / relacion))) / 2);\r\n\r\n\t\t\t\t\t\t\t\tsvgIcono.setAttribute(\"y\", paddingTopIcono);\r\n\r\n\t\t\t\t\t\t\t\tvar paddingTopText = (paddingTopIcono + parseFloat(svgIcono.getAttribute(\"height\")) + ((svgTexto.getClientRects()[0].height / relacion) / 1.3)) + \"px\";\r\n\r\n\t\t\t\t\t\t\t\tsvgTexto.setAttribute(\"y\", paddingTopText);\r\n\r\n\t\t\t\t\t\t\t\tif (((svgTexto.getClientRects()[0].height / relacion) + svgIcono.height.baseVal.value) >= tamanoBase) {\r\n\r\n\t\t\t\t\t\t\t\t\twhile (((svgTexto.getClientRects()[0].height / relacion) + svgIcono.height.baseVal.value) >= tamanoBase) {\r\n\r\n\t\t\t\t\t\t\t\t\t\tsvgIcono.setAttribute(\"height\", (parseFloat(svgIcono.getAttribute(\"height\")) * 0.95) + \"px\");\r\n\r\n\t\t\t\t\t\t\t\t\t\tsvgTexto.style.fontSize = (parseFloat(svgTexto.style.fontSize) * 0.95) + \"px\";\r\n\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\tpaddingTopIcono = ((tamanoBase - (svgIcono.height.baseVal.value + (svgTexto.getClientRects()[0].height / relacion))) / 2);\r\n\r\n\r\n\t\t\t\t\t\t\t\t\tsvgIcono.setAttribute(\"y\", paddingTopIcono);\r\n\r\n\t\t\t\t\t\t\t\t\tpaddingTopText = (paddingTopIcono + parseFloat(svgIcono.getAttribute(\"height\")) + ((svgTexto.getClientRects()[0].height / relacion) / 1.3)) + \"px\";\r\n\r\n\t\t\t\t\t\t\t\t\tsvgTexto.setAttribute(\"y\", paddingTopText);\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t\t\t\tif (element.find(\"text.eslogan\").length) {\r\n\r\n\t\t\t\t\t\t\t\t\teslogan = element.find(\"text.eslogan\")[0];\r\n\t\t\t\t\t\t\t\t\teslogan.setAttribute(\"transform\", \"\");\r\n\t\t\t\t\t\t\t\t\teslogan.setAttribute(\"text-anchor\", \"middle\");\r\n\r\n\t\t\t\t\t\t\t\t\teslogan.style.fontSize = svgTexto.style.fontSize;\r\n\r\n\t\t\t\t\t\t\t\t\teslogan.setAttribute(\"x\", (tamanoBase / 2));\r\n\r\n\t\t\t\t\t\t\t\t\twhile (((eslogan.getClientRects()[0].height / relacion) * 2.5) >= (svgTexto.getClientRects()[0].height / relacion)) {\r\n\t\t\t\t\t\t\t\t\t\teslogan.style.fontSize = (parseFloat(eslogan.style.fontSize) * 0.95) + \"px\";\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t//verificamos que los elementos no superen el alto del lienzo\r\n\r\n\t\t\t\t\t\t\t\t\twhile ((svgIcono.height.baseVal.value + (svgTexto.getClientRects()[0].height / relacion) + (eslogan.getClientRects()[0].height / relacion) * 1.3 >= tamanoBase)) {\r\n\r\n\t\t\t\t\t\t\t\t\t\tsvgIcono.setAttribute(\"height\", (parseFloat(svgIcono.getAttribute(\"height\")) * 0.95) + \"px\");\r\n\r\n\t\t\t\t\t\t\t\t\t\tsvgTexto.style.fontSize = (parseFloat(svgTexto.style.fontSize) * 0.95) + \"px\";\r\n\r\n\t\t\t\t\t\t\t\t\t\teslogan.style.fontSize = (parseFloat(eslogan.style.fontSize) * 0.95) + \"px\";\r\n\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\tvar espacioSobrante = tamanoBase - ((svgIcono.getClientRects()[0].height + svgTexto.getClientRects()[0].height + eslogan.getClientRects()[0].height) / relacion);\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t//AJUSTAR AQUI EL ESLOGAN\r\n\t\t\t\t\t\t\t\t\tsvgIcono.setAttribute(\"y\", (espacioSobrante / 2) + \"px\");\r\n\r\n\t\t\t\t\t\t\t\t\tsvgTexto.setAttribute(\"y\", (espacioSobrante / 2) + ((svgIcono.getClientRects()[0].height + svgTexto.getClientRects()[0].height) / relacion) + \"px\");\r\n\r\n\t\t\t\t\t\t\t\t\teslogan.setAttribute(\"y\", ((espacioSobrante / 2) + ((svgIcono.getClientRects()[0].height + svgTexto.getClientRects()[0].height + eslogan.getClientRects()[0].height) / relacion)) + \"px\");\r\n\r\n\r\n\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tobtenerSVGFinal();\r\n\t\t\t\t\t\t});\r\n\r\n\r\n\t\t\t\t\t\t////////////////////////////////\r\n\t\t\t\t\t\t///////////REEMPLAZAR///////////\r\n\t\t\t\t\t\t////////////////////////////////\r\n\r\n\t\t\t\t\t\tscope.$on(\"editor:reemplazar\", function (evento, icono) {\r\n\r\n\t\t\t\t\t\t\tvar iconoSVG = element.find(\"g.contenedor-icono > svg\");\r\n\r\n\t\t\t\t\t\t\tvar x = iconoSVG.attr(\"x\");\r\n\t\t\t\t\t\t\tvar y = iconoSVG.attr(\"y\");\r\n\r\n\r\n\t\t\t\t\t\t\tvar heightIcono = iconoSVG.attr(\"height\");\r\n\t\t\t\t\t\t\tvar widthIcono = iconoSVG.attr(\"width\");\r\n\t\t\t\t\t\t\tvar transform = iconoSVG.attr(\"transform\");\r\n\r\n\t\t\t\t\t\t\ticonoSVG.parent().html(icono);\r\n\r\n\t\t\t\t\t\t\tvar iconoSVGcambiado = element.find(\"g.contenedor-icono > svg\");\r\n\r\n\t\t\t\t\t\t\ticonoSVGcambiado.attr(\"x\", x);\r\n\t\t\t\t\t\t\ticonoSVGcambiado.attr(\"y\", y);\r\n\t\t\t\t\t\t\ticonoSVGcambiado.attr(\"height\", heightIcono);\r\n\r\n\t\t\t\t\t\t\tif (widthIcono) {\r\n\r\n\t\t\t\t\t\t\t\ticonoSVGcambiado.attr(\"width\", widthIcono);\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (transform) {\r\n\r\n\t\t\t\t\t\t\t\ticonoSVGcambiado.attr(\"transform\", transform);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tvar indices = [];\r\n\t\t\t\t\t\t\tvar seccionInternaElementos = [];\r\n\r\n\t\t\t\t\t\t\t//division en partes del svg\r\n\t\t\t\t\t\t\ticonoSVGcambiado.html().trim().split(\">\").forEach(function (parte, index) {\r\n\t\t\t\t\t\t\t\tvar indiceParte = \" data-indice='\" + index + \"'\";\r\n\t\t\t\t\t\t\t\tif (parte != \"\") { //si no es un tag de cerrar\r\n\t\t\t\t\t\t\t\t\tif (parte.search(\"</\") == -1) {\r\n\t\t\t\t\t\t\t\t\t\t//si es un tag compuesto, ej: \r\n\t\t\t\t\t\t\t\t\t\tif (parte.search(\"/\") == -1) {\r\n\t\t\t\t\t\t\t\t\t\t\tseccionInternaElementos.push(parte + indiceParte + \">\");\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t//si no es un tag compuesto, ej: path\r\n\t\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\t\tseccionInternaElementos.push(parte.replace(\"/\", \"\") + indiceParte + \"/>\");\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t//si es un tag de cerrar\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tseccionInternaElementos.push(parte + \">\");\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tseccionInternaElementos.push(false);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t//union del nuevo contenido\r\n\t\t\t\t\t\t\ticonoSVGcambiado.html(seccionInternaElementos.join(\"\"));\r\n\r\n\t\t\t\t\t\t\tscope.elementosIndices = indices;\r\n\r\n\t\t\t\t\t\t\tobtenerSVGFinal();\r\n\r\n\t\t\t\t\t\t});\r\n\r\n\r\n\t\t\t\t\t\t////////////////////////////////\r\n\t\t\t\t\t\t///////////RESTAURAR////////////\r\n\t\t\t\t\t\t////////////////////////////////\r\n\r\n\t\t\t\t\t\tscope.$on(\"editor:restaurar\", function (evento, svg) {\r\n\r\n\t\t\t\t\t\t\telement.html(svg);\r\n\r\n\t\t\t\t\t\t\tvar indices = [];\r\n\r\n\t\t\t\t\t\t\t//division en partes del svg\r\n\t\t\t\t\t\t\telement.find(\"g.contenedor-icono > svg [data-indice]\").each(function () {\r\n\r\n\t\t\t\t\t\t\t\tindices[parseInt(this.getAttribute(\"data-indice\"))] = false;\r\n\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\telement.find(\".seleccionado\").removeClass(\"seleccionado\");\r\n\t\t\t\t\t\t\tangular.element(\".color-picker-bazam\").remove();\r\n\r\n\t\t\t\t\t\t\tscope.elementosIndices = indices;\r\n\r\n\t\t\t\t\t\t\tvar texto = element.find(\"text.textoPrincipal\");\r\n\t\t\t\t\t\t\tscope.texto = texto.text();\r\n\r\n\t\t\t\t\t\t\tif (element.find(\"text.eslogan\").length) {\r\n\t\t\t\t\t\t\t\tvar eslogan = element.find(\"text.eslogan\");\r\n\t\t\t\t\t\t\t\tscope.eslogan = eslogan.text();\r\n\t\t\t\t\t\t\t\t$rootScope.$broadcast(\"directiva:restaurarEslogan\", {\r\n\t\t\t\t\t\t\t\t\taccion: true,\r\n\t\t\t\t\t\t\t\t\tfuente: eslogan.attr(\"font-family\")\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t$rootScope.$broadcast(\"directiva:restaurarEslogan\", {\r\n\t\t\t\t\t\t\t\t\taccion: false\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tobtenerSVGFinal();\r\n\r\n\t\t\t\t\t\t});\r\n\r\n\r\n\t\t\t\t\t\tscope.$on(\"editor:planes\", function () {\r\n\r\n\t\t\t\t\t\t\t$rootScope.$broadcast(\"directiva:planes\", {\r\n\t\t\t\t\t\t\t\tsvg: scope.svgFinal,\r\n\t\t\t\t\t\t\t\tcolores: obtenerColores()\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t});\r\n\r\n\r\n\t\t\t\t\t\tscope.$on(\"editor:agregarEslogan\", function (evento, datos) {\r\n\r\n\t\t\t\t\t\t\tif (!element.find(\".eslogan\").length) {\r\n\r\n\r\n\t\t\t\t\t\t\t\tvar tamanoBase = 100;\r\n\t\t\t\t\t\t\t\tvar svgIcono;\r\n\t\t\t\t\t\t\t\tvar svgTexto;\r\n\t\t\t\t\t\t\t\tvar eslogan;\r\n\r\n\t\t\t\t\t\t\t\tvar relacion = element[0].children[0].getClientRects()[0].height / tamanoBase;\r\n\r\n\t\t\t\t\t\t\t\t////////////////////////////////////////////////////////////\r\n\t\t\t\t\t\t\t\t//////Insertamos el SVG del icono dentro del SVG padre//////\r\n\t\t\t\t\t\t\t\t////////////////////////////////////////////////////////////\r\n\r\n\t\t\t\t\t\t\t\tsvgIcono = element.find(\"g.contenedor-icono > svg\")[0];\r\n\r\n\t\t\t\t\t\t\t\tsvgIcono.setAttribute(\"height\", (tamanoBase / 2) + \"px\");\r\n\t\t\t\t\t\t\t\tsvgIcono.removeAttribute(\"width\");\r\n\t\t\t\t\t\t\t\tsvgIcono.removeAttribute(\"x\");\r\n\t\t\t\t\t\t\t\tsvgIcono.parentElement.setAttribute(\"transform\", \"\");\r\n\r\n\t\t\t\t\t\t\t\t/////////////////////////////////////////\r\n\t\t\t\t\t\t\t\t////////creamos el elemento Text/////////\r\n\t\t\t\t\t\t\t\t/////////////////////////////////////////\r\n\r\n\t\t\t\t\t\t\t\tsvgTexto = element.find(\"text.textoPrincipal\")[0];\r\n\r\n\t\t\t\t\t\t\t\tsvgTexto.style.fontSize = (tamanoBase / 2) + \"px\";\r\n\t\t\t\t\t\t\t\tsvgTexto.setAttribute(\"text-anchor\", \"middle\");\r\n\r\n\t\t\t\t\t\t\t\tsvgTexto.setAttribute(\"transform\", \"\");\r\n\t\t\t\t\t\t\t\tsvgTexto.setAttribute(\"x\", tamanoBase / 2);\r\n\r\n\t\t\t\t\t\t\t\t//////////////////////////////////////////////////////////////////////\r\n\t\t\t\t\t\t\t\t////ajustamos el tamaño del texto en relacion al tamaño del icono/////\r\n\t\t\t\t\t\t\t\t//////////////////////////////////////////////////////////////////////\r\n\r\n\t\t\t\t\t\t\t\twhile (svgTexto.getComputedTextLength() > (1.6 * svgIcono.height.baseVal.value)) {\r\n\r\n\t\t\t\t\t\t\t\t\tsvgTexto.style.fontSize = (parseFloat(svgTexto.style.fontSize) - 1) + \"px\";\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t///////////////////////////////////\r\n\t\t\t\t\t\t\t\t/////centramos los elementos///////\r\n\t\t\t\t\t\t\t\t///////////////////////////////////\r\n\r\n\t\t\t\t\t\t\t\tvar paddingTopIcono = ((tamanoBase - (svgIcono.height.baseVal.value + (svgTexto.getClientRects()[0].height / relacion))) / 2);\r\n\r\n\t\t\t\t\t\t\t\tsvgIcono.setAttribute(\"y\", paddingTopIcono);\r\n\r\n\t\t\t\t\t\t\t\tvar paddingTopText = (paddingTopIcono + parseFloat(svgIcono.getAttribute(\"height\")) + ((svgTexto.getClientRects()[0].height / relacion) / 1.3)) + \"px\";\r\n\r\n\t\t\t\t\t\t\t\tsvgTexto.setAttribute(\"y\", paddingTopText);\r\n\r\n\t\t\t\t\t\t\t\tif (((svgTexto.getClientRects()[0].height / relacion) + svgIcono.height.baseVal.value) >= tamanoBase) {\r\n\r\n\t\t\t\t\t\t\t\t\twhile (((svgTexto.getClientRects()[0].height / relacion) + svgIcono.height.baseVal.value) >= tamanoBase) {\r\n\r\n\t\t\t\t\t\t\t\t\t\tsvgIcono.setAttribute(\"height\", (parseFloat(svgIcono.getAttribute(\"height\")) * 0.95) + \"px\");\r\n\r\n\t\t\t\t\t\t\t\t\t\tsvgTexto.style.fontSize = (parseFloat(svgTexto.style.fontSize) * 0.95) + \"px\";\r\n\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\tpaddingTopIcono = ((tamanoBase - (svgIcono.height.baseVal.value + (svgTexto.getClientRects()[0].height / relacion))) / 2);\r\n\r\n\r\n\t\t\t\t\t\t\t\t\tsvgIcono.setAttribute(\"y\", paddingTopIcono);\r\n\r\n\t\t\t\t\t\t\t\t\tpaddingTopText = (paddingTopIcono + parseFloat(svgIcono.getAttribute(\"height\")) + ((svgTexto.getClientRects()[0].height / relacion) / 1.3)) + \"px\";\r\n\r\n\t\t\t\t\t\t\t\t\tsvgTexto.setAttribute(\"y\", paddingTopText);\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tvar textoEslogan = document.createElementNS(\"http://www.w3.org/2000/svg\", \"text\");\r\n\r\n\t\t\t\t\t\t\t\ttextoEslogan.setAttributeNS(null, \"x\", tamanoBase / 2);\r\n\t\t\t\t\t\t\t\ttextoEslogan.setAttributeNS(null, \"y\", tamanoBase * 0.9);\r\n\r\n\t\t\t\t\t\t\t\tvar textoNodeEslogan = document.createTextNode(datos.eslogan);\r\n\r\n\t\t\t\t\t\t\t\ttextoEslogan.appendChild(textoNodeEslogan);\r\n\r\n\t\t\t\t\t\t\t\telement.children()[0].appendChild(textoEslogan);\r\n\r\n\t\t\t\t\t\t\t\tvar eslogan = element.children()[0].children[3];\r\n\r\n\t\t\t\t\t\t\t\teslogan.setAttribute(\"text-anchor\", \"middle\");\r\n\t\t\t\t\t\t\t\teslogan.setAttribute(\"font-family\", datos.fuente.nombre);\r\n\t\t\t\t\t\t\t\teslogan.setAttribute(\"class\", \"eslogan\");\r\n\r\n\t\t\t\t\t\t\t\teslogan.setAttribute(\"transform\", \"\");\r\n\t\t\t\t\t\t\t\teslogan.setAttribute(\"text-anchor\", \"middle\");\r\n\r\n\t\t\t\t\t\t\t\teslogan.style.fontSize = svgTexto.style.fontSize;\r\n\r\n\t\t\t\t\t\t\t\teslogan.setAttribute(\"x\", (tamanoBase / 2));\r\n\r\n\t\t\t\t\t\t\t\twhile (((eslogan.getClientRects()[0].height / relacion) * 2.5) >= (svgTexto.getClientRects()[0].height / relacion)) {\r\n\t\t\t\t\t\t\t\t\teslogan.style.fontSize = (parseFloat(eslogan.style.fontSize) * 0.95) + \"px\";\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t\t\t\t//verificamos que los elementos no superen el alto del lienzo\r\n\r\n\t\t\t\t\t\t\t\twhile ((svgIcono.height.baseVal.value + (svgTexto.getClientRects()[0].height / relacion) + (eslogan.getClientRects()[0].height / relacion) * 1.3 >= tamanoBase)) {\r\n\r\n\t\t\t\t\t\t\t\t\tsvgIcono.setAttribute(\"height\", (parseFloat(svgIcono.getAttribute(\"height\")) * 0.95) + \"px\");\r\n\r\n\t\t\t\t\t\t\t\t\tsvgTexto.style.fontSize = (parseFloat(svgTexto.style.fontSize) * 0.95) + \"px\";\r\n\r\n\t\t\t\t\t\t\t\t\teslogan.style.fontSize = (parseFloat(eslogan.style.fontSize) * 0.95) + \"px\";\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tvar espacioSobrante = tamanoBase - ((svgIcono.getClientRects()[0].height + svgTexto.getClientRects()[0].height + eslogan.getClientRects()[0].height) / relacion);\r\n\r\n\r\n\t\t\t\t\t\t\t\t//AJUSTAR AQUI EL ESLOGAN\r\n\t\t\t\t\t\t\t\tsvgIcono.setAttribute(\"y\", (espacioSobrante / 2) + \"px\");\r\n\r\n\t\t\t\t\t\t\t\tsvgTexto.setAttribute(\"y\", (espacioSobrante / 2) + ((svgIcono.getClientRects()[0].height + svgTexto.getClientRects()[0].height) / relacion) + \"px\");\r\n\r\n\t\t\t\t\t\t\t\teslogan.setAttribute(\"y\", ((espacioSobrante / 2) + ((svgIcono.getClientRects()[0].height + svgTexto.getClientRects()[0].height + eslogan.getClientRects()[0].height) / relacion)) + \"px\");\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t\t\t\t\t\t\t\t/*\r\n\t\t\t\t\t\t\t\tvar tamanoBase = 100;\r\n\r\n\t\t\t\t\t\t\t\tvar textoEslogan = document.createElementNS(\"http://www.w3.org/2000/svg\", \"text\");\r\n\r\n\t\t\t\t\t\t\t\ttextoEslogan.setAttributeNS(null, \"x\", tamanoBase / 2);\r\n\t\t\t\t\t\t\t\ttextoEslogan.setAttributeNS(null, \"y\", tamanoBase * 0.9);\r\n\r\n\t\t\t\t\t\t\t\tvar textoNodeEslogan = document.createTextNode(datos.eslogan);\r\n\r\n\t\t\t\t\t\t\t\ttextoEslogan.appendChild(textoNodeEslogan);\r\n\r\n\t\t\t\t\t\t\t\telement.children()[0].appendChild(textoEslogan);\r\n\r\n\t\t\t\t\t\t\t\tvar svgEslogan = element.children()[0].children[3];\r\n\r\n\t\t\t\t\t\t\t\t//var textoPrincipal = element.find(\"text.textoPrincipal\");\r\n\r\n\t\t\t\t\t\t\t\tsvgEslogan.style.fontSize = (tamanoBase * 0.1) + \"px\";\r\n\t\t\t\t\t\t\t\tsvgEslogan.setAttribute(\"text-anchor\", \"middle\");\r\n\t\t\t\t\t\t\t\tsvgEslogan.setAttribute(\"font-family\", datos.fuente.nombre);\r\n\t\t\t\t\t\t\t\tsvgEslogan.setAttribute(\"class\", \"eslogan\");\r\n\t\t\t\t\t\t\t\t*/\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tobtenerSVGFinal();\r\n\r\n\t\t\t\t\t\t});\r\n\r\n\r\n\t\t\t\t\t\tvar obtenerSVGFinal = function () {\r\n\r\n\t\t\t\t\t\t\tvar elemento = element.clone();\r\n\r\n\t\t\t\t\t\t\t//elemento.find(\"[data-indice]\").removeAttr(\"data-indice\");\r\n\t\t\t\t\t\t\telemento.find(\".seleccionado\").removeClass(\"seleccionado\");\r\n\r\n\r\n\t\t\t\t\t\t\t//scope.$apply(function() {\r\n\t\t\t\t\t\t\tscope.svgFinal = elemento.html();\r\n\t\t\t\t\t\t\t//});\r\n\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\tvar obtenerColores = function () {\r\n\r\n\t\t\t\t\t\t\tvar parteSVG = null;\r\n\t\t\t\t\t\t\tvar tamañoPivote = 0;\r\n\t\t\t\t\t\t\tvar color = {\r\n\t\t\t\t\t\t\t\ticono: \"\",\r\n\t\t\t\t\t\t\t\tnombre: \"\",\r\n\t\t\t\t\t\t\t\teslogan: \"\"\r\n\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\telement.find(\"g.contenedor-icono > svg [data-indice]:not(g)\").each(function () {\r\n\r\n\t\t\t\t\t\t\t\tvar elemento = angular.element(this)[0].getBoundingClientRect();\r\n\r\n\t\t\t\t\t\t\t\tvar tamanoElemento = elemento.width * elemento.height;\r\n\r\n\t\t\t\t\t\t\t\tif (tamanoElemento >= tamañoPivote) {\r\n\t\t\t\t\t\t\t\t\ttamañoPivote = tamanoElemento;\r\n\t\t\t\t\t\t\t\t\tparteSVG = angular.element(this);\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t});\r\n\r\n\r\n\t\t\t\t\t\t\tif (parteSVG.css(\"fill\")) {\r\n\r\n\t\t\t\t\t\t\t\tcolor.icono = parteSVG.css(\"fill\");\r\n\r\n\t\t\t\t\t\t\t} else if (parteSVG.attr(\"fill\")) {\r\n\r\n\t\t\t\t\t\t\t\tcolor.icono = parteSVG.attr(\"fill\");\r\n\r\n\t\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t\tcolor.icono = \"#fff\";\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tcolor.nombre = element.find(\"text.textoPrincipal\").css(\"fill\");\r\n\r\n\t\t\t\t\t\t\tcolor.eslogan = element.find(\"text.eslogan\").length ? element.find(\"text.eslogan\").css(\"fill\") : \"\";\r\n\r\n\t\t\t\t\t\t\treturn color;\r\n\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t};\r\n\t}]);\r\n\r\n\r\n\t\t/*\r\n\t.directive(\"fondoContraste\", [\"coloresFactory\", function (coloresFactory) {\r\n\t\treturn {\r\n\t\t\trestrict: \"AE\",\r\n\t\t\tscope: {\r\n\t\t\t\tcolor: \"<color\"\r\n\t\t\t},\r\n\t\t\tlink: function (scope, element) {\r\n\r\n\t\t\t\telement.css({\r\n\t\t\t\t\t\"background-color\": coloresFactory(scope.color)\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\t}])\r\n\r\n\t*/\r\n\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/directives/bazamSvg.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/directives/bazamSvgText.js":
/*!****************************************************************!*\
  !*** ./public/creador-de-logos/app/directives/bazamSvgText.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("angular.module(\"disenador-de-logos\")\r\n\r\n\t.directive(\"bazamSvgText\", [\"fontService\", \"$timeout\", function (fontService, $timeout) {\r\n\t\treturn {\r\n\t\t\trestrict: \"AE\",\r\n\t\t\tscope: {\r\n\t\t\t\tsvg: \"<\",\r\n\t\t\t\ttexto: \"<\",\r\n\t\t\t\tcolorTexto: \"<colorTexto\",\r\n\t\t\t\tcolorIcono: \"<colorIcono\",\r\n\t\t\t\tfuente: \"<\",\r\n\t\t\t\turl: \"<\",\r\n\t\t\t\tcallback: \"=\"\r\n\t\t\t},\r\n\t\t\tlink: function (scope, element) {\r\n\r\n\t\t\t\telement.append('<svg class=\"background-svg\" viewbox=\"0 0 400 400\"></svg>');\r\n\r\n\t\t\t\tfontService.preparar(scope.fuente, scope.url)\r\n\r\n\t\t\t\t\t.then(function () {})\r\n\t\t\t\t\t.catch(function () {})\r\n\t\t\t\t\t.finally(function () {\r\n\t\t\t\t\t\t{\r\n\r\n\t\t\t\t\t\t\telement.find('.background-svg').remove();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tvar tamanoBase = 100;\r\n\t\t\t\t\t\t\t/*\r\n\t\t\t\t\t\t\t////////////////////////////////////////////////////////////\r\n\t\t\t\t\t\t\t//////Insertamos el SVG del icono dentro del SVG padre//////\r\n\t\t\t\t\t\t\t////////////////////////////////////////////////////////////\r\n\r\n\t\t\t\t\t\t\telement[0].innerHTML = \"<svg  viewBox='0 0 \" + tamanoBase + \" \" + tamanoBase + \"'>\" + scope.icono + \"</svg>\";\r\n\r\n\t\t\t\t\t\t\tvar relacion = element[0].children[0].getClientRects()[0].height / tamanoBase;\r\n\t\t\t\t\t\t\tvar svgIcono = element[0].children[0].children[0];\r\n\r\n\t\t\t\t\t\t\tsvgIcono.setAttribute(\"height\", (tamanoBase / 2) + \"px\");\r\n\t\t\t\t\t\t\tsvgIcono.setAttribute(\"fill\", scope.colorIcono);\r\n\r\n\t\t\t\t\t\t\t/////////////////////////////////////////\r\n\t\t\t\t\t\t\t////////creamos el elemento Text/////////\r\n\t\t\t\t\t\t\t/////////////////////////////////////////\r\n\r\n\t\t\t\t\t\t\tvar texto = document.createElementNS(\"http://www.w3.org/2000/svg\", \"text\");\r\n\r\n\t\t\t\t\t\t\ttexto.setAttributeNS(null, \"x\", (tamanoBase / 2));\r\n\r\n\t\t\t\t\t\t\tvar textoNode = document.createTextNode(scope.texto);\r\n\r\n\t\t\t\t\t\t\ttexto.appendChild(textoNode);\r\n\r\n\t\t\t\t\t\t\telement[0].children[0].appendChild(texto);\r\n\r\n\t\t\t\t\t\t\tvar svgTexto = element[0].children[0].children[1];\r\n\r\n\t\t\t\t\t\t\tsvgTexto.style.fontSize = (tamanoBase / 2) + \"px\";\r\n\r\n\t\t\t\t\t\t\tif (scope.colorTexto) {\r\n\t\t\t\t\t\t\t\tsvgTexto.style.fill = scope.colorTexto;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tsvgTexto.setAttribute(\"text-anchor\", \"middle\");\r\n\t\t\t\t\t\t\tsvgTexto.setAttribute(\"font-family\", scope.fuente);\r\n\r\n\t\t\t\t\t\t\t//////////////////////////////////////////////////////////////////////\r\n\t\t\t\t\t\t\t////ajustamos el tamaño del texto en relacion al tamaño del icono/////\r\n\t\t\t\t\t\t\t//////////////////////////////////////////////////////////////////////\r\n\r\n\r\n\t\t\t\t\t\t\twhile (svgTexto.getComputedTextLength() > (1.6 * svgIcono.height.baseVal.value)) {\r\n\r\n\t\t\t\t\t\t\t\tsvgTexto.style.fontSize = (parseFloat(svgTexto.style.fontSize) - 1) + \"px\";\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t///////////////////////////////////\r\n\t\t\t\t\t\t\t/////centramos los elementos///////\r\n\t\t\t\t\t\t\t///////////////////////////////////\r\n\r\n\t\t\t\t\t\t\tvar paddingTopIcono = ((tamanoBase - (svgIcono.height.baseVal.value + (svgTexto.getClientRects()[0].height / relacion))) / 2);\r\n\r\n\t\t\t\t\t\t\tsvgIcono.y.baseVal.value = paddingTopIcono;\r\n\r\n\t\t\t\t\t\t\tvar paddingTopText = (paddingTopIcono + parseFloat(svgIcono.getAttribute(\"height\")) + (svgTexto.getClientRects()[0].height / relacion)) + \"px\";\r\n\r\n\t\t\t\t\t\t\tsvgTexto.setAttribute(\"y\", paddingTopText);\r\n\r\n\r\n\t\t\t\t\t\t\tif ((((svgTexto.getClientRects()[0].height / relacion) + svgIcono.height.baseVal.value) * 1.5) >= tamanoBase) {\r\n\r\n\t\t\t\t\t\t\t\twhile ((((svgTexto.getClientRects()[0].height / relacion) + svgIcono.height.baseVal.value) * 1.5) >= tamanoBase) {\r\n\r\n\t\t\t\t\t\t\t\t\tsvgIcono.setAttribute(\"height\", (parseFloat(svgIcono.getAttribute(\"height\")) * 0.95) + \"px\");\r\n\r\n\t\t\t\t\t\t\t\t\tsvgTexto.style.fontSize = (parseFloat(svgTexto.style.fontSize) * 0.95) + \"px\";\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tpaddingTopIcono = ((tamanoBase - (svgIcono.height.baseVal.value + (svgTexto.getClientRects()[0].height / relacion))) / 2);\r\n\r\n\t\t\t\t\t\t\t\tsvgIcono.y.baseVal.value = paddingTopIcono;\r\n\r\n\t\t\t\t\t\t\t\tpaddingTopText = (paddingTopIcono + parseFloat(svgIcono.getAttribute(\"height\")) + ((svgTexto.getClientRects()[0].height / relacion) / 1.3)) + \"px\";\r\n\r\n\t\t\t\t\t\t\t\tsvgTexto.setAttribute(\"y\", paddingTopText);\r\n\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t*/\r\n\r\n\r\n\t\t\t\t\t\t\tscope.svgSaneado = scope.svg.trim();\r\n\r\n\t\t\t\t\t\t\tvar posicion1 = scope.svgSaneado.search(\">\");\r\n\r\n\t\t\t\t\t\t\t//svg tag\r\n\t\t\t\t\t\t\tscope.svgTagIncompleto = scope.svgSaneado.substr(0, posicion1 + 1);\r\n\r\n\t\t\t\t\t\t\tvar posicion2 = scope.svgSaneado.substr(posicion1 + 1).search(\"</svg>\");\r\n\r\n\t\t\t\t\t\t\t//contenido del svg\r\n\t\t\t\t\t\t\tscope.seccionInterna = scope.svgSaneado.substr(posicion1 + 1).substr(0, posicion2);\r\n\r\n\t\t\t\t\t\t\t//recipiente de secciones del svg original\r\n\t\t\t\t\t\t\tscope.seccionInternaElementos = [];\r\n\r\n\t\t\t\t\t\t\t//indices del elemento\r\n\t\t\t\t\t\t\tscope.elementosIndices = [];\r\n\r\n\t\t\t\t\t\t\t//division en partes del svg\r\n\t\t\t\t\t\t\tscope.seccionInterna.trim().split(\">\").forEach(function (parte, index) {\r\n\t\t\t\t\t\t\t\tvar indiceParte = \" data-indice='\" + index + \"'\";\r\n\t\t\t\t\t\t\t\tif (parte != \"\") { //si no es un tag de cerrar\r\n\t\t\t\t\t\t\t\t\tif (parte.search(\"</\") == -1) {\r\n\t\t\t\t\t\t\t\t\t\t//si es un tag compuesto, ej: \r\n\t\t\t\t\t\t\t\t\t\tif (parte.search(\"/\") == -1) {\r\n\t\t\t\t\t\t\t\t\t\t\tscope.seccionInternaElementos.push(parte + indiceParte + \">\");\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t//si no es un tag compuesto, ej: path\r\n\t\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\t\tscope.seccionInternaElementos.push(parte.replace(\"/\", \"\") + indiceParte + \"/>\");\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t//si es un tag de cerrar\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tscope.seccionInternaElementos.push(parte + \">\");\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tscope.elementosIndices.push(false);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t//union del nuevo contenido\r\n\t\t\t\t\t\t\tscope.seccionInterna = scope.seccionInternaElementos.join(\"\");\r\n\r\n\t\t\t\t\t\t\tscope.svgTag = scope.svgTagIncompleto + scope.seccionInterna + \"</svg>\";\r\n\r\n\t\t\t\t\t\t\t////////////////////////////////////////////////////////////\r\n\t\t\t\t\t\t\t//////Insertamos el SVG del icono dentro del SVG padre//////\r\n\t\t\t\t\t\t\t////////////////////////////////////////////////////////////\r\n\r\n\t\t\t\t\t\t\telement[0].innerHTML = \"<svg viewBox='0 0 \" + tamanoBase + \" \" + tamanoBase + \"'><g class='contenedor-icono'>\" + scope.svgTag + \"</g></svg>\";\r\n\r\n\t\t\t\t\t\t\tvar relacion = element[0].children[0].getClientRects()[0].height / tamanoBase;\r\n\r\n\t\t\t\t\t\t\tvar svgIcono = element[0].children[0].children[0].children[0];\r\n\r\n\t\t\t\t\t\t\tsvgIcono.setAttribute(\"height\", (tamanoBase / 2) + \"px\");\r\n\t\t\t\t\t\t\tsvgIcono.setAttribute(\"fill\", scope.colorIcono);\r\n\r\n\t\t\t\t\t\t\t/////////////////////////////////////////\r\n\t\t\t\t\t\t\t////////creamos el elemento Text/////////\r\n\t\t\t\t\t\t\t/////////////////////////////////////////\r\n\r\n\t\t\t\t\t\t\tvar texto = document.createElementNS(\"http://www.w3.org/2000/svg\", \"text\");\r\n\r\n\t\t\t\t\t\t\ttexto.setAttributeNS(null, \"x\", (tamanoBase / 2));\r\n\r\n\t\t\t\t\t\t\tvar textoNode = document.createTextNode(scope.texto);\r\n\r\n\t\t\t\t\t\t\ttexto.appendChild(textoNode);\r\n\r\n\t\t\t\t\t\t\telement[0].children[0].appendChild(texto);\r\n\r\n\t\t\t\t\t\t\tvar svgTexto = element[0].children[0].children[1];\r\n\r\n\r\n\t\t\t\t\t\t\tsvgTexto.style.fill = scope.colorTexto;\r\n\t\t\t\t\t\t\tsvgTexto.style.fontSize = (tamanoBase / 2) + \"px\";\r\n\t\t\t\t\t\t\tsvgTexto.setAttribute(\"text-anchor\", \"middle\");\r\n\t\t\t\t\t\t\tsvgTexto.setAttribute(\"font-family\", scope.fuente);\r\n\t\t\t\t\t\t\tsvgTexto.setAttribute(\"class\", \"textoPrincipal\");\r\n\r\n\t\t\t\t\t\t\t//////////////////////////////////////////////////////////////////////\r\n\t\t\t\t\t\t\t////ajustamos el tamaño del texto en relacion al tamaño del icono/////\r\n\t\t\t\t\t\t\t//////////////////////////////////////////////////////////////////////\r\n\r\n\t\t\t\t\t\t\twhile (svgTexto.getComputedTextLength() > (1.6 * svgIcono.height.baseVal.value)) {\r\n\r\n\t\t\t\t\t\t\t\tsvgTexto.style.fontSize = (parseFloat(svgTexto.style.fontSize) - 1) + \"px\";\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t///////////////////////////////////\r\n\t\t\t\t\t\t\t/////centramos los elementos///////\r\n\t\t\t\t\t\t\t///////////////////////////////////\r\n\r\n\t\t\t\t\t\t\tvar paddingTopIcono = ((tamanoBase - (svgIcono.height.baseVal.value + (svgTexto.getClientRects()[0].height / relacion))) / 2);\r\n\r\n\t\t\t\t\t\t\tsvgIcono.setAttribute(\"y\", paddingTopIcono);\r\n\r\n\t\t\t\t\t\t\tvar paddingTopText = (paddingTopIcono + parseFloat(svgIcono.getAttribute(\"height\")) + ((svgTexto.getClientRects()[0].height / relacion) / 1.3)) + \"px\";\r\n\r\n\t\t\t\t\t\t\tsvgTexto.setAttribute(\"y\", paddingTopText);\r\n\r\n\t\t\t\t\t\t\tif (((svgTexto.getClientRects()[0].height / relacion) + svgIcono.height.baseVal.value) >= tamanoBase) {\r\n\r\n\t\t\t\t\t\t\t\twhile (((svgTexto.getClientRects()[0].height / relacion) + svgIcono.height.baseVal.value) >= tamanoBase) {\r\n\r\n\t\t\t\t\t\t\t\t\tsvgIcono.setAttribute(\"height\", (parseFloat(svgIcono.getAttribute(\"height\")) * 0.95) + \"px\");\r\n\r\n\t\t\t\t\t\t\t\t\tsvgTexto.style.fontSize = (parseFloat(svgTexto.style.fontSize) * 0.95) + \"px\";\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tpaddingTopIcono = ((tamanoBase - (svgIcono.height.baseVal.value + (svgTexto.getClientRects()[0].height / relacion))) / 2);\r\n\r\n\t\t\t\t\t\t\t\tsvgIcono.setAttribute(\"y\", paddingTopIcono);\r\n\r\n\t\t\t\t\t\t\t\tpaddingTopText = (paddingTopIcono + parseFloat(svgIcono.getAttribute(\"height\")) + ((svgTexto.getClientRects()[0].height / relacion) / 1.3)) + \"px\";\r\n\r\n\t\t\t\t\t\t\t\tsvgTexto.setAttribute(\"y\", paddingTopText);\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t\t\t//agregamos el Style Tag al svg\r\n\t\t\t\t\t\t\telement.children().prepend(\"<style> @font-face { font-family: '\" + scope.fuente + \"'; src: url('\" + scope.url + \"')}  </style>\");\r\n\r\n\t\t\t\t\t\t\t$timeout(function () {\r\n\t\t\t\t\t\t\t\tscope.callback = element[0].innerHTML;\r\n\t\t\t\t\t\t\t}, 1000);\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t}]);\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/directives/bazamSvgText.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/directives/bazamVisualizar.js":
/*!*******************************************************************!*\
  !*** ./public/creador-de-logos/app/directives/bazamVisualizar.js ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("angular.module(\"disenador-de-logos\")\r\n\r\n\r\n\t//////////////////////////////////////////\r\n\t////VISUALIZA EL SVG SIN ACCION ALGUNA////\r\n\t//////////////////////////////////////////\r\n\t.directive(\"bazamVisualizar\", function () {\r\n\r\n\t\treturn {\r\n\t\t\trestrict: \"AE\",\r\n\t\t\tscope: {\r\n\r\n\t\t\t\tsvg: \"=svg\"\r\n\r\n\t\t\t},\r\n\t\t\tlink: function (scope, element) {\r\n\t\t\t\telement.html(scope.svg);\r\n\t\t\t\telement.html(element.html());\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t})\r\n\r\n\t.directive(\"bazamActualizar\", function () {\r\n\r\n\t\treturn {\r\n\t\t\trestrict: \"AE\",\r\n\t\t\tscope: {\r\n\r\n\t\t\t\tsvg: \"<svg\"\r\n\r\n\t\t\t},\r\n\t\t\tlink: function (scope, element) {\r\n\r\n\t\t\t\telement.html(scope.svg);\r\n\t\t\t\telement.html(element.html());\r\n\r\n\t\t\t\tscope.$watch(\"svg\", function () {\r\n\t\t\t\t\telement.html(scope.svg);\r\n\t\t\t\t\telement.html(element.html());\r\n\t\t\t\t});\r\n\r\n\r\n\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t});\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/directives/bazamVisualizar.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/directives/index.js":
/*!*********************************************************!*\
  !*** ./public/creador-de-logos/app/directives/index.js ***!
  \*********************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _bazamAyuda_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bazamAyuda.js */ \"./public/creador-de-logos/app/directives/bazamAyuda.js\");\n/* harmony import */ var _bazamAyuda_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_bazamAyuda_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _bazamCarouseles_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./bazamCarouseles.js */ \"./public/creador-de-logos/app/directives/bazamCarouseles.js\");\n/* harmony import */ var _bazamCarouseles_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_bazamCarouseles_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _bazamColorPicker_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./bazamColorPicker.js */ \"./public/creador-de-logos/app/directives/bazamColorPicker.js\");\n/* harmony import */ var _bazamColorPicker_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_bazamColorPicker_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _bazamFormLogin_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./bazamFormLogin.js */ \"./public/creador-de-logos/app/directives/bazamFormLogin.js\");\n/* harmony import */ var _bazamFormLogin_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_bazamFormLogin_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _bazamMail_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./bazamMail.js */ \"./public/creador-de-logos/app/directives/bazamMail.js\");\n/* harmony import */ var _bazamMail_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_bazamMail_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _bazamPalettePicker_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./bazamPalettePicker.js */ \"./public/creador-de-logos/app/directives/bazamPalettePicker.js\");\n/* harmony import */ var _bazamPalettePicker_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_bazamPalettePicker_js__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _bazamRedireccionar_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./bazamRedireccionar.js */ \"./public/creador-de-logos/app/directives/bazamRedireccionar.js\");\n/* harmony import */ var _bazamRedireccionar_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_bazamRedireccionar_js__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _bazamScroll_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./bazamScroll.js */ \"./public/creador-de-logos/app/directives/bazamScroll.js\");\n/* harmony import */ var _bazamScroll_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_bazamScroll_js__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _bazamSvg_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./bazamSvg.js */ \"./public/creador-de-logos/app/directives/bazamSvg.js\");\n/* harmony import */ var _bazamSvg_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_bazamSvg_js__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _bazamSvgText_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./bazamSvgText.js */ \"./public/creador-de-logos/app/directives/bazamSvgText.js\");\n/* harmony import */ var _bazamSvgText_js__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_bazamSvgText_js__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _bazamVisualizar_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./bazamVisualizar.js */ \"./public/creador-de-logos/app/directives/bazamVisualizar.js\");\n/* harmony import */ var _bazamVisualizar_js__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_bazamVisualizar_js__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _jquery_ui_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./jquery-ui.js */ \"./public/creador-de-logos/app/directives/jquery-ui.js\");\n/* harmony import */ var _jquery_ui_js__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_jquery_ui_js__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _planes_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./planes.js */ \"./public/creador-de-logos/app/directives/planes.js\");\n/* harmony import */ var _planes_js__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_planes_js__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _stripePaymentForm_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./stripePaymentForm.js */ \"./public/creador-de-logos/app/directives/stripePaymentForm.js\");\n/* harmony import */ var _stripePaymentForm_js__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_stripePaymentForm_js__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var _papeleria_bazamCrearPapeleria_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./papeleria/bazamCrearPapeleria.js */ \"./public/creador-de-logos/app/directives/papeleria/bazamCrearPapeleria.js\");\n/* harmony import */ var _papeleria_bazamCrearPapeleria_js__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(_papeleria_bazamCrearPapeleria_js__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var _papeleria_bazamMenuPapeleria_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./papeleria/bazamMenuPapeleria.js */ \"./public/creador-de-logos/app/directives/papeleria/bazamMenuPapeleria.js\");\n/* harmony import */ var _papeleria_bazamMenuPapeleria_js__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(_papeleria_bazamMenuPapeleria_js__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _papeleria_bazamPapeleria_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./papeleria/bazamPapeleria.js */ \"./public/creador-de-logos/app/directives/papeleria/bazamPapeleria.js\");\n/* harmony import */ var _papeleria_bazamPapeleria_js__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(_papeleria_bazamPapeleria_js__WEBPACK_IMPORTED_MODULE_16__);\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n//Papeleria\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/directives/index.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/directives/jquery-ui.js":
/*!*************************************************************!*\
  !*** ./public/creador-de-logos/app/directives/jquery-ui.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("angular.module(\"disenador-de-logos\")\r\n.directive('draggable', function() {\r\n  return {\r\n    // A = attribute, E = Element, C = Class and M = HTML Comment\r\n    restrict:'A',\r\n    //The link function is responsible for registering DOM listeners as well as updating the DOM.\r\n    link: function(scope, element, attrs) {\r\n      element.draggable({\r\n        revert:true\r\n      });\r\n    }\r\n  };\r\n})\r\n\r\n.directive('resizable', function() {\r\n  return {\r\n    // A = attribute, E = Element, C = Class and M = HTML Comment\r\n    restrict:'A',\r\n    //The link function is responsible for registering DOM listeners as well as updating the DOM.\r\n    link: function(scope, element, attrs) {\r\n        element.resizable();\r\n    }\r\n  };\r\n});\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/directives/jquery-ui.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/directives/papeleria/bazamCrearPapeleria.js":
/*!*********************************************************************************!*\
  !*** ./public/creador-de-logos/app/directives/papeleria/bazamCrearPapeleria.js ***!
  \*********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("angular.module(\"disenador-de-logos\")\r\n\r\n    .directive(\"bazamCrearPapeleria\", [function () {\r\n        return {\r\n            restrict: \"AE\",\r\n            scope: {\r\n                estado: \"=\",\r\n                idLogo: \"<\",\r\n                papelerias: \"=\",\r\n                tiene: \"=\"\r\n\t\t\t},\r\n            controller: [\"$scope\", \"$mdToast\", \"$sce\", \"$stateParams\", \"$state\", function ($scope, $mdToast, $sce, $stateParams, $state) {\r\n                var bz = this;\r\n\r\n                bz.sce = $sce;\r\n\r\n                bz.idLogo = $scope.idLogo;\r\n\r\n                $scope.papeleriaActiva = $scope.papelerias[0].tipo;\r\n\r\n                bz.enviarEditor = function(indicePapeleria, indiceModelo){\r\n\r\n                    var papeleria = angular.copy($scope.papelerias[indicePapeleria]);\r\n                    delete papeleria.modelos;\r\n\r\n                    var modelo = angular.copy($scope.papelerias[indicePapeleria].modelos[indiceModelo]);\r\n                    if(modelo.piezas){\r\n                        delete modelo.piezas;\r\n                    }\r\n\r\n                    var datos = {papeleria: papeleria, modelo: modelo};\r\n\r\n                    $state.go('papeleriaEditor', { id: bz.idLogo, papeleria: datos});\r\n                }\r\n\r\n            }],\r\n            controllerAs: \"crearPapeleria\",\r\n            templateUrl: 'app/templates/bazamCrearPapeleria.tpl'\r\n        }\r\n    }])\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/directives/papeleria/bazamCrearPapeleria.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/directives/papeleria/bazamMenuPapeleria.js":
/*!********************************************************************************!*\
  !*** ./public/creador-de-logos/app/directives/papeleria/bazamMenuPapeleria.js ***!
  \********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("angular.module(\"disenador-de-logos\")\r\n\r\n    .directive(\"bazamMenuPapeleria\", [function () {\r\n        return {\r\n            restrict: \"AE\",\r\n            scope: false,\r\n            controller: [\"$scope\", \"$mdToast\", \"$sce\", function ($scope, $mdToast, $sce) {\r\n                var bz = this;\r\n\r\n                bz.sce = $sce;\r\n\r\n                /* Colocamos predefinida la primera cara del modelo que posea contenedores */\r\n\r\n                bz.menuActivo = $scope.papeleriaEditor.papeleria.modelo.caras[0].nombre;\r\n                \r\n                /* Funcion para agregar un elemento al contenedor */\r\n\r\n                $scope.agregarElementoHook = function (indiceCara, indiceHook, indiceElemento) {\r\n                    var hook = $scope.papeleriaEditor.papeleria.modelo.caras[indiceCara].hooks[indiceHook];\r\n\r\n                    var item = $scope.papeleriaEditor.papeleria.items[indiceElemento];\r\n\r\n                    var itemAgregar = $scope.papeleriaEditor.papeleria.modelo.itemsDefaults[item.nombre];\r\n\r\n                    itemAgregar.tag = item.tag;\r\n                    itemAgregar.tipo = item.tipo;\r\n                    itemAgregar.nombre = item.nombre;\r\n\r\n                    /* Si el contenedor esta al limite de su capacidad de elemento detenemos la funcion */\r\n\r\n                    if (hook.items.length == hook.limite) return $mdToast.show($mdToast.base({\r\n                        args: {\r\n                            mensaje: \"El contenedor ha llegado al limite de elementos. Elimine alguno o elija otro contenedor.\",\r\n                            clase: \"danger\"\r\n                        }\r\n                    }));\r\n                    \r\n                    /* Si el contenedor ya posee un elemento igual detenemos la funcion */\r\n\r\n                    for (var i = 0; i < hook.items.length; i++) {\r\n                        if (hook.items[i].nombre == item.nombre) return $mdToast.show($mdToast.base({\r\n                            args: {\r\n                                mensaje: \"El contenedor ya contiene un elemento \" + item.nombre + \", Elija otro elemento.\",\r\n                                clase: \"danger\"\r\n                            }\r\n                        }));\r\n                    }\r\n\r\n                    /* Agregamos el elemento y actualizamos el scope */\r\n                    $scope.papeleriaEditor.papeleria.modelo.caras[indiceCara].hooks[indiceHook].items.push(itemAgregar);\r\n                    $scope.papeleriaEditor.modificarHook(indiceCara, indiceHook)\r\n                    $scope.$apply();\r\n\r\n                }\r\n\r\n                bz.eliminarItemHook = function (indiceCara, indiceHook, indiceItem) {\r\n                    var hook = $scope.papeleriaEditor.papeleria.modelo.caras[indiceCara].hooks[indiceHook];\r\n\r\n                    hook.items.splice(indiceItem, 1);\r\n                    $scope.papeleriaEditor.modificarHook(indiceCara, indiceHook);\r\n                }\r\n\r\n                bz.move = function (accion, indiceCara, indiceHook, indiceElemento) {\r\n\r\n                    var nuevoIndice = indiceElemento + accion;\r\n\r\n                    var elementos = $scope.papeleriaEditor.papeleria.modelo.caras[indiceCara].hooks[indiceHook].items;\r\n\r\n                    if (nuevoIndice < 0 || nuevoIndice == elementos.length) return;\r\n\r\n                    var indexes = [indiceElemento, nuevoIndice].sort();\r\n\r\n                    elementos.splice(indexes[0], 2, elementos[indexes[1]], elementos[indexes[0]]);\r\n                    $scope.papeleriaEditor.modificarHook(indiceCara, indiceHook);\r\n\r\n                }\r\n\r\n\r\n                /* Funcion para cambiar la direccion de un elemento en el contenedor o del contenedor propio */\r\n\r\n                bz.cambiarDireccionElemento = function (elemento, indiceCara, indiceHook) {\r\n\r\n                    var cambio = function (direccion) {\r\n                        if (elemento.items.length > 0) {\r\n                            angular.forEach(elemento.items, function (item) {\r\n                                if (item.icono != null) {\r\n                                    item.icono.orientacion = direccion;\r\n                                }\r\n                            })\r\n                        }\r\n                    }\r\n\r\n                    if (elemento.orientacion == 'right') {\r\n                        elemento.orientacion = 'left';\r\n                        if (elemento.id) {\r\n                            cambio('left');\r\n                        }\r\n                    } else {\r\n                        elemento.orientacion = 'right';\r\n                        if (elemento.id) {\r\n                            cambio('right');\r\n                        }\r\n                    }\r\n\r\n                    $scope.papeleriaEditor.modificarHook(indiceCara, indiceHook);\r\n                }\r\n\r\n                bz.cambiarFuente = function(fuente, indiceCara, indiceHook){\r\n                    var hook = $scope.papeleriaEditor.papeleria.modelo.caras[indiceCara].hooks[indiceHook];\r\n\r\n                    hook.fuente.nombre = fuente.nombre;\r\n                    hook.fuente.url = fuente.url;\r\n                    \r\n                    $scope.papeleriaEditor.modificarHook(indiceCara, indiceHook, true);\r\n                }\r\n\r\n            }],\r\n            controllerAs: \"menuPapeleria\",\r\n            templateUrl: 'app/templates/bazamMenuPapeleria.tpl'\r\n        }\r\n    }])\r\n\r\n    .directive('droppableHookPapeleria', function () {\r\n        return {\r\n            restrict: 'A',\r\n            link: function (scope, element) {\r\n                element.droppable({\r\n                    drop: function (event) {\r\n                        scope.agregarElementoHook(scope.$parent.$index, scope.$index, parseInt(event.originalEvent.target.getAttribute('indice')));\r\n                    }\r\n                })\r\n            }\r\n        };\r\n    })\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/directives/papeleria/bazamMenuPapeleria.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/directives/papeleria/bazamPapeleria.js":
/*!****************************************************************************!*\
  !*** ./public/creador-de-logos/app/directives/papeleria/bazamPapeleria.js ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("angular.module(\"disenador-de-logos\")\r\n\r\n\t.directive(\"bazamPapeleria\", [\"fontService\", \"$document\", \"$q\", \"papeleriaService\", \"$mdToast\", \"coloresPaletaValue\", \"$http\", function (fontService, $document, $q, papeleriaService, $mdToast, coloresPaletaValue, $http) {\r\n\t\treturn {\r\n\t\t\trestrict: \"AE\",\r\n\t\t\tscope: true,\r\n\t\t\tcontroller: [\"$scope\", function ($scope) {\r\n\r\n\t\t\t}],\r\n\t\t\tlink: function (scope, element) {\r\n\t\t\t\t\r\n\t\t\t\t//obtenemos el controlador padre\r\n\t\t\t\tvar bz = scope.$parent.papeleriaEditor;\r\n\r\n\t\t\r\n\t\t\t\tvar logoColors = [\r\n\t\t\t\t\t\"color-primario\",\r\n\t\t\t\t\t\"total-blanco\",\r\n\t\t\t\t\t\"total-negro\",\r\n\t\t\t\t\t\"total-gris\"\r\n\t\t\t\t];\r\n\r\n\r\n\r\n\t\t\t\t///////////////////////////\r\n\t\t\t\t///////MIRROR RECTS////////\r\n\t\t\t\t///////////////////////////\r\n\r\n\t\t\t\tfunction crearMirrorRect (elementoData, identidad){\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar caraSvg = angular.element(\"svg.cara[data-index=\"+identidad.data.cara+\"]\");\r\n\r\n\t\t\t\t\tvar mirrorRect = angular.element($document[0].createElementNS('http://www.w3.org/2000/svg', \"rect\"));\r\n\t\t\t\t\t\t\r\n\t\t\t\t\tmirrorRect.addClass(\"mirror-rect\");\r\n\t\t\t\t\tmirrorRect.attr(\"data-identidad\", angular.toJson(identidad))\r\n\t\t\t\t\tvar coordenadasElemento;\r\n\r\n\t\t\t\t\tif(identidad.tipo == \"item\"){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tvar itemSvg = caraSvg.find(\".hook#\"+identidad.data.hook+\" > svg > g[data-index=\"+identidad.data.item+\"]\");\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tcoordenadasElemento = itemSvg[0].getBBox();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tvar padreSvg = itemSvg.parents(\".hook\");\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tmirrorRect.attr(\"y\", coordenadasElemento.y + parseFloat(padreSvg.attr(\"y\")));\r\n\t\t\t\t\t\tmirrorRect.attr(\"x\", coordenadasElemento.x + parseFloat(padreSvg.attr(\"x\")));\r\n\r\n\t\t\t\t\t\taplicarAlteraciones(elementoData, identidad.data.item, \"mirror\", mirrorRect);\r\n\r\n\t\t\t\t\t} else if(identidad.tipo == \"logo\"){\r\n\r\n\t\t\t\t\t\tvar logoSvg = caraSvg.find(\".contenedor-logo[data-index='\"+identidad.data.logo+\"']\");\r\n\r\n\t\t\t\t\t\tcoordenadasElemento = logoSvg[0].getBBox();\t\r\n\r\n\t\t\t\t\t\tmirrorRect.attr(\"y\", coordenadasElemento.y);\r\n\t\t\t\t\t\tmirrorRect.attr(\"x\", coordenadasElemento.x);\r\n\t\t\t\t\t\taplicarAlteraciones(elementoData, identidad.data.logo, \"mirror\", mirrorRect);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tmirrorRect.css(\"fill\", \"transparent\");\r\n\t\t\t\t\tmirrorRect.attr(\"height\", coordenadasElemento.height);\r\n\t\t\t\t\tmirrorRect.attr(\"width\", coordenadasElemento.width);\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\tcaraSvg.append(mirrorRect);\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\t////////////////////////////\r\n\t\t\t\t//////COLOREAR LOS SVG//////\r\n\t\t\t\t////////////////////////////\r\n\r\n\t\t\t\tfunction pintarLienzo(lienzo) {\r\n\r\n\t\t\t\t\tlienzo.find(\".color-primario\").css({\r\n\t\t\t\t\t\t\"fill\": bz.logo.atributos[\"color-icono\"]\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t//si el icono y el texto tienen el mismo color, se agrega como color secundario ele mismo con 0.5 opacity\r\n\t\t\t\t\tif (bz.logo.atributos[\"color-icono\"] === bz.logo.atributos[\"color-nombre\"]) {\r\n\r\n\t\t\t\t\t\tlienzo.find(\".color-secundario\").css(\"fill\", lienzo.find(\".color-primario\").css(\"fill\").replace(\"rgb\", \"rgba\").replace(\")\", \", 0.5)\"));\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tlienzo.find(\".color-secundario\").css(\"fill\", bz.logo.atributos[\"color-nombre\"]);\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\t/////////////////////////////////////////\r\n\t\t\t\t////APLICAR ALTERACIONES A LOS ITEMS/////\r\n\t\t\t\t/////////////////////////////////////////\r\n\t\t\t\t// color, posicion, tamano\r\n\t\t\t\tfunction aplicarAlteraciones(elementoData, indice, elemento, elementoSvg) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar elementoDOM;\r\n\r\n\t\t\t\t\tif(elemento == \"item\"){\r\n\t\t\t\t\t\telementoDOM = elementoSvg.find(\"g[data-index=\"+indice+\"]\");\r\n\t\t\t\t\t} else if(elemento == \"logo\" || elemento == \"mirror\"){\r\n\t\t\t\t\t\telementoDOM = elementoSvg;\t\t\t\t\t\t\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tnewTransform = \"\";\r\n\t\t\t\t\t\r\n\t\t\t\t\tangular.forEach(elementoData.alteraciones, function(alteracion, llave){\r\n\r\n\t\t\t\t\t\tswitch(llave){\r\n\r\n\t\t\t\t\t\t\tcase \"matrix\":\r\n\t\t\t\t\t\t\t\tvar matrix = alteracion;\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tfor (var i = 0; i < matrix.length; i++) {\r\n\t\t\t\t\t\t\t\t\tmatrix[i] = parseFloat(matrix[i]);\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tvar newMatrix = \"matrix(\" + matrix.join(\" \") + \")\";\r\n\t\t\t\t\t\t\t\t//elementoDOM.attr(\"transform\", newMatrix);\r\n\r\n\t\t\t\t\t\t\t\tnewTransform = newTransform+\" \"+newMatrix;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\tcase \"scale\":\r\n\t\t\t\t\t\t\t\tvar scale = alteracion;\r\n\r\n\t\t\t\t\t\t\t\tvar newScale = \"scale(\" + scale + \")\";\r\n\t\t\t\t\t\t\t\tnewTransform = newTransform+\" \"+newScale;\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\telementoDOM.attr(\"transform\", newTransform);\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/////////////////////////////////////////\r\n\t\t\t\t//////AGREGAR LOS HOOKS A LAS CARAS//////\r\n\t\t\t\t/////////////////////////////////////////\r\n\r\n\t\t\t\tfunction agregarHook(hook, caraSvg) {\r\n\r\n\t\t\t\t\tvar defered = $q.defer();\r\n\t\t\t\t\tvar promise = defered.promise;\r\n\r\n\t\t\t\t\tfontService.preparar(hook.fuente.nombre, hook.fuente.url)\r\n\t\t\t\t\t\t.finally(function () {\r\n\r\n\t\t\t\t\t\t\tvar hookSvg = angular.element($document[0].createElementNS('http://www.w3.org/2000/svg', \"foreignObject\"));\r\n\r\n\t\t\t\t\t\t\thookSvg.attr(\"id\", hook.id);\r\n\r\n\t\t\t\t\t\t\thookSvg.addClass(\"hook\");\r\n\r\n\t\t\t\t\t\t\thookSvg.css({\r\n\t\t\t\t\t\t\t\t\"font-family\": hook.fuente.nombre,\r\n\t\t\t\t\t\t\t\t\"fill\": hook.fuente.fill\r\n\t\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t\thookSvg.append(\"<svg style='width:100%; height: 100%;'></svg>\");\r\n\r\n\t\t\t\t\t\t\tcaraSvg.append(hookSvg);\r\n\r\n\t\t\t\t\t\t\tangular.forEach(hook.caracteristicas, function (caracteristica, llave) {\r\n\t\t\t\t\t\t\t\thookSvg.attr(llave, caracteristica);\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\tangular.forEach(hook.items, function (item, indice) {\r\n\t\t\t\t\t\t\t\tagregarItem(item, indice, hook, hookSvg);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tangular.forEach(hook.items, function(item, indice){\r\n\t\t\t\t\t\t\t\taplicarAlteraciones(item, indice, \"item\", hookSvg)\r\n\t\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t\tdefered.resolve();\r\n\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\treturn promise;\r\n\r\n\t\t\t\t};\r\n\r\n\t\t\t\t/////////////////////////////////////////\r\n\t\t\t\t//////AGREGAR LOS ITEMS A LOS HOOKS//////\r\n\t\t\t\t/////////////////////////////////////////\r\n\t\t\t\tfunction agregarItem(item, indice, hook, hookSvg, conservarAlteraciones) {\r\n\r\n\t\t\t\t\tvar itemSvg = angular.element($document[0].createElementNS('http://www.w3.org/2000/svg', \"g\"));\r\n\r\n\t\t\t\t\tvar textSvg = angular.element($document[0].createElementNS('http://www.w3.org/2000/svg', item.tag))\r\n\r\n\t\t\t\t\titemSvg.append(textSvg);\r\n\r\n\t\t\t\t\titemSvg.attr(\"data-index\", indice);\r\n\r\n\t\t\t\t\t//REVISAR\r\n\t\t\t\t\thookSvg.children().append(itemSvg);\r\n\r\n\t\t\t\t\tvar iconoTexto;\r\n\t\t\t\t\tvar contenedorIconoSvg;\r\n\t\t\t\t\tvar iconoSvg;\r\n\r\n\t\t\t\t\tif (item.icono) {\r\n\r\n\t\t\t\t\t\tvar contenedorIconoSvg = angular.element($document[0].createElementNS('http://www.w3.org/2000/svg', \"foreignObject\"));\r\n\r\n\t\t\t\t\t\ticonoSvg = angular.element(item.icono.svg);\r\n\r\n\t\t\t\t\t\tcontenedorIconoSvg.append(iconoSvg);\r\n\r\n\t\t\t\t\t\tangular.forEach(item.icono.clases, function (clase) {\r\n\t\t\t\t\t\t\ticonoSvg.addClass(clase);\r\n\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\tif (item.icono.orientacion == 'right') {\r\n\r\n\t\t\t\t\t\t\titemSvg.append(contenedorIconoSvg);\r\n\r\n\t\t\t\t\t\t} else if (item.icono.orientacion == 'left') {\r\n\r\n\t\t\t\t\t\t\titemSvg.prepend(contenedorIconoSvg);\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar multilineas = 0;\r\n\t\t\t\t\tvar tamanoLineas = 0;\r\n\r\n\t\t\t\t\tif (Array.isArray(item.valor)) { //con saltos de linea\r\n\r\n\t\t\t\t\t\tangular.forEach(item.valor, function (trozoText) {\r\n\r\n\t\t\t\t\t\t\ttrozoTextSvg = angular.element($document[0].createElementNS('http://www.w3.org/2000/svg', \"tspan\"));\r\n\t\t\t\t\t\t\ttrozoTextSvg.text(trozoText);\r\n\t\t\t\t\t\t\ttextSvg.append(trozoTextSvg);\r\n\r\n\t\t\t\t\t\t\ttamanoLineas += trozoTextSvg[0].getBBox().height;\r\n\t\t\t\t\t\t\tmultilineas++;\r\n\r\n\t\t\t\t\t\t})\r\n\r\n\r\n\t\t\t\t\t} else { //una sola linea de texto\r\n\r\n\t\t\t\t\t\ttextSvg.text(item.valor);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tangular.forEach(item.caracteristicas, function (caracteristica, llave) {\r\n\r\n\t\t\t\t\t\ttextSvg.attr(llave, caracteristica);\r\n\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tif (multilineas) {\r\n\r\n\t\t\t\t\t\tif (multilineas <= 2) {\r\n\t\t\t\t\t\t\tvar tamanoTexto = hook.tamanoTexto;\r\n\t\t\t\t\t\t} else if (multilineas > 2) {\r\n\t\t\t\t\t\t\tvar tamanoTexto = (parseInt(hook.tamanoTexto) / multilineas) * 2;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\titemSvg.css({\r\n\t\t\t\t\t\t\t\"font-size\": tamanoTexto\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\titemSvg.css({\r\n\t\t\t\t\t\t\t\"font-size\": hook.tamanoTexto\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar coordenadasItem = itemSvg[0].getBBox();\r\n\t\t\t\t\tvar tamanoIcono = parseInt(hook.tamanoTexto) * 2;\r\n\t\t\t\t\tvar coordenadasHook = hookSvg[0].getBBox();\r\n\t\t\t\t\tvar coordenadasTexto = textSvg[0].getBBox();\r\n\t\t\t\t\tvar coordenadasContenedor;\r\n\r\n\r\n\t\t\t\t\tswitch (hook.orientacion) {\r\n\r\n\t\t\t\t\t\tcase \"right\":\r\n\r\n\t\t\t\t\t\t\ttextSvg.attr(\"text-anchor\", \"end\");\r\n\r\n\t\t\t\t\t\t\tif (item.icono) { //si tiene icono\r\n\r\n\t\t\t\t\t\t\t\tcontenedorIconoSvg.attr(\"height\", tamanoIcono);\r\n\t\t\t\t\t\t\t\tcontenedorIconoSvg.attr(\"width\", tamanoIcono);\r\n\r\n\t\t\t\t\t\t\t\ticonoSvg.attr(\"height\", \"100%\");\r\n\t\t\t\t\t\t\t\ticonoSvg.attr(\"width\", \"100%\");\r\n\r\n\t\t\t\t\t\t\t\tcoordenadasContenedor = contenedorIconoSvg[0].getBBox();\r\n\r\n\t\t\t\t\t\t\t\tif (item.icono.orientacion == 'right') {\r\n\r\n\t\t\t\t\t\t\t\t\tcontenedorIconoSvg.attr(\"x\", coordenadasHook.width - coordenadasContenedor.width)\r\n\r\n\t\t\t\t\t\t\t\t\tcoordenadasContenedor = contenedorIconoSvg[0].getBBox();\r\n\r\n\t\t\t\t\t\t\t\t\tif (multilineas) {\r\n\t\t\t\t\t\t\t\t\t\ttextSvg.children().attr(\"x\", (coordenadasContenedor.x * 0.95))\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\ttextSvg.attr(\"x\", (coordenadasContenedor.x * 0.95));\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t\t\t\t} else if (item.icono.orientacion == 'left') {\r\n\r\n\t\t\t\t\t\t\t\t\tif (multilineas) {\r\n\t\t\t\t\t\t\t\t\t\ttextSvg.children().attr(\"x\", \"100%\")\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\ttextSvg.attr(\"x\", \"100%\");\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\tcoordenadasTexto = textSvg[0].getBBox();\r\n\r\n\t\t\t\t\t\t\t\t\tcontenedorIconoSvg.attr(\"x\", coordenadasHook.width - coordenadasTexto.width - coordenadasContenedor.width)\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t\t\t\tif (multilineas) { //si es multilinea\r\n\r\n\t\t\t\t\t\t\t\t\tcoordenadasContenedor = contenedorIconoSvg[0].getBBox();\r\n\r\n\t\t\t\t\t\t\t\t\tif (coordenadasContenedor.height > tamanoLineas) { //si el icono es mas grande que las lineas\r\n\r\n\t\t\t\t\t\t\t\t\t\tcontenedorIconoSvg.attr(\"y\", \"0\");\r\n\r\n\t\t\t\t\t\t\t\t\t\t//TODO: posicion del text guiado por el icono\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t} else if (coordenadasContenedor.height <= tamanoLineas) { //si las lineas son mas grandes que el icono\r\n\r\n\t\t\t\t\t\t\t\t\t\tif (indice === 0) { //si es el primer item de este contenedor\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tcoordenadasTexto = textSvg[0].getBBox();\r\n\r\n\t\t\t\t\t\t\t\t\t\t\ttextSvg.attr(\"y\", coordenadasTexto.height)\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tvar alturaLinea = 0;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\ttextSvg.children().each(function (indiceTrozo) {\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar trozoTextSvg = angular.element(this);\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (indiceTrozo === 0) { // primera linea de texto\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttrozoTextSvg.attr(\"dy\", \"0\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\talturaLinea = trozoTextSvg[0].getBBox().height;\r\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar coordenadasTrozo = trozoTextSvg[0].getBBox();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttrozoTextSvg.attr(\"dy\", alturaLinea);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t\t\t\t\t} else { //cualquier item despues del primero\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tvar itemAnterior = hookSvg.children().find(\"g:nth-child(\" + (indice) + \")\");\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tvar alturaAnterior = alturaAnterior = itemAnterior[0].getBBox().y + itemAnterior[0].getBBox().height;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\ttextSvg.attr(\"y\", alturaAnterior + coordenadasTexto.height);\r\n\t\t\t\t\t\t\t\t\t\t\tvar alturaLinea = 0;\r\n\t\t\t\t\t\t\t\t\t\t\ttextSvg.children().each(function (indiceTrozo) {\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar trozoTextSvg = angular.element(this);\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (indiceTrozo === 0) { // primera linea de texto\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttrozoTextSvg.attr(\"dy\", \"0\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\talturaLinea = trozoTextSvg[0].getBBox().height;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttrozoTextSvg.attr(\"dy\", alturaLinea);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\tcoordenadasTexto = textSvg[0].getBBox();\r\n\r\n\t\t\t\t\t\t\t\t\t\tcontenedorIconoSvg.attr(\"y\", (coordenadasTexto.y + (coordenadasTexto.height / 2) - (coordenadasContenedor.height / 2)));\r\n\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t} else { //si es un texto de linea unica\r\n\r\n\t\t\t\t\t\t\t\t\tif (indice === 0) { //si es el primer item de este contenedor\r\n\r\n\t\t\t\t\t\t\t\t\t\tcontenedorIconoSvg.attr(\"y\", \"0\");\r\n\r\n\t\t\t\t\t\t\t\t\t} else { //cualquier item despues del primero\r\n\r\n\t\t\t\t\t\t\t\t\t\tvar itemAnterior = hookSvg.children().find(\"g:nth-child(\" + (indice) + \")\");\r\n\r\n\t\t\t\t\t\t\t\t\t\tvar alturaAnterior;\r\n\t\t\t\t\t\t\t\t\t\t/*\r\n\t\t\t\t\t\t\t\t\t\tif (hook.items[indice - 1].icono) { //SI HAY UN ICONO ANTERIOR\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tvar contenedorIconoSvgAnterior = itemAnterior.find(\"foreignObject\");\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tvar coordenadasContenedorIconoSvgAnterior = contenedorIconoSvgAnterior[0].getBBox();\r\n\r\n\t\t\t\t\t\t\t\t\t\t\talturaAnterior = coordenadasContenedorIconoSvgAnterior.height + coordenadasContenedorIconoSvgAnterior.y;\r\n\r\n\t\t\t\t\t\t\t\t\t\t} else { //SI NO HAY ICONO ANTERIOR\r\n\t\t\t\t\t\t\t\t\t\t\t*/\r\n\t\t\t\t\t\t\t\t\t\talturaAnterior = itemAnterior[0].getBBox().y + itemAnterior[0].getBBox().height;\r\n\r\n\t\t\t\t\t\t\t\t\t\t//}\r\n\r\n\t\t\t\t\t\t\t\t\t\t//SE POSICIONA EL ICONO ACTUAL\r\n\t\t\t\t\t\t\t\t\t\tcontenedorIconoSvg.attr(\"y\", alturaAnterior);\r\n\r\n\t\t\t\t\t\t\t\t\t\titemSvgAnterior = hookSvg.children().find(\"g:nth-child(\" + (indice) + \")\");\r\n\r\n\t\t\t\t\t\t\t\t\t\tvar coordenadasItemAnterior = itemSvgAnterior[0].getBBox();\r\n\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\tcoordenadasContenedor = contenedorIconoSvg[0].getBBox();\r\n\r\n\t\t\t\t\t\t\t\t\ttextSvg.attr(\"y\", (coordenadasContenedor.y + (coordenadasContenedor.height / 2) + (coordenadasTexto.height / 4)));\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t\tif (multilineas) { //si es multilinea\r\n\r\n\t\t\t\t\t\t\t\t\ttextSvg.children().attr(\"x\", \"100%\")\r\n\r\n\t\t\t\t\t\t\t\t\tif (indice === 0) { //si es el primer item de este contenedor\r\n\r\n\t\t\t\t\t\t\t\t\t\tcoordenadasTexto = textSvg[0].getBBox();\r\n\r\n\t\t\t\t\t\t\t\t\t\ttextSvg.attr(\"y\", coordenadasTexto.height)\r\n\t\t\t\t\t\t\t\t\t\tvar alturaLinea = 0;\r\n\t\t\t\t\t\t\t\t\t\ttextSvg.children().each(function (indiceTrozo) {\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tvar trozoTextSvg = angular.element(this);\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tif (indiceTrozo === 0) { // primera linea de texto\r\n\t\t\t\t\t\t\t\t\t\t\t\ttrozoTextSvg.attr(\"dy\", \"0\");\r\n\t\t\t\t\t\t\t\t\t\t\t\talturaLinea = trozoTextSvg[0].getBBox().height;\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar coordenadasTrozo = trozoTextSvg[0].getBBox();\r\n\t\t\t\t\t\t\t\t\t\t\t\ttrozoTextSvg.attr(\"dy\", alturaLinea);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t\t\t\t} else { //cualquier item despues del primero\r\n\r\n\t\t\t\t\t\t\t\t\t\tvar itemAnterior = hookSvg.children().find(\"g:nth-child(\" + (indice) + \")\");\r\n\r\n\t\t\t\t\t\t\t\t\t\tvar alturaAnterior = alturaAnterior = itemAnterior[0].getBBox().y + itemAnterior[0].getBBox().height;\r\n\r\n\t\t\t\t\t\t\t\t\t\ttextSvg.attr(\"y\", alturaAnterior + coordenadasTexto.height);\r\n\t\t\t\t\t\t\t\t\t\tvar alturaLinea = 0;\r\n\t\t\t\t\t\t\t\t\t\ttextSvg.children().each(function (indiceTrozo) {\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tvar trozoTextSvg = angular.element(this);\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tif (indiceTrozo === 0) { // primera linea de texto\r\n\t\t\t\t\t\t\t\t\t\t\t\ttrozoTextSvg.attr(\"dy\", \"0\");\r\n\t\t\t\t\t\t\t\t\t\t\t\talturaLinea = trozoTextSvg[0].getBBox().height;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\ttrozoTextSvg.attr(\"dy\", alturaLinea);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t\t\t\t} else { // si no es multilinea\r\n\r\n\t\t\t\t\t\t\t\t\ttextSvg.attr(\"x\", \"100%\");\r\n\r\n\t\t\t\t\t\t\t\t\tif (indice === 0) { //si es el primer item de este contenedor\r\n\r\n\t\t\t\t\t\t\t\t\t\ttextSvg.attr(\"y\", coordenadasItem.height);\r\n\r\n\t\t\t\t\t\t\t\t\t} else { //cualquier item despues del primero\r\n\r\n\t\t\t\t\t\t\t\t\t\titemSvgAnterior = hookSvg.children().find(\"g:nth-child(\" + (indice) + \")\");\r\n\r\n\t\t\t\t\t\t\t\t\t\tvar coordenadasItemAnterior = itemSvgAnterior[0].getBBox();\r\n\r\n\t\t\t\t\t\t\t\t\t\ttextSvg.attr(\"y\", coordenadasItem.height + coordenadasItemAnterior.y + coordenadasItemAnterior.height);\r\n\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase \"left\":\r\n\r\n\t\t\t\t\t\t\ttextSvg.attr(\"text-anchor\", \"start\");\r\n\r\n\t\t\t\t\t\t\tif (item.icono) { //si tiene icono\r\n\r\n\t\t\t\t\t\t\t\tcontenedorIconoSvg.attr(\"height\", tamanoIcono);\r\n\t\t\t\t\t\t\t\tcontenedorIconoSvg.attr(\"width\", tamanoIcono);\r\n\r\n\t\t\t\t\t\t\t\ticonoSvg.attr(\"height\", \"100%\")\r\n\t\t\t\t\t\t\t\ticonoSvg.attr(\"width\", \"100%\")\r\n\r\n\t\t\t\t\t\t\t\tcoordenadasContenedor = contenedorIconoSvg[0].getBBox();\r\n\r\n\t\t\t\t\t\t\t\tif (item.icono.orientacion == 'right') {\r\n\r\n\t\t\t\t\t\t\t\t\t//contenedorIconoSvg.attr(\"x\", coordenadasHook.width - coordenadasContenedor.width)\r\n\r\n\t\t\t\t\t\t\t\t\tif (multilineas) {\r\n\t\t\t\t\t\t\t\t\t\ttextSvg.children().attr(\"x\", \"0\")\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\ttextSvg.attr(\"x\", \"0\");\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\tcoordenadasTexto = textSvg[0].getBBox();\r\n\r\n\t\t\t\t\t\t\t\t\tcontenedorIconoSvg.attr(\"x\", coordenadasTexto.width);\r\n\r\n\t\t\t\t\t\t\t\t\t//coordenadasContenedor = contenedorIconoSvg[0].getBBox();\r\n\r\n\t\t\t\t\t\t\t\t} else if (item.icono.orientacion == 'left') {\r\n\r\n\t\t\t\t\t\t\t\t\tcontenedorIconoSvg.attr(\"x\", \"0\");\r\n\r\n\t\t\t\t\t\t\t\t\tcoordenadasContenedor = contenedorIconoSvg[0].getBBox();\r\n\r\n\t\t\t\t\t\t\t\t\tif (multilineas) {\r\n\t\t\t\t\t\t\t\t\t\ttextSvg.children().attr(\"x\", (coordenadasContenedor.width * 1.05))\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\ttextSvg.attr(\"x\", (coordenadasContenedor.width * 1.05));\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tif (multilineas) { //si es multilinea\r\n\r\n\r\n\t\t\t\t\t\t\t\t\tcoordenadasContenedor = contenedorIconoSvg[0].getBBox();\r\n\r\n\t\t\t\t\t\t\t\t\tif (coordenadasContenedor.height > tamanoLineas) { //si el icono es mas grande que las lineas\r\n\r\n\t\t\t\t\t\t\t\t\t\t//TODO:\r\n\r\n\t\t\t\t\t\t\t\t\t} else if (coordenadasContenedor.height <= tamanoLineas) { //si las lineas son mas grandes que el icono\r\n\t\t\t\t\t\t\t\t\t\tif (indice === 0) { //si es el primer item de este contenedor\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tcoordenadasTexto = textSvg[0].getBBox();\r\n\r\n\t\t\t\t\t\t\t\t\t\t\ttextSvg.attr(\"y\", coordenadasTexto.height)\r\n\t\t\t\t\t\t\t\t\t\t\tvar alturaLinea = 0;\r\n\t\t\t\t\t\t\t\t\t\t\ttextSvg.children().each(function (indiceTrozo) {\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar trozoTextSvg = angular.element(this);\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (indiceTrozo === 0) { // primera linea de texto\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttrozoTextSvg.attr(\"dy\", \"0\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\talturaLinea = trozoTextSvg[0].getBBox().height;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t//var coordenadasTrozoTextAnterior = trozoTextSvg.prev()[0].getBBox();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t//var coordenadasTrozo = trozoTextSvg[0].getBBox();\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttrozoTextSvg.attr(\"dy\", alturaLinea);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t\t\t\t\t} else { //cualquier item despues del primero\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tvar itemAnterior = hookSvg.children().find(\"g:nth-child(\" + (indice) + \")\");\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tvar alturaAnterior = alturaAnterior = itemAnterior[0].getBBox().y + itemAnterior[0].getBBox().height;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\ttextSvg.attr(\"y\", alturaAnterior + coordenadasTexto.height);\r\n\t\t\t\t\t\t\t\t\t\t\tvar alturaLinea = 0;\r\n\t\t\t\t\t\t\t\t\t\t\ttextSvg.children().each(function (indiceTrozo) {\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar trozoTextSvg = angular.element(this);\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (indiceTrozo === 0) { // primera linea de texto\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttrozoTextSvg.attr(\"dy\", \"0\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\talturaLinea = trozoTextSvg[0].getBBox().height;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttrozoTextSvg.attr(\"dy\", alturaLinea);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\tcoordenadasTexto = textSvg[0].getBBox();\r\n\r\n\t\t\t\t\t\t\t\t\t\tcontenedorIconoSvg.attr(\"y\", (coordenadasTexto.y + (coordenadasTexto.height / 2) - (coordenadasContenedor.height / 2)));\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t//si es el primer item de este contenedor\r\n\r\n\t\t\t\t\t\t\t\t} else { //si es un texto de una sola linea\r\n\r\n\t\t\t\t\t\t\t\t\tif (indice === 0) { //si es el primer item de este contenedor\r\n\r\n\t\t\t\t\t\t\t\t\t\tcontenedorIconoSvg.attr(\"y\", \"0\");\r\n\r\n\t\t\t\t\t\t\t\t\t} else { //cualquier item despues del primero\r\n\r\n\t\t\t\t\t\t\t\t\t\tvar itemAnterior = hookSvg.children().find(\"g:nth-child(\" + (indice) + \")\");\r\n\r\n\t\t\t\t\t\t\t\t\t\tvar alturaAnterior;\r\n\r\n\t\t\t\t\t\t\t\t\t\t/*if (hook.items[indice - 1].icono) { //SI HAY UN ICONO ANTERIOR\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tvar contenedorIconoSvgAnterior = itemAnterior.find(\"foreignObject\");\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tvar coordenadasContenedorIconoSvgAnterior = contenedorIconoSvgAnterior[0].getBBox();\r\n\r\n\t\t\t\t\t\t\t\t\t\t\talturaAnterior = coordenadasContenedorIconoSvgAnterior.height + coordenadasContenedorIconoSvgAnterior.y;\r\n\r\n\t\t\t\t\t\t\t\t\t\t} else { //SI NO HAY ICONO ANTEIOR */\r\n\r\n\t\t\t\t\t\t\t\t\t\talturaAnterior = itemAnterior[0].getBBox().y + itemAnterior[0].getBBox().height;\r\n\r\n\t\t\t\t\t\t\t\t\t\t//}\r\n\r\n\t\t\t\t\t\t\t\t\t\t//SE POSICIONA EL ICONO ACTUAL\r\n\t\t\t\t\t\t\t\t\t\tcontenedorIconoSvg.attr(\"y\", alturaAnterior);\r\n\r\n\t\t\t\t\t\t\t\t\t\titemSvgAnterior = hookSvg.children().find(\"g:nth-child(\" + (indice) + \")\");\r\n\r\n\t\t\t\t\t\t\t\t\t\tvar coordenadasItemAnterior = itemSvgAnterior[0].getBBox();\r\n\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\tcoordenadasContenedor = contenedorIconoSvg[0].getBBox();\r\n\r\n\t\t\t\t\t\t\t\t\ttextSvg.attr(\"y\", (coordenadasContenedor.y + (coordenadasContenedor.height / 2) + (coordenadasTexto.height / 4)));\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t} else { //si no tiene icono\r\n\r\n\t\t\t\t\t\t\t\tif (multilineas) { //si es multilinea\r\n\r\n\t\t\t\t\t\t\t\t\ttextSvg.children().attr(\"x\", \"0\")\r\n\r\n\t\t\t\t\t\t\t\t\tif (indice === 0) { //si es el primer item de este contenedor\r\n\r\n\t\t\t\t\t\t\t\t\t\tcoordenadasTexto = textSvg[0].getBBox();\r\n\t\t\t\t\t\t\t\t\t\ttextSvg.attr(\"y\", coordenadasTexto.height)\r\n\t\t\t\t\t\t\t\t\t\tvar alturaLinea = 0;\r\n\r\n\t\t\t\t\t\t\t\t\t\ttextSvg.children().each(function (indiceTrozo) {\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tvar trozoTextSvg = angular.element(this);\r\n\t\t\t\t\t\t\t\t\t\t\tif (indiceTrozo === 0) { // primera linea de texto\r\n\t\t\t\t\t\t\t\t\t\t\t\ttrozoTextSvg.attr(\"dy\", \"0\");\r\n\t\t\t\t\t\t\t\t\t\t\t\talturaLinea = trozoTextSvg[0].getBBox().height;\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar coordenadasTrozo = trozoTextSvg[0].getBBox();\r\n\t\t\t\t\t\t\t\t\t\t\t\ttrozoTextSvg.attr(\"dy\", alturaLinea);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t\t\t\t} else { //cualquier item despues del primero\r\n\r\n\t\t\t\t\t\t\t\t\t\tvar itemAnterior = hookSvg.children().find(\"g:nth-child(\" + (indice) + \")\");\r\n\r\n\t\t\t\t\t\t\t\t\t\tvar alturaAnterior = alturaAnterior = itemAnterior[0].getBBox().y + itemAnterior[0].getBBox().height;\r\n\r\n\t\t\t\t\t\t\t\t\t\ttextSvg.attr(\"y\", alturaAnterior + coordenadasTexto.height);\r\n\t\t\t\t\t\t\t\t\t\tvar alturaLinea = 0;\r\n\t\t\t\t\t\t\t\t\t\ttextSvg.children().each(function (indiceTrozo) {\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tvar trozoTextSvg = angular.element(this);\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tif (indiceTrozo === 0) { // primera linea de texto\r\n\t\t\t\t\t\t\t\t\t\t\t\ttrozoTextSvg.attr(\"dy\", \"0\");\r\n\t\t\t\t\t\t\t\t\t\t\t\talturaLinea = trozoTextSvg[0].getBBox().height;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\ttrozoTextSvg.attr(\"dy\", alturaLinea);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\ttextSvg.attr(\"x\", \"0%\")\r\n\r\n\t\t\t\t\t\t\t\t\tif (indice === 0) { //si es el primer item de este contenedor\r\n\r\n\t\t\t\t\t\t\t\t\t\ttextSvg.attr(\"y\", coordenadasItem.height);\r\n\r\n\t\t\t\t\t\t\t\t\t} else { //cualquier item despues del primero\r\n\r\n\t\t\t\t\t\t\t\t\t\titemSvgAnterior = hookSvg.children().find(\"g:nth-child(\" + (indice) + \")\");\r\n\r\n\t\t\t\t\t\t\t\t\t\tvar coordenadasItemAnterior = itemSvgAnterior[0].getBBox();\r\n\r\n\t\t\t\t\t\t\t\t\t\ttextSvg.attr(\"y\", coordenadasItem.height + coordenadasItemAnterior.y + coordenadasItemAnterior.height);\r\n\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t/*if(iconoSvg){//si tiene icono\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tcontenedorIconoSvg.attr(\"height\", tamanoIcono);\r\n\t\t\t\t\t\t\t\t\t\tcontenedorIconoSvg.attr(\"width\", tamanoIcono);\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\ticonoSvg.attr(\"height\", \"100%\")\r\n\t\t\t\t\t\t\t\t\t\ticonoSvg.attr(\"width\", \"100%\")\r\n\r\n\t\t\t\t\t\t\t\t\t\tcoordenadasContenedor = contenedorIconoSvg[0].getBBox();\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tcontenedorIconoSvg.attr(\"x\", coordenadasHook.width - coordenadasContenedor.width)\r\n\r\n\t\t\t\t\t\t\t\t\t\tcoordenadasContenedor = contenedorIconoSvg[0].getBBox();\r\n\r\n\t\t\t\t\t\t\t\t\t\ttextSvg.attr(\"x\", (coordenadasContenedor.x * 0.95));\r\n\t\t\t\t\t\t\t\t\t\ttextSvg.attr(\"text-anchor\", \"end\");\r\n\r\n\t\t\t\t\t\t\t\t\t\tif(indice === 0){//si es el primer item de este contenedor\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\ttextSvg.attr(\"y\", coordenadasItem.height);\r\n\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t} else {//cualquier item despues del primero\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\titemSvgAnterior = hookSvg.children().find(\"g:nth-child(\"+(indice)+\")\");\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\tvar coordenadasItemAnterior = itemSvgAnterior[0].getBBox();\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\ttextSvg.attr(\"y\", coordenadasItem.height + coordenadasItemAnterior.y + coordenadasItemAnterior.height);\r\n\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t\t\t\t//textSvg.attr(\"x\", \"100%\");\r\n\t\t\t\t\t\t\t\t\t\t//textSvg.attr(\"text-anchor\", \"end\");\r\n\r\n\t\t\t\t\t\t\t\t\t\tif(indice === 0){//si es el primer item de este contenedor\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\ttextSvg.attr(\"y\", coordenadasItem.height);\r\n\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t} else {//cualquier item despues del primero\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\titemSvgAnterior = hookSvg.children().find(\"g:nth-child(\"+(indice)+\")\");\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\tvar coordenadasItemAnterior = itemSvgAnterior[0].getBBox();\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\ttextSvg.attr(\"y\", coordenadasItem.height + coordenadasItemAnterior.y + coordenadasItemAnterior.height);\r\n\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}*/\r\n\r\n\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\r\n\r\n\r\n\r\n\t\t\t\t/////////////////////////\r\n\t\t\t\t/////////COMIENZO////////\r\n\t\t\t\t/////////////////////////\r\n\r\n\r\n\t\t\t\tvar promesasHooks = [];\r\n\r\n\t\t\t\tvar loader = angular.element(\"<div></div>\");\r\n\t\t\t\tloader.addClass(\"bazam-loader-papeleria\");\r\n\t\t\t\telement.append(loader);\r\n\r\n\r\n\r\n\t\t\t\tangular.forEach(bz.papeleria.modelo.caras, function (cara, index) {\r\n\r\n\t\t\t\t\tvar caraSvg = angular.element(cara.svg);\r\n\t\t\t\t\tcaraSvg.addClass(\"cara\");\r\n\t\t\t\t\tcaraSvg.attr(\"data-index\", index);\r\n\r\n\t\t\t\t\tif (index) {\r\n\t\t\t\t\t\tcaraSvg.css({\r\n\t\t\t\t\t\t\t\"visibiliy\": \"hidden\",\r\n\t\t\t\t\t\t\t\"z-index\": \"-1\"\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar estilos = angular.element(\"<style></style>\");\r\n\t\t\t\t\testilos.addClass(\"estilos-cara\");\r\n\r\n\t\t\t\t\t$http.get(\"/creador-de-logos/app/directives/papeleria/bazamPapeleria.css\").then(function(res){\r\n\t\t\t\t\t\testilos.text(res.data);\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\tcaraSvg.prepend(estilos);\r\n\r\n\t\t\t\t\telement.append(caraSvg);\r\n\r\n\t\t\t\t\tangular.forEach(cara.logos, function (logo, indiceLogo) {\r\n\r\n\t\t\t\t\t\tvar logoSvg = angular.element(\"<g class='contenedor-logo' data-index=\"+indiceLogo+\">\" + bz.base64.decode(bz.logo.logo) + \"</g>\");\r\n\r\n\t\t\t\t\t\tangular.forEach(logo.caracteristicas, function (caracteristica, llave) {\r\n\t\t\t\t\t\t\tlogoSvg.children().attr(llave, caracteristica);\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tangular.forEach(logo.clases, function (clase) {\r\n\t\t\t\t\t\t\tlogoSvg.addClass(clase);\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\taplicarAlteraciones(logo, indiceLogo, \"logo\", logoSvg);\r\n\r\n\t\t\t\t\t\tcaraSvg.append(logoSvg);\r\n\r\n\t\t\t\t\t});\r\n\t\t\t\t\tangular.forEach(cara.hooks, function (hook) {\r\n\t\t\t\t\t\tpromesasHooks.push(agregarHook(hook, caraSvg));\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\t\t$q.all(promesasHooks)\r\n\t\t\t\t\t.finally(function () {\r\n\t\t\t\t\t\telement.html(element.html());\r\n\t\t\t\t\t\tpintarLienzo(element);\r\n\r\n\t\t\t\t\t\tangular.forEach(bz.papeleria.modelo.caras, function(cara, indiceCara){\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tangular.forEach(cara.logos, function(logo, indiceLogo){\r\n\t\t\t\t\t\t\t\tvar identidadLogo = {\r\n\t\t\t\t\t\t\t\t\ttipo: \"logo\",\r\n\t\t\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\t\t\tcara: indiceCara,\r\n\t\t\t\t\t\t\t\t\t\tlogo: indiceLogo\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tcrearMirrorRect(logo, identidadLogo);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tangular.forEach(cara.hooks, function(hook, indiceHook){\r\n\t\t\t\t\t\t\t\tangular.forEach(hook.items, function(item, indiceItem){\r\n\t\t\t\t\t\t\t\t\tvar identidadItem = {\r\n\t\t\t\t\t\t\t\t\t\ttipo: \"item\",\r\n\t\t\t\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\t\t\t\tcara: indiceCara,\r\n\t\t\t\t\t\t\t\t\t\t\thook: hook.id,\r\n\t\t\t\t\t\t\t\t\t\t\titem: indiceItem\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tcrearMirrorRect(item, identidadItem);\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\telement.find(\".bazam-loader-papeleria\").remove();\r\n\r\n\t\t\t\t\t})\r\n\r\n\r\n\t\t\t\tbz.modificarHook = function (indiceCara, indiceHook, preservarAlteraciones) {\r\n\r\n\t\t\t\t\tvar hook = bz.papeleria.modelo.caras[indiceCara].hooks[indiceHook];\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(!preservarAlteraciones){\r\n\t\t\t\t\t\tangular.forEach(hook.items, function(item, indice){\r\n\t\t\t\t\t\t\tbz.papeleria.modelo.caras[indiceCara].hooks[indiceHook].items[indice].alteraciones = {};\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\t\t\t\t\r\n\r\n\r\n\t\t\t\t\tvar caraSvg = angular.element(\"bazam-papeleria svg:nth-child(\" + (indiceCara + 1) + \")\");\r\n\r\n\t\t\t\t\tvar hookSvg = caraSvg.find(\"foreignObject#\" + hook.id);\r\n\t\t\t\t\thookSvg.remove();\r\n\r\n\t\t\t\t\tagregarHook(hook, caraSvg).finally(function () {\r\n\t\t\t\t\t\tpintarLienzo(element);\r\n\t\t\t\t\t\tangular.forEach(hook.items, function(item, indiceItem){\r\n\t\t\t\t\t\t\tvar identidadItem = {\r\n\t\t\t\t\t\t\t\ttipo: \"item\",\r\n\t\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\t\tcara: indiceCara,\r\n\t\t\t\t\t\t\t\t\thook: hook.id,\r\n\t\t\t\t\t\t\t\t\titem: indiceItem\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tcrearMirrorRect(item, identidadItem);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbz.cambiarCara = function (indiceCara) {\r\n\r\n\t\t\t\t\telement.find(\".cara[data-index]\").css(\"z-index\", \"-1\");\r\n\r\n\t\t\t\t\telement.find(\"[data-index=\" + indiceCara + \"]\").css(\"z-index\", \"1\");\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\tbz.elementoFocus = function (indiceCara, indiceHook, accion) {\r\n\r\n\t\t\t\t\tvar hook = bz.papeleria.modelo.caras[indiceCara].hooks[indiceHook];\r\n\r\n\t\t\t\t\tvar caraSvg = angular.element(\"bazam-papeleria svg:nth-child(\" + (indiceCara + 1) + \")\");\r\n\r\n\t\t\t\t\tvar hookSvg = caraSvg.find(\"foreignObject#\" + hook.id);\r\n\r\n\t\t\t\t\tif (accion) { //si hace hover\r\n\r\n\t\t\t\t\t\tangular.element(\".hook-seleccionado\").removeClass(\"hook-seleccionado\");\r\n\t\t\t\t\t\thookSvg.addClass(\"hook-seleccionado\");\r\n\r\n\t\t\t\t\t} else { //si deja de hacer hover\r\n\r\n\t\t\t\t\t\thookSvg.removeClass(\"hook-seleccionado\");\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\tbz.guardar = function () {\r\n\r\n\t\t\t\t\tif(bz.peticion) return;\r\n\t\t\t\t\tbz.peticion = true;\r\n\r\n\t\t\t\t\tvar defered = $q.defer();\r\n\t\t\t\t\tvar promise = defered.promise;\r\n\r\n\r\n\t\t\t\t\tbz.datos.tipo = bz.papeleria.tipo;\r\n\t\t\t\t\tbz.datos.modelo = bz.papeleria.modelo.nombre;\r\n\t\t\t\t\tbz.datos.pieza.caras = [];\r\n\r\n\t\t\t\t\tvar caras = angular.copy(bz.papeleria.modelo.caras);\r\n\r\n\t\t\t\t\tangular.forEach(caras, function (cara, indice) {\r\n\r\n\t\t\t\t\t\tvar svgCara = angular.element(\".cara[data-index=\" + indice + \"]\")[0].outerHTML;\r\n\r\n\t\t\t\t\t\tvar nuevaCara = {\r\n\t\t\t\t\t\t\thooks: cara.hooks,\r\n\t\t\t\t\t\t\tnombre: cara.nombre,\r\n\t\t\t\t\t\t\tlogos: cara.logos,\r\n\t\t\t\t\t\t\tsvg: svgCara\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbz.datos.pieza.caras.push(nuevaCara)\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tpapeleriaService.piezas.guardar(bz.datos.tipo, bz.datos.modelo, bz.datos.pieza)\r\n\t\t\t\t\t\t.then(function (res) {\r\n\t\t\t\t\t\t\t$mdToast.show($mdToast.base({\r\n\t\t\t\t\t\t\t\targs: {\r\n\t\t\t\t\t\t\t\t\tmensaje: \"¡Ha guardado su pieza!\",\r\n\t\t\t\t\t\t\t\t\tclase: \"success\"\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}));\r\n\r\n\t\t\t\t\t\t\tif(res.insertId){\r\n\t\t\t\t\t\t\t\tbz.datos.pieza._id = res.insertId._id;\r\n\t\t\t\t\t\t\t} else if (res.affectedRow) {\r\n\t\t\t\t\t\t\t\tbz.datos.pieza._id = res.affectedRow._id;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tdefered.resolve();\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(function () {\r\n\r\n\t\t\t\t\t\t\t$mdToast.show($mdToast.base({\r\n\t\t\t\t\t\t\t\targs: {\r\n\t\t\t\t\t\t\t\t\tmensaje: \"Un error ha ocurrido\",\r\n\t\t\t\t\t\t\t\t\tclase: \"danger\"\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}));\r\n\r\n\t\t\t\t\t\t\tdefered.reject();\r\n\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.finally(function () {\r\n\t\t\t\t\t\t\tbz.peticion = false;\r\n\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\treturn promise;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/////////////////////////////////////////////\r\n\t\t\t\t///////////vigilamos el movimiento///////////\r\n\t\t\t\t/////////////////////////////////////////////\r\n\r\n\t\t\t\tvar currentX = 0;\r\n\t\t\t\tvar currentY = 0;\r\n\t\t\t\tvar currentMatrix = [];\r\n\r\n\t\t\t\t/*\r\n\t\t\t\tEventos sin mirror item\r\n\t\t\t\t*/\r\n\r\n\t\t\t\telement.on(\"mouseenter\", \".mirror-rect\", function (evento){\r\n\t\t\t\t\tvar mirrorSvg = angular.element(this);\r\n\t\t\t\t\tmirrorSvg.attr(\"movimiento-bz\", \"\");\r\n\r\n\t\t\t\t\tvar identidad = mirrorSvg.data(\"identidad\");\r\n\t\t\t\t\tangular.element(\".cara[data-index=\"+identidad.data.cara+\"] .mirror-rect:not([movimiento-bz])\").remove();\r\n\t\t\t\t})\r\n\r\n\t\t\t\telement.on(\"mousedown\", \".mirror-rect[movimiento-bz]\", function (evento){\r\n\t\t\t\t\tvar mirrorSvg = angular.element(this);\r\n\t\t\t\t\tmirrorSvg.attr(\"movimiento-bz\", \"true\");\r\n\r\n\t\t\t\t\tvar identidad = angular.fromJson(mirrorSvg.data(\"identidad\"));\r\n\r\n\t\t\t\t\tif (!mirrorSvg.attr(\"transform\")) {\r\n\t\t\t\t\t\tmirrorSvg.attr(\"transform\", \"matrix(1 0 0 1 0 0)\");\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tvar objetivo;\r\n\r\n\t\t\t\t\tif(identidad.tipo == \"logo\"){\r\n\t\t\t\t\t\tobjetivo = angular.element(\".cara[data-index=\"+identidad.data.cara+\"] .contenedor-logo[data-index=\"+identidad.data.logo+\"]\");\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t} else if(identidad.tipo == \"item\") {\r\n\t\t\t\t\t\tvar objetivo = angular.element(\".cara[data-index=\"+identidad.data.cara+\"] .hook#\"+identidad.data.hook+\" g[data-index=\"+identidad.data.item+\"]\");\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif(!objetivo.attr(\"transform\")){\r\n\t\t\t\t\t\tobjetivo.attr(\"transform\", \"matrix(1 0 0 1 0 0)\");\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tcurrentX = evento.clientX;\r\n\t\t\t\t\tcurrentY = evento.clientY;\r\n\r\n\t\t\t\t\tcurrentMatrix = objetivo.attr(\"transform\").slice(7, -1).split(\" \");\r\n\r\n\t\t\t\t\tfor (var i = 0; i < currentMatrix.length; i++) {\r\n\r\n\t\t\t\t\t\tcurrentMatrix[i] = parseFloat(currentMatrix[i]);\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t})\r\n\r\n\r\n\t\t\t\telement.on(\"mousemove\", \".mirror-rect[movimiento-bz=true]\", function (evento) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar mirrorSvg = angular.element(this);\r\n\r\n\t\t\t\t\tvar identidad = angular.fromJson(mirrorSvg.data(\"identidad\"));\r\n\r\n\t\t\t\t\tangular.element(\".element-color-picker\").remove();\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar objetivo;\r\n\r\n\t\t\t\t\tif(identidad.tipo == \"logo\"){\r\n\t\t\t\t\t\tobjetivo = angular.element(\".cara[data-index=\"+identidad.data.cara+\"] .contenedor-logo[data-index=\"+identidad.data.logo+\"]\");\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t} else if(identidad.tipo == \"item\") {\r\n\t\t\t\t\t\tvar objetivo = angular.element(\".cara[data-index=\"+identidad.data.cara+\"] .hook#\"+identidad.data.hook+\" g[data-index=\"+identidad.data.item+\"]\");\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar dx = evento.clientX - currentX;\r\n\t\t\t\t\tvar dy = evento.clientY - currentY;\r\n\r\n\t\t\t\t\tvar caraSvg = element.find(\".cara[data-index=\"+identidad.data.cara+\"]\");\r\n\r\n\t\t\t\t\tvar relacionX = (caraSvg[0].getClientRects()[0].width / parseFloat(caraSvg.attr(\"viewBox\").split(\" \")[2]));\r\n\t\t\t\t\tvar relacionY = (caraSvg[0].getClientRects()[0].height / parseFloat(caraSvg.attr(\"viewBox\").split(\" \")[3]));\r\n\r\n\t\t\t\t\tcurrentMatrix[4] += (dx / relacionY);\r\n\t\t\t\t\tcurrentMatrix[5] += (dy / relacionX);\r\n\r\n\t\t\t\t\tvar newMatrix = \"matrix(\" + currentMatrix.join(\" \") + \")\";\r\n\r\n\t\t\t\t\tmirrorSvg.attr(\"transform\", newMatrix);\r\n\t\t\t\t\tobjetivo.attr(\"transform\", newMatrix);\r\n\t\t\t\t\tcurrentX = evento.clientX;\r\n\t\t\t\t\tcurrentY = evento.clientY;\r\n\r\n\r\n\t\t\t\t\tif(identidad.tipo == \"logo\"){\r\n\r\n\t\t\t\t\t\tif(!bz.papeleria.modelo.caras[identidad.data.cara].logos[identidad.data.logo].alteraciones){ //si no existe una alteracion previa\r\n\t\t\t\t\t\t\tbz.papeleria.modelo.caras[identidad.data.cara].logos[identidad.data.logo].alteraciones = {};\r\n\t\t\t\t\t\t}\r\n\t\r\n\t\t\t\t\t\tbz.papeleria.modelo.caras[identidad.data.cara].logos[identidad.data.logo].alteraciones.matrix = currentMatrix;\r\n\r\n\t\t\t\t\t} else if(identidad.tipo == \"item\"){\r\n\r\n\t\t\t\t\t\tvar indiceHook;\r\n\t\t\t\t\t\tangular.forEach(bz.papeleria.modelo.caras[identidad.data.cara].hooks, function(hookPapeleria, indice){\r\n\t\r\n\t\t\t\t\t\t\tif(identidad.data.hook == hookPapeleria.id){\r\n\t\t\t\t\t\t\t\tindiceHook = indice;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tif(!bz.papeleria.modelo.caras[identidad.data.cara].hooks[indiceHook].items[identidad.data.item].alteraciones){ //si no existe una alteracion previa\r\n\t\t\t\t\t\t\tbz.papeleria.modelo.caras[identidad.data.cara].hooks[indiceHook].items[identidad.data.item].alteraciones = {};\r\n\t\t\t\t\t\t}\r\n\t\r\n\t\t\t\t\t\tbz.papeleria.modelo.caras[identidad.data.cara].hooks[indiceHook].items[identidad.data.item].alteraciones.matrix = currentMatrix;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t})\r\n\r\n\t\t\t\tangular.element(\"body\").mouseup(function (evento){\r\n\t\t\t\t\tvar mirrorSvg = element.find(\".mirror-rect[movimiento-bz=true]\");\r\n\t\t\t\t\tmirrorSvg.attr(\"movimiento-bz\", \"\");\r\n\t\t\t\t})\r\n\r\n\t\t\t\telement.on(\"mouseleave\", \".mirror-rect\", function (evento){\r\n\t\t\t\t\tvar mirrorSvg = angular.element(this);\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar identidad = angular.fromJson(mirrorSvg.data(\"identidad\"));\r\n\t\t\t\t\tmirrorSvg.remove();\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar cara = bz.papeleria.modelo.caras[identidad.data.cara];\r\n\r\n\t\t\t\t\tangular.forEach(cara.logos, function(logo, indiceLogo){\r\n\t\t\t\t\t\tvar identidadLogo = {\r\n\t\t\t\t\t\t\ttipo: \"logo\",\r\n\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\tcara: identidad.data.cara,\r\n\t\t\t\t\t\t\t\tlogo: indiceLogo\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcrearMirrorRect(logo, identidadLogo);\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t\tangular.forEach(cara.hooks, function(hook, indiceHook){\r\n\t\t\t\t\t\tangular.forEach(hook.items, function(item, indiceItem){\r\n\t\t\t\t\t\t\tvar identidadItem = {\r\n\t\t\t\t\t\t\t\ttipo: \"item\",\r\n\t\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\t\tcara: identidad.data.cara,\r\n\t\t\t\t\t\t\t\t\thook: hook.id,\r\n\t\t\t\t\t\t\t\t\titem: indiceItem\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tcrearMirrorRect(item, identidadItem);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t})\r\n\r\n\t\t\t\telement.on(\"contextmenu\", \".mirror-rect\", function(evento){\r\n\r\n\t\t\t\t\tvar mirrorSvg = angular.element(this);\r\n\r\n\t\t\t\t\tvar coordenadasMirror = mirrorSvg[0].getBoundingClientRect();\r\n\r\n\t\t\t\t\tangular.element(\".element-color-picker\").remove();\r\n\r\n\t\t\t\t\tvar identidad = mirrorSvg.data(\"identidad\");\t\t\t\t\r\n\r\n\t\t\t\t\tvar colorPicker = angular.element(\"<div class='element-color-picker'><div class='title'>X</div>\");\r\n\t\t\t\t\t\r\n\t\t\t\t\tcolorPicker.attr(\"data-identidad\", angular.toJson(identidad));\r\n\r\n\t\t\t\t\tvar posicionPicker = {\r\n\t\t\t\t\t\t\"position\": \"fixed\",\t\r\n\t\t\t\t\t\t\"background-color\": \"white\",\r\n\t\t\t\t\t\t\"z-index\": \"2\",\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tif(identidad.tipo == \"item\"){//si es un item perteneciente a un Hook se agrega una paleta de colores\r\n\r\n\t\t\t\t\t\tcolorPicker.find(\".title\").html(\"Color<span class='close-color-picker'><i class='material-icons cerrar'>clear</i></span></div>\");\r\n\r\n\t\t\t\t\t\tposicionPicker.left = coordenadasMirror.right;\r\n\t\t\t\t\t\tposicionPicker.top = coordenadasMirror.top - 200;\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\tposicionPicker.width = \"200px\";\r\n\t\t\t\t\t\tposicionPicker.height = \"200px\";\r\n\r\n\t\t\t\t\t\tangular.forEach(coloresPaletaValue, function (color) {\r\n\r\n\t\t\t\t\t\t\tvar colorIndividual = angular.element(\"<div></div>\");\r\n\r\n\t\t\t\t\t\t\tcolorIndividual.addClass(\"color\");\r\n\r\n\t\t\t\t\t\t\tcolorIndividual.attr(\"data-color\", color);\r\n\r\n\t\t\t\t\t\t\tcolorIndividual.css({\r\n\t\t\t\t\t\t\t\t\"background-color\": color,\r\n\t\t\t\t\t\t\t\t\"width\": \"4.2%\",\r\n\t\t\t\t\t\t\t\t\"height\": \"6.7%\",\r\n\t\t\t\t\t\t\t\t\"display\": \"inline-block\"\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\tcolorIndividual.click(function(){\r\n\r\n\t\t\t\t\t\t\t\tvar hooks = bz.papeleria.modelo.caras[identidad.data.cara].hooks;\r\n\t\t\t\t\t\t\t\tvar indexHook;\r\n\t\t\t\t\t\t\t\tangular.forEach(hooks, function(hook, indiceHook){\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tif(hook.id == identidad.data.hook){\r\n\t\t\t\t\t\t\t\t\t\tindexHook = indiceHook;\r\n\t\t\t\t\t\t\t\t\t\tbz.papeleria.modelo.caras[identidad.data.cara].hooks[indiceHook].items[identidad.data.item].caracteristicas.fill = color;\r\n\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(bz.papeleria.modelo.caras[identidad.data.cara].hooks[indiceHook].items[identidad.data.item].caracteristicas);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t\tbz.modificarHook(identidad.data.cara, indexHook, true);\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\tcolorPicker.append(colorIndividual);\r\n\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else if (identidad.tipo == \"logo\") {\r\n\r\n\t\t\t\t\t\tvar logoSvg = element.find(\".cara[data-index=\"+identidad.data.cara+\"] .contenedor-logo[data-index=\"+identidad.data.logo+\"]\");\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tcolorPicker.find(\".title\").html(\"Estilos <span class='close-color-picker'><i class='material-icons cerrar'>clear</i></span></div>\");\r\n\r\n\t\t\t\t\t\t//Contenedor de logo en diferentes colores\r\n\t\t\t\t\t\tvar multiLogoContainer = angular.element(\"<div></div>\");\r\n\t\t\t\t\t\tmultiLogoContainer.addClass(\"multi-logo-color-container\");\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tangular.forEach(logoColors, function(color, indiceColor){\r\n\t\t\t\t\t\t\tvar logoContainer = angular.element(\"<div></div>\");\r\n\t\t\t\t\t\t\tlogoContainer.addClass(\"logo-color-container\");\r\n\t\t\t\t\t\t\tlogoContainer.addClass(color);\r\n\t\t\t\t\t\t\t//logoContainer.attr(\"data-clase\",color);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tlogoContainer.click(function(){\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tvar colorAnterior;\r\n\r\n\t\t\t\t\t\t\t\tangular.forEach(logoColors, function(colorIter){\r\n\t\t\t\t\t\t\t\t\tif(logoSvg.hasClass(colorIter)){\r\n\t\t\t\t\t\t\t\t\t\tlogoSvg.removeClass(colorIter);\r\n\t\t\t\t\t\t\t\t\t\tcolorAnterior = colorIter;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t\t\tlogoSvg.addClass(color);\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tvar indiceClase = bz.papeleria.modelo.caras[identidad.data.cara].logos[identidad.data.logo].clases.indexOf(colorAnterior);\r\n\r\n\t\t\t\t\t\t\t\tindiceClase = indiceClase === -1 ? 0 : indiceClase;\r\n\r\n\t\t\t\t\t\t\t\tbz.papeleria.modelo.caras[identidad.data.cara].logos[identidad.data.logo].clases[indiceClase] = color;\r\n\t\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t\tlogoContainer.append(bz.base64.decode(bz.logo.logo));\r\n\t\t\t\t\t\t\tmultiLogoContainer.append(logoContainer);\r\n\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\tcolorPicker.append(multiLogoContainer);\r\n\r\n\r\n\t\t\t\t\t\tvar growthContainer = angular.element(\"<div></div>\");\r\n\r\n\t\t\t\t\t\tvar minusButton = angular.element(\"<div data-action='minus' class='minus'>-</div>\");\r\n\t\t\t\t\t\tvar plusButton = angular.element(\"<div data-action='plus' class='plus'>+</div>\");\r\n\r\n\t\t\t\t\t\tvar cambiarTamano =  function(){\r\n\r\n\t\t\t\t\t\t\t//bz.papeleria.modelo.caras[identidad.data.cara].logos[identidad.data.logo].clases[indiceClase] = color;\r\n\r\n\t\t\t\t\t\t\tvar buttonAction = angular.element(this).data(\"action\");\r\n\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif(!bz.papeleria.modelo.caras[identidad.data.cara].logos[identidad.data.logo].alteraciones){\r\n\t\t\t\t\t\t\t\tbz.papeleria.modelo.caras[identidad.data.cara].logos[identidad.data.logo].alteraciones = {};\r\n\t\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t\t\tvar escalaAnterior = bz.papeleria.modelo.caras[identidad.data.cara].logos[identidad.data.logo].alteraciones.scale;\r\n\r\n\t\t\t\t\t\t\tvar escala;\r\n\r\n\t\t\t\t\t\t\tif(buttonAction == \"minus\") {\r\n\r\n\t\t\t\t\t\t\t\tescala = escalaAnterior ? escalaAnterior - 0.1 : 0.9;\t\r\n\r\n\t\t\t\t\t\t\t} else if (buttonAction == \"plus\"){\r\n\r\n\t\t\t\t\t\t\t\tescala = escalaAnterior ? escalaAnterior + 0.1 : 1.1;\t\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tconsole.log(bz.papeleria.modelo.caras[identidad.data.cara].logos[identidad.data.logo])\r\n\r\n\t\t\t\t\t\t\tbz.papeleria.modelo.caras[identidad.data.cara].logos[identidad.data.logo].alteraciones.scale = escala;\r\n\r\n\t\t\t\t\t\t\tvar logoData = bz.papeleria.modelo.caras[identidad.data.cara].logos[identidad.data.logo];\r\n\r\n\t\t\t\t\t\t\taplicarAlteraciones(logoData, null, 'logo', logoSvg);\r\n\r\n\t\t\t\t\t\t\tconsole.log(bz.papeleria.modelo.caras[identidad.data.cara].logos[identidad.data.logo])\r\n\t\t\t\t\t\t}\t\r\n\r\n\t\t\t\t\t\tminusButton.click(cambiarTamano);\r\n\t\t\t\t\t\tplusButton.click(cambiarTamano);\r\n\r\n\r\n\t\t\t\t\t\tgrowthContainer.append(minusButton);\r\n\t\t\t\t\t\tgrowthContainer.append(plusButton);\r\n\r\n\t\t\t\t\t\tcolorPicker.append(growthContainer);\r\n\r\n\r\n\r\n\t\t\t\t\t\tposicionPicker[\"left\"] = coordenadasMirror.right;\r\n\t\t\t\t\t\tposicionPicker[\"top\"] = coordenadasMirror.top - 150;\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\tposicionPicker[\"width\"] = \"300px\";\r\n\t\t\t\t\t\tposicionPicker[\"height\"] = \"150px\";\r\n\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\tcolorPicker.css(posicionPicker);\r\n\t\t\t\t\tcolorPicker.addClass(\"color-picker-activo\");\r\n\t\t\t\t\t\r\n\t\t\t\t\tcolorPicker.draggable({\r\n\t\t\t\t\t\trevert:false\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t\tcolorPicker.find(\".close-color-picker\").click(function(){\r\n\t\t\t\t\t\tcolorPicker.remove();\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t/*colorPicker.find(\".color\").click(function(){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(identidad.tipo == \"item\"){\r\n\r\n\t\t\t\t\t\t\tconsole.log(\"item\");\r\n\t\t\t\t\t\t\t/*\r\n\t\t\t\t\t\t\tvar indiceHook;\r\n\t\t\t\t\t\t\tangular.forEach(bz.papeleria.modelo.caras[identidad.data.cara].hooks, function(hookPapeleria, indice){\r\n\r\n\t\t\t\t\t\t\t\tif(identidad.data.hook == hookPapeleria.id){\r\n\t\t\t\t\t\t\t\t\tindiceHook = indice;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t} else if(identidad.tipo == \"logo\") {\r\n\t\t\t\t\t\t\tconsole.log(\"logo\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})*/\r\n\t\t\t\t\t\r\n\r\n\t\t\t\t\telement.parent().append(colorPicker);\r\n\t\t\t\t\tevento.preventDefault();\r\n\t\t\t\t});\t\t\t\t\r\n\r\n\t\t\t}\r\n\t\t};\r\n\t}]);\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/directives/papeleria/bazamPapeleria.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/directives/planes.js":
/*!**********************************************************!*\
  !*** ./public/creador-de-logos/app/directives/planes.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("angular.module(\"disenador-de-logos\")\r\n    .directive(\"bazamListarPlanes\", [function () {\r\n        return {\r\n            templateUrl: \"app/templates/listar-planes.tpl\",\r\n            controllerAs: \"listarPlanes\",\r\n            scope: {\r\n                datos: \"=\",\r\n                verlogo: \"<\",\r\n                promocion: \"=\"\r\n            },\r\n            controller: [\"pedidosService\", \"$scope\", \"$state\", \"$base64\", \"$window\", \"$http\", \"$mdToast\", \"facebookService\", \"logosService\", \"$filter\", \"$timeout\", \"$q\", \"clientesService\", \"$rootScope\", \"$document\", function (pedidosService, $scope, $state, $base64, $window, $http, $mdToast, facebookService, logosService, $filter, $timeout, $q, clientesService, $rootScope, $document) {\r\n\r\n                var bz = this;\r\n\r\n                bz.base64 = $base64;\r\n\r\n                bz.estado = $scope.estado;\r\n\r\n                bz.promocion = $scope.promocion;\r\n\r\n                /* PLANES */\r\n\r\n                bz.monedas = {};\r\n                bz.moneda = {};\r\n                bz.monedaDefault = {};\r\n                bz.planes = [];\r\n                bz.impuesto = 0;\r\n\r\n                pedidosService.listarPlanes().then(function (res) {\r\n\r\n                    bz.monedaDefault = {\r\n                        simbolo: res.monedaDefault.codigo,\r\n                        idMoneda: res.monedaDefault.idMoneda\r\n                    };\r\n\r\n                    bz.impuesto = res.impuesto;\r\n\r\n                    bz.planes = res.planes;\r\n\r\n                    angular.forEach(res.planes, function (plan) {\r\n\r\n                        angular.forEach(plan.precios, function (precio) {\r\n\r\n                            if (!bz.monedas[precio.moneda]) {\r\n\r\n                                bz.monedas[precio.moneda] = {\r\n                                    simbolo: precio.moneda,\r\n                                    idMoneda: precio.idMoneda\r\n                                };\r\n\r\n                            }\r\n\r\n                        });\r\n\r\n                    });\r\n\r\n                    bz.moneda = bz.monedaDefault;\r\n\r\n                }).catch(function (res) {\r\n                    //console.log(res)\r\n                });\r\n\r\n                bz.precioSeleccionado = function (precios) {\r\n\r\n                    var precioFinal = \"\";\r\n\r\n                    angular.forEach(precios, function (valor) {\r\n\r\n                        if (valor.moneda == bz.moneda.simbolo) {\r\n\r\n                            precioFinal = valor.moneda + \" \" + valor.precio;\r\n                        }\r\n\r\n                    });\r\n\r\n                    return precioFinal;\r\n\r\n                };\r\n\r\n                bz.comprobarMonedas = function (plan) {\r\n\r\n                    var coincidencia = false;\r\n\r\n                    angular.forEach(plan.precios, function (valor) {\r\n\r\n                        if (valor.moneda == bz.moneda.simbolo) {\r\n\r\n                            coincidencia = true;\r\n                        }\r\n\r\n                    });\r\n\r\n                    return coincidencia;\r\n\r\n                };\r\n\r\n                bz.verificarLogin = function (plan) {\r\n                    bz.planElegido = plan;\r\n                    // Verificar si el usuario que esta logueado\r\n                    if (!clientesService.autorizado()) {\r\n                        $rootScope.mostrarModalLogin = true;\r\n                        $rootScope.callbackLogin = bz.avanzarCheckout;\r\n                        return;\r\n                    }\r\n\r\n                    bz.avanzarCheckout();\r\n                };\r\n\r\n\r\n                bz.avanzarCheckout = function () {\r\n\r\n                    var plan = bz.planElegido;\r\n\r\n                    bz.logo = $scope.datos.logo; //SVG del logo\r\n                    bz.idElemento = $scope.datos.idElemento;\r\n                    bz.fuentes = {\r\n                        principal: $scope.datos.fuentes.principal,\r\n                        eslogan: $scope.datos.fuentes.eslogan\r\n                    };\r\n                    bz.colores = $scope.datos.colores;\r\n\r\n                    if (plan === true) {\r\n                        angular.element(document.querySelector(\".overlay.full\")).fadeIn(1000);\r\n                        bz.peticion = true;\r\n                        var nombre = \"gratis\";\r\n                        var ancho = 80;\r\n\r\n                        bz.compatirFacebook({\r\n                            url: ''\r\n                        }).then(function (res) {\r\n\r\n                            if ($scope.datos.idLogo) {\r\n                                logosService.descargarLogo($scope.datos.idLogo, ancho, $filter(\"uppercase\")(nombre), nombre).then(function (res) {\r\n\r\n                                    //get the headers' content disposition\r\n                                    var cd = res.headers[\"content-disposition\"];\r\n\r\n                                    //get the file name with regex\r\n                                    var regex = /filename[^;=\\n]*=((['\"]).*?\\2|[^;\\n]*)/;\r\n                                    var match = regex.exec(cd);\r\n\r\n                                    //is there a fiel name?\r\n                                    var fileName = match[1] || \"myDefaultFileName.zip\";\r\n\r\n                                    //replace leading and trailing slashes that C# added to your file name\r\n                                    fileName = fileName.replace(/\\\"/g, \"\");\r\n                                    //determine the content type from the header or default to octect stream\r\n                                    var contentType = res.headers[\"content-type\"];\r\n\r\n                                    //finally, download it\r\n                                    var blob = new Blob([res.data], {\r\n                                        type: contentType\r\n                                    });\r\n\r\n                                    //downloading the file depends on the browser\r\n                                    //IE handles it differently than chrome/webkit\r\n                                    if ($window.navigator && $window.navigator.msSaveOrOpenBlob) {\r\n                                        $window.navigator.msSaveOrOpenBlob(blob, fileName);\r\n                                    } else {\r\n                                        var a = $document[0].createElement(\"a\");\r\n                                        $document[0].body.appendChild(a);\r\n                                        a.style = \"display:none\";\r\n                                        var url = $window.URL.createObjectURL(blob);\r\n                                        a.href = url;\r\n                                        a.download = fileName;\r\n                                        a.target = \"_blank\";\r\n                                        a.click();\r\n                                        $window.URL.revokeObjectURL(url);\r\n                                        a.remove();\r\n                                    }\r\n\r\n                                    bz.desabilitado = true;\r\n                                    bz.promocion = true;\r\n                                    bz.peticion = false;\r\n                                    angular.element(document.querySelector(\".overlay.full\")).fadeOut(1000);\r\n\r\n                                });\r\n                            } else {\r\n                                bz.guardarLogo(bz.logo, \"Logo y nombre\", $scope.datos.idElemento, $scope.datos.fuentes.principal, true).then(function (res) {\r\n\r\n                                    logosService.descargarLogo(res, ancho, $filter(\"uppercase\")(nombre), nombre).then(function (res) {\r\n\r\n                                        //get the headers' content disposition\r\n                                        var cd = res.headers[\"content-disposition\"];\r\n\r\n                                        //get the file name with regex\r\n                                        var regex = /filename[^;=\\n]*=((['\"]).*?\\2|[^;\\n]*)/;\r\n                                        var match = regex.exec(cd);\r\n\r\n                                        //is there a fiel name?\r\n                                        var fileName = match[1] || \"myDefaultFileName.zip\";\r\n\r\n                                        //replace leading and trailing slashes that C# added to your file name\r\n                                        fileName = fileName.replace(/\\\"/g, \"\");\r\n                                        //determine the content type from the header or default to octect stream\r\n                                        var contentType = res.headers[\"content-type\"];\r\n\r\n                                        //finally, download it\r\n                                        var blob = new Blob([res.data], {\r\n                                            type: contentType\r\n                                        });\r\n\r\n                                        //downloading the file depends on the browser\r\n                                        //IE handles it differently than chrome/webkit\r\n                                        if ($window.navigator && $window.navigator.msSaveOrOpenBlob) {\r\n                                            $window.navigator.msSaveOrOpenBlob(blob, fileName);\r\n\r\n                                        } else {\r\n\r\n                                            var a = $document[0].createElement(\"a\");\r\n                                            $document[0].body.appendChild(a);\r\n                                            a.style = \"display:none\";\r\n                                            var url = $window.URL.createObjectURL(blob);\r\n                                            a.href = url;\r\n                                            a.download = fileName;\r\n                                            a.target = \"_blank\";\r\n                                            a.click();\r\n                                            $window.URL.revokeObjectURL(url);\r\n                                            a.remove();\r\n                                        }\r\n\r\n                                        angular.element(document.querySelector(\".overlay.full\")).fadeOut(1000);\r\n\r\n                                    }).catch(function (res) {\r\n                                        console.log(res)\r\n                                        angular.element(document.querySelector(\".overlay.full\")).fadeOut(1000);\r\n                                    }).finally(function () {\r\n\r\n\r\n                                        bz.desabilitado = true;\r\n                                        bz.promocion = true;\r\n                                        bz.peticion = false;\r\n                                    });\r\n                                });\r\n                            }\r\n\r\n\r\n                        }).catch(function (res) {\r\n                            if (res === \"exceso\") {\r\n                                $mdToast.show($mdToast.base({\r\n                                    args: {\r\n                                        mensaje: \"Tiempo excedido, Debes compartir en facebook para obtener tu logo gratis.\",\r\n                                        clase: \"danger\"\r\n                                    }\r\n                                }));\r\n\r\n                                angular.element(document.querySelector(\".overlay.full\")).fadeOut(1000);\r\n\r\n                                return;\r\n\r\n                            }\r\n\r\n                            $mdToast.show($mdToast.base({\r\n                                args: {\r\n                                    mensaje: \"Debes compartir en facebook para obtener tu logo gratis.\",\r\n                                    clase: \"danger\"\r\n                                }\r\n                            }));\r\n\r\n                            bz.peticion = false;\r\n                            angular.element(document.querySelector(\".overlay.full\")).fadeOut(1000);\r\n\r\n\r\n                        }).finally(function () {\r\n                            bz.peticion = false;\r\n                        });\r\n\r\n\r\n                        return;\r\n                    }\r\n\r\n                    angular.forEach(plan.precios, function (precio) {\r\n\r\n                        if (precio.moneda == bz.moneda.simbolo) {\r\n\r\n                            var datosPago = {\r\n                                status: true,\r\n                                datos: {\r\n                                    logo: $scope.datos.logo,\r\n                                    idElemento: bz.idElemento,\r\n                                    tipo: \"Logo y nombre\",\r\n                                    plan: {\r\n                                        nombre: plan.plan,\r\n                                        idPlan: plan.idPlan\r\n                                    },\r\n                                    precio: {\r\n                                        moneda: {\r\n                                            simbolo: precio.moneda,\r\n                                            idMoneda: precio.idMoneda\r\n                                        },\r\n                                        monto: precio.precio,\r\n                                        idPrecio: precio.idPrecio\r\n                                    },\r\n                                    impuesto: bz.impuesto,\r\n                                    atributos: {\r\n                                        principal: bz.fuentes.principal,\r\n                                        \"color-nombre\": bz.colores.nombre,\r\n                                        \"color-icono\": bz.colores.icono\r\n                                    }\r\n\r\n                                }\r\n                            };\r\n\r\n\r\n                            if ($scope.datos.idPadre) {\r\n                                datosPago.datos.atributos.padre = $scope.datos.idPadre;\r\n                            }\r\n\r\n                            if (bz.fuentes.eslogan) {\r\n                                datosPago.datos.atributos.eslogan = bz.fuentes.eslogan;\r\n                            }\r\n\r\n                            if (bz.colores.eslogan) {\r\n                                datosPago.datos.atributos[\"color-eslogan\"] = bz.colores.eslogan;\r\n                            }\r\n\r\n                            $state.go(\"pago\", datosPago);\r\n\r\n                        }\r\n\r\n                    });\r\n\r\n                };\r\n\r\n                bz.compatirFacebook = function () {\r\n                    var defered = $q.defer();\r\n                    var promise = defered.promise;\r\n\r\n                    var promesas = [$timeout(function () {\r\n                        return \"exceso\";\r\n                    }, 60000), facebookService.compartir()];\r\n\r\n                    $q.race(promesas).then(function (res) {\r\n                        if (res === \"exceso\") {\r\n                            defered.reject(\"exceso\");\r\n                        } else {\r\n                            defered.resolve(res);\r\n                        }\r\n                    }).catch(function () {\r\n                        defered.reject();\r\n                    });\r\n                    return promise;\r\n\r\n                };\r\n\r\n\r\n                bz.guardarLogo = function (logo, tipoLogo, idElemento, idFuentePrincipal) {\r\n\r\n                    var defered = $q.defer();\r\n                    var promise = defered.promise;\r\n\r\n                    logosService.guardarLogo(bz.base64.encode(logo), tipoLogo, idElemento, idFuentePrincipal)\r\n\r\n                        .then(function (res) {\r\n                            defered.resolve(res);\r\n                        })\r\n                        .catch(function (res) {\r\n                            defered.reject(res);\r\n                        })\r\n\r\n                    return promise;\r\n\r\n                };\r\n\r\n            }]\r\n        };\r\n    }])\r\n\r\n    .directive(\"bazamPlanes\", [function () {\r\n        return {\r\n            templateUrl: \"app/templates/planes.tpl\",\r\n            controllerAs: \"planes\",\r\n            scope: {\r\n                datos: \"=\",\r\n                estado: \"=\"\r\n            }\r\n        };\r\n\r\n    }])\r\n\r\n    .directive(\"bazamPrevisualizarDos\", [function () {\r\n        return {\r\n            templateUrl: \"app/templates/ver-logo.tpl\",\r\n            scope: {\r\n                datos: \"=\",\r\n                estado: \"=\"\r\n            }\r\n        };\r\n    }]);\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/directives/planes.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/directives/stripePaymentForm.js":
/*!*********************************************************************!*\
  !*** ./public/creador-de-logos/app/directives/stripePaymentForm.js ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("angular.module(\"disenador-de-logos\")\r\n\r\n\t.directive(\"stripePaymentForm\", [\"$document\", function ($document) {\r\n\r\n\t\treturn {\r\n\t\t\ttemplateUrl: \"app/templates/stripePaymentsForm.tpl\",\r\n\t\t\tscope: {\r\n\t\t\t\ticono: \"<\",\r\n\t\t\t\tatributos: \"<\",\r\n\t\t\t\tsvg: \"<\",\r\n\t\t\t\tprecio: \"<\",\r\n\t\t\t\tpasarela: \"<\",\r\n\t\t\t\tlogo: \"<?\"\r\n\t\t\t},\r\n\t\t\tcontroller: [\"$scope\", \"pedidosService\", \"$q\", \"$state\", \"$window\", \"planesService\", function ($scope, pedidosService, $q, $state, $window, planesService) {\r\n\t\t\t\tvar defered = $q.defer();\r\n\r\n\t\t\t\tvar disenadorPromise = defered.promise;\r\n\r\n\t\t\t\t$scope.completadoPagar = true;\r\n\r\n\t\t\t\t$scope.pagar = function () {\r\n\t\t\t\t\tif (!$scope.completadoPagar) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t$scope.completadoPagar = false;\r\n\r\n\t\t\t\t\tvar stripePromise = $scope.stripe.createToken($scope.card);\r\n\r\n\t\t\t\t\tstripePromise\r\n\t\t\t\t\t\t.then(function (res) {\r\n\t\t\t\t\t\t\tif (res.error) {\r\n\r\n\t\t\t\t\t\t\t\t$scope.mensajeError(res.error.message);\r\n\t\t\t\t\t\t\t\tdefered.reject();\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tif($scope.logo){//\r\n\r\n\t\t\t\t\t\t\t\t\tplanesService.aumentarPedidoPlan({\r\n\t\t\t\t\t\t\t\t\t\tidPasarela: $scope.pasarela, \r\n\t\t\t\t\t\t\t\t\t\tidPrecio: $scope.precio,\r\n\t\t\t\t\t\t\t\t\t\tidLogo: $scope.logo,\r\n\t\t\t\t\t\t\t\t\t\tstripeToken: res.token.id\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t.then(function () {\r\n\t\t\t\t\t\t\t\t\t\t\t$window.location.reload();\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t.catch(function () {\r\n\t\t\t\t\t\t\t\t\t\t//console.log(res)\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t.finally(function () {\r\n\t\t\t\t\t\t\t\t\t\t\tdefered.resolve();\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t\t\tpedidosService.pagar.stripe($scope.icono, $scope.atributos, $scope.svg, $scope.precio, \"Logo y nombre\", $scope.pasarela, res.token.id)\r\n\t\t\t\t\t\t\t\t\t\t.then(function (res) {\r\n\t\t\t\t\t\t\t\t\t\t\t$state.go(\"descargar\", {\r\n\t\t\t\t\t\t\t\t\t\t\t\tid: res.idLogo\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t.catch(function () {\r\n\t\t\t\t\t\t\t\t\t\t\t$scope.mensajeError(\"El pago no ha podido ser procesado\");\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t.finally(function () {\r\n\t\t\t\t\t\t\t\t\t\t\tdefered.resolve();\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\r\n\r\n\t\t\t\t\t$q.all({\r\n\t\t\t\t\t\tstripe: stripePromise,\r\n\t\t\t\t\t\tdisenador: disenadorPromise\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\t.finally(function () {\r\n\t\t\t\t\t\t\t$scope.completadoPagar = true;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t};\r\n\r\n\t\t\t}],\r\n\t\t\tlink: function (scope, el) {\r\n\r\n\t\t\t\t// Create a Stripe client.\r\n\t\t\t\tscope.stripe = Stripe(\"pk_test_ODlU80cwnJ5Xr2an9L1XZByL\");\r\n\r\n\t\t\t\t// Create an instance of Elements.\r\n\t\t\t\tvar elements = scope.stripe.elements();\r\n\r\n\t\t\t\tvar style = {\r\n\t\t\t\t\tbase: {\r\n\t\t\t\t\t\tcolor: \"#32325d\",\r\n\t\t\t\t\t\tlineHeight: \"18px\",\r\n\t\t\t\t\t\tfontFamily: \"\\\"Helvetica Neue\\\", Helvetica, sans-serif\",\r\n\t\t\t\t\t\tfontSmoothing: \"antialiased\",\r\n\t\t\t\t\t\tfontSize: \"16px\",\r\n\t\t\t\t\t\t\"::placeholder\": {\r\n\t\t\t\t\t\t\tcolor: \"#aab7c4\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tinvalid: {\r\n\t\t\t\t\t\tcolor: \"#fa755a\",\r\n\t\t\t\t\t\ticonColor: \"#fa755a\"\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\t// Create an instance of the card Element.\r\n\t\t\t\tscope.card = elements.create(\"card\", {\r\n\t\t\t\t\tstyle: style\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// Add an instance of the card Element into the `card-element` <div>.\r\n\t\t\t\tscope.card.mount(\"#card-element\");\r\n\r\n\t\t\t\t// Handle real-time validation errors from the card Element.\r\n\t\t\t\tscope.card.addEventListener(\"change\", function (event) {\r\n\t\t\t\t\tvar displayError = $document[0].getElementById(\"card-errors\");\r\n\t\t\t\t\tif (event.error) {\r\n\t\t\t\t\t\tdisplayError.textContent = event.error.message;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tdisplayError.textContent = \"\";\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tscope.mensajeError = function (mensaje) {\r\n\t\t\t\t\tel.find(\"#card-errors\").text(mensaje);\r\n\t\t\t\t};\r\n\r\n\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t}]);\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/directives/stripePaymentForm.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/services.js":
/*!*************************************************!*\
  !*** ./public/creador-de-logos/app/services.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("angular.module(\"disenador-de-logos\")\r\n\r\n\t.value(\"coloresValue\", [\r\n\r\n\t\t[\"#FFF9D6\", \"#FFED7E\", \"#7F721C\"],\r\n\t\t[\"#FBFFD3\", \"#F3FF7B\", \"#767F1B\"],\r\n\t\t[\"#FFE7A4\", \"#FFD458\", \"#7F6A2F\"],\r\n\r\n\t\t[\"#FFDAB8\", \"#FFB26C\", \"#7F4917\"],\r\n\t\t[\"#FFD6C6\", \"#FF9F7A\", \"#7F3A1E\"],\r\n\t\t[\"#FFCDC9\", \"#FF857C\", \"#7F2620\"],\r\n\t\t[\"#FF9193\", \"#FF393D\", \"#7F0A0C\"],\r\n\r\n\t\t[\"#FFC1E9\", \"#FF75CE\", \"#7F1C5C\"],\r\n\t\t[\"#FFBDFA\", \"#FF71F5\", \"#7F1A78\"],\r\n\t\t[\"#F0BBFF\", \"#DF6FFF\", \"#69197F\"],\r\n\t\t[\"#D9C3FF\", \"#A977FF\", \"#411D7F\"],\r\n\r\n\t\t[\"#CFCAFF\", \"#897EFF\", \"#29207F\"],\r\n\t\t[\"#D3D8FF\", \"#8794FF\", \"#252F7F\"],\r\n\t\t[\"#D8E3FF\", \"#8BACFF\", \"#17357F\"],\r\n\t\t[\"#C9E0FF\", \"#7CB4FF\", \"#103F7F\"],\r\n\r\n\t\t[\"#D1F3FF\", \"#84DFFF\", \"#13637F\"],\r\n\t\t[\"#CDFFEC\", \"#80FFCF\", \"#407F67\"],\r\n\t\t[\"#DBFFCD\", \"#A5FF80\", \"#547F43 \"],\r\n\t])\r\n\r\n\t.factory(\"coloresFactory\", [function () {\r\n\t\treturn function (coloresArrays) {\r\n\t\t\tvar i = Math.floor(Math.random() * coloresArrays.length) + 0;\r\n\t\t\treturn coloresArrays[i];\r\n\t\t};\r\n\r\n\t}])\r\n\r\n\t.value(\"coloresPaletaValue\", [\"#f44336\", \"#E91E63\", \"#9C27B0\", \"#673AB7\", \"#3F51B5\", \"#2196F3\", \"#03A9F4\", \"#00BCD4\", \"#009688\", \"#4CAF50\", \"#8BC34A\", \"#CDDC39\", \"#FFEB3B\", \"#FFC107\", \"#FF9800\", \"#FF5722\", \"#795548\", \"#9E9E9E\", \"#607D8B\", \"#ffcdd2\", \"#F8BBD0\", \"#E1BEE7\", \"#D1C4E9\", \"#C5CAE9\", \"#BBDEFB\", \"#B3E5FC\", \"#B2EBF2\", \"#B2DFDB\", \"#C8E6C9\", \"#DCEDC8\", \"#F0F4C3\", \"#FFF9C4\", \"#FFECB3\", \"#FFE0B2\", \"#FFCCBC\", \"#D7CCC8\", \"#FFFFFF\", \"#CFD8DC\", \"#ef9a9a\", \"#F48FB1\", \"#CE93D8\", \"#B39DDB\", \"#9FA8DA\", \"#90CAF9\", \"#81D4FA\", \"#80DEEA\", \"#80CBC4\", \"#A5D6A7\", \"#C5E1A5\", \"#E6EE9C\", \"#FFF59D\", \"#FFE082\", \"#FFCC80\", \"#FFAB91\", \"#BCAAA4\", \"#EEEEEE\", \"#B0BEC5\", \"#e57373\", \"#F06292\", \"#BA68C8\", \"#9575CD\", \"#7986CB\", \"#64B5F6\", \"#4FC3F7\", \"#4DD0E1\", \"#4DB6AC\", \"#81C784\", \"#AED581\", \"#DCE775\", \"#FFF176\", \"#FFD54F\", \"#FFB74D\", \"#FF8A65\", \"#A1887F\", \"#E0E0E0\", \"#90A4AE\", \"#ef5350\", \"#EC407A\", \"#AB47BC\", \"#7E57C2\", \"#5C6BC0\", \"#42A5F5\", \"#29B6F6\", \"#26C6DA\", \"#26A69A\", \"#66BB6A\", \"#9CCC65\", \"#D4E157\", \"#FFEE58\", \"#FFCA28\", \"#FFA726\", \"#FF7043\", \"#8D6E63\", \"#BDBDBD\", \"#78909C\", \"#f44336\", \"#E91E63\", \"#9C27B0\", \"#673AB7\", \"#3F51B5\", \"#2196F3\", \"#03A9F4\", \"#00BCD4\", \"#009688\", \"#4CAF50\", \"#8BC34A\", \"#CDDC39\", \"#FFEB3B\", \"#FFC107\", \"#FF9800\", \"#FF5722\", \"#795548\", \"#9E9E9E\", \"#607D8B\", \"#e53935\", \"#D81B60\", \"#8E24AA\", \"#5E35B1\", \"#3949AB\", \"#1E88E5\", \"#039BE5\", \"#00ACC1\", \"#00897B\", \"#43A047\", \"#7CB342\", \"#C0CA33\", \"#FDD835\", \"#FFB300\", \"#FB8C00\", \"#F4511E\", \"#6D4C41\", \"#757575\", \"#546E7A\", \"#d32f2f\", \"#C2185B\", \"#7B1FA2\", \"#512DA8\", \"#303F9F\", \"#1976D2\", \"#0288D1\", \"#0097A7\", \"#00796B\", \"#388E3C\", \"#689F38\", \"#AFB42B\", \"#FBC02D\", \"#FFA000\", \"#F57C00\", \"#E64A19\", \"#5D4037\", \"#616161\", \"#455A64\", \"#c62828\", \"#AD1457\", \"#6A1B9A\", \"#4527A0\", \"#283593\", \"#1565C0\", \"#0277BD\", \"#00838F\", \"#00695C\", \"#2E7D32\", \"#558B2F\", \"#9E9D24\", \"#F9A825\", \"#FF8F00\", \"#EF6C00\", \"#D84315\", \"#4E342E\", \"#424242\", \"#37474F\", \"#b71c1c\", \"#880E4F\", \"#4A148C\", \"#311B92\", \"#1A237E\", \"#0D47A1\", \"#01579B\", \"#006064\", \"#004D40\", \"#1B5E20\", \"#33691E\", \"#827717\", \"#F57F17\", \"#FF6F00\", \"#E65100\", \"#BF360C\", \"#3E2723\", \"#212121\", \"#263238\"])\r\n\r\n\t.value(\"paisesValue\", {\r\n\t\t\"BD\": \"Bangladesh\",\r\n\t\t\"BE\": \"Belgium\",\r\n\t\t\"BF\": \"Burkina Faso\",\r\n\t\t\"BG\": \"Bulgaria\",\r\n\t\t\"BA\": \"Bosnia and Herzegovina\",\r\n\t\t\"BB\": \"Barbados\",\r\n\t\t\"WF\": \"Wallis and Futuna\",\r\n\t\t\"BL\": \"Saint Barthelemy\",\r\n\t\t\"BM\": \"Bermuda\",\r\n\t\t\"BN\": \"Brunei\",\r\n\t\t\"BO\": \"Bolivia\",\r\n\t\t\"BH\": \"Bahrain\",\r\n\t\t\"BI\": \"Burundi\",\r\n\t\t\"BJ\": \"Benin\",\r\n\t\t\"BT\": \"Bhutan\",\r\n\t\t\"JM\": \"Jamaica\",\r\n\t\t\"BV\": \"Bouvet Island\",\r\n\t\t\"BW\": \"Botswana\",\r\n\t\t\"WS\": \"Samoa\",\r\n\t\t\"BQ\": \"Bonaire, Saint Eustatius and Saba \",\r\n\t\t\"BR\": \"Brazil\",\r\n\t\t\"BS\": \"Bahamas\",\r\n\t\t\"JE\": \"Jersey\",\r\n\t\t\"BY\": \"Belarus\",\r\n\t\t\"BZ\": \"Belize\",\r\n\t\t\"RU\": \"Russia\",\r\n\t\t\"RW\": \"Rwanda\",\r\n\t\t\"RS\": \"Serbia\",\r\n\t\t\"TL\": \"East Timor\",\r\n\t\t\"RE\": \"Reunion\",\r\n\t\t\"TM\": \"Turkmenistan\",\r\n\t\t\"TJ\": \"Tajikistan\",\r\n\t\t\"RO\": \"Romania\",\r\n\t\t\"TK\": \"Tokelau\",\r\n\t\t\"GW\": \"Guinea-Bissau\",\r\n\t\t\"GU\": \"Guam\",\r\n\t\t\"GT\": \"Guatemala\",\r\n\t\t\"GS\": \"South Georgia and the South Sandwich Islands\",\r\n\t\t\"GR\": \"Greece\",\r\n\t\t\"GQ\": \"Equatorial Guinea\",\r\n\t\t\"GP\": \"Guadeloupe\",\r\n\t\t\"JP\": \"Japan\",\r\n\t\t\"GY\": \"Guyana\",\r\n\t\t\"GG\": \"Guernsey\",\r\n\t\t\"GF\": \"French Guiana\",\r\n\t\t\"GE\": \"Georgia\",\r\n\t\t\"GD\": \"Grenada\",\r\n\t\t\"GB\": \"United Kingdom\",\r\n\t\t\"GA\": \"Gabon\",\r\n\t\t\"SV\": \"El Salvador\",\r\n\t\t\"GN\": \"Guinea\",\r\n\t\t\"GM\": \"Gambia\",\r\n\t\t\"GL\": \"Greenland\",\r\n\t\t\"GI\": \"Gibraltar\",\r\n\t\t\"GH\": \"Ghana\",\r\n\t\t\"OM\": \"Oman\",\r\n\t\t\"TN\": \"Tunisia\",\r\n\t\t\"JO\": \"Jordan\",\r\n\t\t\"HR\": \"Croatia\",\r\n\t\t\"HT\": \"Haiti\",\r\n\t\t\"HU\": \"Hungary\",\r\n\t\t\"HK\": \"Hong Kong\",\r\n\t\t\"HN\": \"Honduras\",\r\n\t\t\"HM\": \"Heard Island and McDonald Islands\",\r\n\t\t\"VE\": \"Venezuela\",\r\n\t\t\"PR\": \"Puerto Rico\",\r\n\t\t\"PS\": \"Palestinian Territory\",\r\n\t\t\"PW\": \"Palau\",\r\n\t\t\"PT\": \"Portugal\",\r\n\t\t\"SJ\": \"Svalbard and Jan Mayen\",\r\n\t\t\"PY\": \"Paraguay\",\r\n\t\t\"IQ\": \"Iraq\",\r\n\t\t\"PA\": \"Panama\",\r\n\t\t\"PF\": \"French Polynesia\",\r\n\t\t\"PG\": \"Papua New Guinea\",\r\n\t\t\"PE\": \"Peru\",\r\n\t\t\"PK\": \"Pakistan\",\r\n\t\t\"PH\": \"Philippines\",\r\n\t\t\"PN\": \"Pitcairn\",\r\n\t\t\"PL\": \"Poland\",\r\n\t\t\"PM\": \"Saint Pierre and Miquelon\",\r\n\t\t\"ZM\": \"Zambia\",\r\n\t\t\"EH\": \"Western Sahara\",\r\n\t\t\"EE\": \"Estonia\",\r\n\t\t\"EG\": \"Egypt\",\r\n\t\t\"ZA\": \"South Africa\",\r\n\t\t\"EC\": \"Ecuador\",\r\n\t\t\"IT\": \"Italy\",\r\n\t\t\"VN\": \"Vietnam\",\r\n\t\t\"SB\": \"Solomon Islands\",\r\n\t\t\"ET\": \"Ethiopia\",\r\n\t\t\"SO\": \"Somalia\",\r\n\t\t\"ZW\": \"Zimbabwe\",\r\n\t\t\"SA\": \"Saudi Arabia\",\r\n\t\t\"ES\": \"Spain\",\r\n\t\t\"ER\": \"Eritrea\",\r\n\t\t\"ME\": \"Montenegro\",\r\n\t\t\"MD\": \"Moldova\",\r\n\t\t\"MG\": \"Madagascar\",\r\n\t\t\"MF\": \"Saint Martin\",\r\n\t\t\"MA\": \"Morocco\",\r\n\t\t\"MC\": \"Monaco\",\r\n\t\t\"UZ\": \"Uzbekistan\",\r\n\t\t\"MM\": \"Myanmar\",\r\n\t\t\"ML\": \"Mali\",\r\n\t\t\"MO\": \"Macao\",\r\n\t\t\"MN\": \"Mongolia\",\r\n\t\t\"MH\": \"Marshall Islands\",\r\n\t\t\"MK\": \"Macedonia\",\r\n\t\t\"MU\": \"Mauritius\",\r\n\t\t\"MT\": \"Malta\",\r\n\t\t\"MW\": \"Malawi\",\r\n\t\t\"MV\": \"Maldives\",\r\n\t\t\"MQ\": \"Martinique\",\r\n\t\t\"MP\": \"Northern Mariana Islands\",\r\n\t\t\"MS\": \"Montserrat\",\r\n\t\t\"MR\": \"Mauritania\",\r\n\t\t\"IM\": \"Isle of Man\",\r\n\t\t\"UG\": \"Uganda\",\r\n\t\t\"TZ\": \"Tanzania\",\r\n\t\t\"MY\": \"Malaysia\",\r\n\t\t\"MX\": \"Mexico\",\r\n\t\t\"IL\": \"Israel\",\r\n\t\t\"FR\": \"France\",\r\n\t\t\"IO\": \"British Indian Ocean Territory\",\r\n\t\t\"SH\": \"Saint Helena\",\r\n\t\t\"FI\": \"Finland\",\r\n\t\t\"FJ\": \"Fiji\",\r\n\t\t\"FK\": \"Falkland Islands\",\r\n\t\t\"FM\": \"Micronesia\",\r\n\t\t\"FO\": \"Faroe Islands\",\r\n\t\t\"NI\": \"Nicaragua\",\r\n\t\t\"NL\": \"Netherlands\",\r\n\t\t\"NO\": \"Norway\",\r\n\t\t\"NA\": \"Namibia\",\r\n\t\t\"VU\": \"Vanuatu\",\r\n\t\t\"NC\": \"New Caledonia\",\r\n\t\t\"NE\": \"Niger\",\r\n\t\t\"NF\": \"Norfolk Island\",\r\n\t\t\"NG\": \"Nigeria\",\r\n\t\t\"NZ\": \"New Zealand\",\r\n\t\t\"NP\": \"Nepal\",\r\n\t\t\"NR\": \"Nauru\",\r\n\t\t\"NU\": \"Niue\",\r\n\t\t\"CK\": \"Cook Islands\",\r\n\t\t\"XK\": \"Kosovo\",\r\n\t\t\"CI\": \"Ivory Coast\",\r\n\t\t\"CH\": \"Switzerland\",\r\n\t\t\"CO\": \"Colombia\",\r\n\t\t\"CN\": \"China\",\r\n\t\t\"CM\": \"Cameroon\",\r\n\t\t\"CL\": \"Chile\",\r\n\t\t\"CC\": \"Cocos Islands\",\r\n\t\t\"CA\": \"Canada\",\r\n\t\t\"CG\": \"Republic of the Congo\",\r\n\t\t\"CF\": \"Central African Republic\",\r\n\t\t\"CD\": \"Democratic Republic of the Congo\",\r\n\t\t\"CZ\": \"Czech Republic\",\r\n\t\t\"CY\": \"Cyprus\",\r\n\t\t\"CX\": \"Christmas Island\",\r\n\t\t\"CR\": \"Costa Rica\",\r\n\t\t\"CW\": \"Curacao\",\r\n\t\t\"CV\": \"Cape Verde\",\r\n\t\t\"CU\": \"Cuba\",\r\n\t\t\"SZ\": \"Swaziland\",\r\n\t\t\"SY\": \"Syria\",\r\n\t\t\"SX\": \"Sint Maarten\",\r\n\t\t\"KG\": \"Kyrgyzstan\",\r\n\t\t\"KE\": \"Kenya\",\r\n\t\t\"SS\": \"South Sudan\",\r\n\t\t\"SR\": \"Suriname\",\r\n\t\t\"KI\": \"Kiribati\",\r\n\t\t\"KH\": \"Cambodia\",\r\n\t\t\"KN\": \"Saint Kitts and Nevis\",\r\n\t\t\"KM\": \"Comoros\",\r\n\t\t\"ST\": \"Sao Tome and Principe\",\r\n\t\t\"SK\": \"Slovakia\",\r\n\t\t\"KR\": \"South Korea\",\r\n\t\t\"SI\": \"Slovenia\",\r\n\t\t\"KP\": \"North Korea\",\r\n\t\t\"KW\": \"Kuwait\",\r\n\t\t\"SN\": \"Senegal\",\r\n\t\t\"SM\": \"San Marino\",\r\n\t\t\"SL\": \"Sierra Leone\",\r\n\t\t\"SC\": \"Seychelles\",\r\n\t\t\"KZ\": \"Kazakhstan\",\r\n\t\t\"KY\": \"Cayman Islands\",\r\n\t\t\"SG\": \"Singapore\",\r\n\t\t\"SE\": \"Sweden\",\r\n\t\t\"SD\": \"Sudan\",\r\n\t\t\"DO\": \"Dominican Republic\",\r\n\t\t\"DM\": \"Dominica\",\r\n\t\t\"DJ\": \"Djibouti\",\r\n\t\t\"DK\": \"Denmark\",\r\n\t\t\"VG\": \"British Virgin Islands\",\r\n\t\t\"DE\": \"Germany\",\r\n\t\t\"YE\": \"Yemen\",\r\n\t\t\"DZ\": \"Algeria\",\r\n\t\t\"US\": \"United States\",\r\n\t\t\"UY\": \"Uruguay\",\r\n\t\t\"YT\": \"Mayotte\",\r\n\t\t\"UM\": \"United States Minor Outlying Islands\",\r\n\t\t\"LB\": \"Lebanon\",\r\n\t\t\"LC\": \"Saint Lucia\",\r\n\t\t\"LA\": \"Laos\",\r\n\t\t\"TV\": \"Tuvalu\",\r\n\t\t\"TW\": \"Taiwan\",\r\n\t\t\"TT\": \"Trinidad and Tobago\",\r\n\t\t\"TR\": \"Turkey\",\r\n\t\t\"LK\": \"Sri Lanka\",\r\n\t\t\"LI\": \"Liechtenstein\",\r\n\t\t\"LV\": \"Latvia\",\r\n\t\t\"TO\": \"Tonga\",\r\n\t\t\"LT\": \"Lithuania\",\r\n\t\t\"LU\": \"Luxembourg\",\r\n\t\t\"LR\": \"Liberia\",\r\n\t\t\"LS\": \"Lesotho\",\r\n\t\t\"TH\": \"Thailand\",\r\n\t\t\"TF\": \"French Southern Territories\",\r\n\t\t\"TG\": \"Togo\",\r\n\t\t\"TD\": \"Chad\",\r\n\t\t\"TC\": \"Turks and Caicos Islands\",\r\n\t\t\"LY\": \"Libya\",\r\n\t\t\"VA\": \"Vatican\",\r\n\t\t\"VC\": \"Saint Vincent and the Grenadines\",\r\n\t\t\"AE\": \"United Arab Emirates\",\r\n\t\t\"AD\": \"Andorra\",\r\n\t\t\"AG\": \"Antigua and Barbuda\",\r\n\t\t\"AF\": \"Afghanistan\",\r\n\t\t\"AI\": \"Anguilla\",\r\n\t\t\"VI\": \"U.S. Virgin Islands\",\r\n\t\t\"IS\": \"Iceland\",\r\n\t\t\"IR\": \"Iran\",\r\n\t\t\"AM\": \"Armenia\",\r\n\t\t\"AL\": \"Albania\",\r\n\t\t\"AO\": \"Angola\",\r\n\t\t\"AQ\": \"Antarctica\",\r\n\t\t\"AS\": \"American Samoa\",\r\n\t\t\"AR\": \"Argentina\",\r\n\t\t\"AU\": \"Australia\",\r\n\t\t\"AT\": \"Austria\",\r\n\t\t\"AW\": \"Aruba\",\r\n\t\t\"IN\": \"India\",\r\n\t\t\"AX\": \"Aland Islands\",\r\n\t\t\"AZ\": \"Azerbaijan\",\r\n\t\t\"IE\": \"Ireland\",\r\n\t\t\"ID\": \"Indonesia\",\r\n\t\t\"UA\": \"Ukraine\",\r\n\t\t\"QA\": \"Qatar\",\r\n\t\t\"MZ\": \"Mozambique\"\r\n\t})\r\n\r\n\t.value(\"coloresPaletteValue\", [\r\n\t\t[\r\n\t\t\t[\"#009aa6\", \"#e6e6e6\", \"#000000\", \"#ffed00\", \"#aafc00\"],\r\n\t\t\t[\"#008b00\", \"#e6e6e6\", \"#000000\", \"#ffed00\", \"#aafc00\"],\r\n\t\t\t[\"#74cb00\", \"#ffffff\", \"#000000\", \"#ffed00\", \"#a67848\"],\r\n\t\t\t[\"#ffc700\", \"#ffffff\", \"#000000\", \"#0071bc\", \"#c20000\"],\r\n\t\t\t[\"#ff4200\", \"#ffffff\", \"#e6e6e6\", \"#000000\", \"#0071bc\"],\r\n\t\t\t[\"#740000\", \"#ffffff\", \"#e6e6e6\", \"#00e0cd\", \"#ffde00\"],\r\n\t\t\t[\"#890054\", \"#ffffff\", \"#e6e6e6\", \"#00dbff\", \"#aafc00\"],\r\n\t\t\t[\"#8400a5\", \"#ffffff\", \"#e6e6e6\", \"#ffed00\", \"#aafc00\"],\r\n\t\t\t[\"#4500d4\", \"#ffffff\", \"#e6e6e6\", \"#00dbff\", \"#aafc00\"],\r\n\t\t\t[\"#0042ff\", \"#ffffff\", \"#e6e6e6\", \"#00dbff\", \"#aafc00\"],\r\n\t\t],\r\n\t\t[\r\n\t\t\t[\"#00bfc2\", \"#ffffff\", \"#000000\", \"#ffed00\", \"#a67848\"],\r\n\t\t\t[\"#00cc51\", \"#ffffff\", \"#000000\", \"#ffed00\", \"#a67848\"],\r\n\t\t\t[\"#83de00\", \"#ffffff\", \"#000000\", \"#ffed00\", \"#a67848\"],\r\n\t\t\t[\"#ffde00\", \"#ffffff\", \"#000000\", \"#0071bc\", \"#c20000\"],\r\n\t\t\t[\"#ff5000\", \"#ffffff\", \"#e6e6e6\", \"#000000\", \"#0071bc\"],\r\n\t\t\t[\"#9f0000\", \"#ffffff\", \"#e6e6e6\", \"#00e0cd\", \"#ffde00\"],\r\n\t\t\t[\"#b80060\", \"#ffffff\", \"#e6e6e6\", \"#00dbff\", \"#aafc00\"],\r\n\t\t\t[\"#a700b8\", \"#ffffff\", \"#e6e6e6\", \"#ffed00\", \"#aafc00\"],\r\n\t\t\t[\"#6129ff\", \"#ffffff\", \"#e6e6e6\", \"#00dbff\", \"#aafc00\"],\r\n\t\t\t[\"#0072ff\", \"#ffffff\", \"#e6e6e6\", \"#00dbff\", \"#aafc00\"],\r\n\t\t],\r\n\t\t[\r\n\t\t\t[\"#00d6c2\", \"#ffffff\", \"#000000\", \"#666666\", \"#a67848\"],\r\n\t\t\t[\"#00db75\", \"#ffffff\", \"#000000\", \"#666666\", \"#a67848\"],\r\n\t\t\t[\"#8bf300\", \"#ffffff\", \"#000000\", \"#666666\", \"#a67848\"],\r\n\t\t\t[\"#ffed00\", \"#000000\", \"#666666\", \"#0071bc\", \"#7a00000\"],\r\n\t\t\t[\"#ff7b00\", \"#ffffff\", \"#000000\", \"#ffed00\", \"#00d6c2\"],\r\n\t\t\t[\"#c20000\", \"#ffffff\", \"#cccccc\", \"#00e0cd\", \"#ffde00\"],\r\n\t\t\t[\"#db006b\", \"#ffffff\", \"#e6e6e6\", \"#00dbff\", \"#aafc00\"],\r\n\t\t\t[\"#e700db\", \"#ffffff\", \"#000000\", \"#00dbff\", \"#ffde00\"],\r\n\t\t\t[\"#9256ff\", \"#ffffff\", \"#000000\", \"#e6e6e6\", \"#aafc00\"],\r\n\t\t\t[\"#009fff\", \"#ffffff\", \"#e6e6e6\", \"#aafc00\", \"#ffed00\"],\r\n\t\t],\r\n\t\t[\r\n\t\t\t[\"#00f4de\", \"#ffffff\", \"#000000\", \"#666666\", \"#a67848\"],\r\n\t\t\t[\"#00ec93\", \"#ffffff\", \"#000000\", \"#666666\", \"#a67848\"],\r\n\t\t\t[\"#b3fc00\", \"#ffffff\", \"#000000\", \"#666666\", \"#a67848\"],\r\n\t\t\t[\"#e5ff00\", \"#000000\", \"#666666\", \"#0071bc\", \"#7a00000\"],\r\n\t\t\t[\"#ff9700\", \"#ffffff\", \"#000000\", \"#ffed00\", \"#00d6c2\"],\r\n\t\t\t[\"#e00000\", \"#ffffff\", \"#cccccc\", \"#00e0cd\", \"#ffde00\"],\r\n\t\t\t[\"#fd0081\", \"#ffffff\", \"#e6e6e6\", \"#00dbff\", \"#aafc00\"],\r\n\t\t\t[\"#ff00ea\", \"#ffffff\", \"#000000\", \"#00dbff\", \"#ffde00\"],\r\n\t\t\t[\"#ae77ff\", \"#ffffff\", \"#000000\", \"#e6e6e6\", \"#b3fc00\"],\r\n\t\t\t[\"#00dbff\", \"#ffffff\", \"#000000\", \"#666666\", \"#4500d4\"],\r\n\t\t]\r\n\t])\r\n\r\n\r\n\r\n\t/*-------------------------- Services --------------------------*/\r\n\r\n\t/*********************/\r\n\t/********ETIQUETAS****/\r\n\t/*********************/\r\n\r\n\t/* SERVICIO PARA ETIQUETAS */\r\n\r\n\t.service(\"etiquetasService\", [\"$http\", \"$q\", function ($http, $q) {\r\n\r\n\t\t/***************************/\r\n\t\t/**********LOGOS***********/\r\n\t\t/***************************/\r\n\r\n\t\tthis.listarLogos = function (datos) {\r\n\r\n\t\t\tvar defered = $q.defer();\r\n\t\t\tvar promise = defered.promise;\r\n\r\n\t\t\t$http.post(\"/app/elementos/categoria\", datos).then(function (res) {\r\n\t\t\t\tif (res == undefined) {\r\n\t\t\t\t\treturn defered.reject(res);\r\n\t\t\t\t}\r\n\t\t\t\tdefered.resolve(res);\r\n\t\t\t}).catch(function (res) {\r\n\t\t\t\tdefered.reject(res);\r\n\t\t\t});\r\n\r\n\t\t\treturn promise;\r\n\t\t};\r\n\r\n\t\t/* ETIQUETAS*/\r\n\r\n\r\n\t\tthis.listarEtiquetas = function () {\r\n\r\n\t\t\tvar defered = $q.defer();\r\n\t\t\tvar promise = defered.promise;\r\n\r\n\t\t\t$http.get(\"/app/etiquetas\").then(function (res) {\r\n\t\t\t\tdefered.resolve(res);\r\n\t\t\t}).catch(function (res) {\r\n\t\t\t\tdefered.reject(res.data.msg);\r\n\t\t\t});\r\n\r\n\t\t\treturn promise;\r\n\t\t};\r\n\r\n\t\tthis.loadEtiquetas = function (arr) {\r\n\r\n\t\t\tvar etiquetas = [];\r\n\r\n\t\t\tangular.forEach(arr, function (valor) {\r\n\t\t\t\tetiquetas.push({\r\n\t\t\t\t\t_id: valor._id,\r\n\t\t\t\t\ttraduccion: valor.traducciones[0]\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\treturn etiquetas.map(function (et) {\r\n\t\t\t\tet.traduccion._lowername = et.traduccion.valor.toLowerCase();\r\n\t\t\t\treturn et;\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tthis.transformChip = function (chip) {\r\n\r\n\t\t\t// If it is an object, it's already a known chip\r\n\t\t\tif (angular.isObject(chip)) {\r\n\t\t\t\treturn chip;\r\n\t\t\t}\r\n\r\n\t\t\t// Otherwise, create a new one\r\n\t\t\treturn {\r\n\t\t\t\ttraduccion: {\r\n\t\t\t\t\tvalor: chip\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t};\r\n\r\n\t\tthis.querySearch = function (query, etiquetas) {\r\n\t\t\tvar results = query ? etiquetas.filter(createFilterFor(query)) : [];\r\n\t\t\treturn results;\r\n\t\t};\r\n\r\n\t\tfunction createFilterFor(query) {\r\n\t\t\tvar lowercaseQuery = query.toLowerCase();\r\n\r\n\t\t\treturn function filterFn(etiqueta) {\r\n\t\t\t\treturn (etiqueta.traduccion._lowername.indexOf(lowercaseQuery) === 0);\r\n\t\t\t};\r\n\r\n\t\t}\r\n\r\n\t}])\r\n\r\n\r\n\t/***************************/\r\n\t/*******CATEGORIAS**********/\r\n\t/***************************/\r\n\r\n\t.service(\"categoriasService\", [\"$http\", \"$q\", function ($http, $q) {\r\n\r\n\t\tthis.listaCategorias = function (tipo) {\r\n\r\n\t\t\tvar defered = $q.defer();\r\n\r\n\t\t\tvar promise = defered.promise;\r\n\r\n\t\t\t$http.post(\"/app/categorias\", {\r\n\t\t\t\ttipo: tipo\r\n\t\t\t})\r\n\t\t\t\t.then(function (res) {\r\n\t\t\t\t\tdefered.resolve(res.data);\r\n\t\t\t\t})\r\n\t\t\t\t.catch(function () {\r\n\t\t\t\t\tdefered.reject();\r\n\t\t\t\t});\r\n\r\n\t\t\treturn promise;\r\n\r\n\r\n\t\t};\r\n\r\n\r\n\t\tthis.listaCategoriasElementos = function (idCategoria, tipo) {\r\n\r\n\t\t\tvar defered = $q.defer();\r\n\r\n\t\t\tvar promise = defered.promise;\r\n\r\n\t\t\t$http.post(\"/app/elementos/categorias\", {\r\n\t\t\t\tidCategoria: idCategoria,\r\n\t\t\t\ttipo: tipo\r\n\t\t\t})\r\n\t\t\t\t.then(function (res) {\r\n\t\t\t\t\tdefered.resolve(res.data);\r\n\t\t\t\t})\r\n\t\t\t\t.catch(function () {\r\n\t\t\t\t\tdefered.reject();\r\n\t\t\t\t});\r\n\r\n\t\t\treturn promise;\r\n\r\n\t\t};\r\n\r\n\r\n\t}])\r\n\r\n\r\n\r\n\t/***************************/\r\n\t/******PREFERENCIAS*********/\r\n\t/***************************/\r\n\r\n\t.service(\"preferenciasService\", [\"$http\", \"$q\", function ($http, $q) {\r\n\r\n\t\tthis.listaPreferencias = function () {\r\n\r\n\t\t\tvar defered = $q.defer();\r\n\r\n\t\t\tvar promise = defered.promise;\r\n\r\n\t\t\t$http.get(\"/app/preferencias\").then(function (res) {\r\n\r\n\t\t\t\tdefered.resolve(res.data);\r\n\r\n\r\n\t\t\t}).catch(function () {\r\n\r\n\t\t\t\tdefered.reject();\r\n\r\n\t\t\t});\r\n\r\n\t\t\treturn promise;\r\n\r\n\t\t};\r\n\r\n\t}])\r\n\r\n\r\n\t/***************************/\r\n\t/*********ELEMENTOS*********/\r\n\t/***************************/\r\n\r\n\r\n\r\n\t.service(\"elementosService\", [\"$http\", \"$q\", function ($http, $q) {\r\n\r\n\t\tthis.listaFuentesSegunPref = function (idCategoria, preferencias, limit) {\r\n\r\n\t\t\tvar defered = $q.defer();\r\n\r\n\t\t\tvar promise = defered.promise;\r\n\r\n\t\t\t$http.post(\"/app/elementos/busqueda/fuentes\", {\r\n\t\t\t\tcategoria: idCategoria,\r\n\t\t\t\tpreferencias: preferencias,\r\n\t\t\t\ttipo: \"FUENTE\",\r\n\t\t\t\tlimit: limit\r\n\t\t\t})\r\n\t\t\t\t.then(function (res) {\r\n\t\t\t\t\tdefered.resolve(res.data);\r\n\t\t\t\t})\r\n\t\t\t\t.catch(function (res) {\r\n\t\t\t\t\tdefered.reject(res);\r\n\t\t\t\t});\r\n\r\n\t\t\treturn promise;\r\n\t\t};\r\n\r\n\t\tthis.listarIconosSegunTags = function (tags, idCategoria, ids, limit) {\r\n\t\t\tvar defered = $q.defer();\r\n\r\n\t\t\tvar promise = defered.promise;\r\n\r\n\t\t\t$http.post(\"/app/elementos/busqueda/iconos\", {\r\n\t\t\t\ttags: tags,\r\n\t\t\t\tcategoria: idCategoria,\r\n\t\t\t\tids: ids,\r\n\t\t\t\tlimit: limit\r\n\t\t\t})\r\n\t\t\t\t.then(function (res) {\r\n\t\t\t\t\tdefered.resolve(res.data);\r\n\t\t\t\t})\r\n\t\t\t\t.catch(function (res) {\r\n\t\t\t\t\tdefered.reject(res);\r\n\t\t\t\t});\r\n\r\n\t\t\treturn promise;\r\n\t\t};\r\n\r\n\r\n\r\n\t\tthis.listarFuentes = function () {\r\n\r\n\t\t\tvar defered = $q.defer();\r\n\r\n\t\t\tvar promise = defered.promise;\r\n\r\n\t\t\t$http.get(\"/app/elementos/fuente\").then(function (res) {\r\n\r\n\t\t\t\tdefered.resolve(res.data);\r\n\r\n\t\t\t}).catch(function (res) {\r\n\r\n\t\t\t\tdefered.reject(res);\r\n\r\n\t\t\t});\r\n\r\n\t\t\treturn promise;\r\n\r\n\t\t};\r\n\r\n\t\tthis.listarIniciales = function (inicial) {\r\n\r\n\t\t\tvar defered = $q.defer();\r\n\r\n\t\t\tvar promise = defered.promise;\r\n\r\n\t\t\t$http.post(\"/app/elementos/iniciales\", {\r\n\t\t\t\tinicial: inicial\r\n\t\t\t}).then(function (res) {\r\n\r\n\t\t\t\tdefered.resolve(res.data);\r\n\r\n\t\t\t}).catch(function (res) {\r\n\r\n\t\t\t\tdefered.reject(res);\r\n\r\n\t\t\t});\r\n\r\n\t\t\treturn promise;\r\n\r\n\t\t};\r\n\r\n\t}])\r\n\r\n\r\n\t/*********************/\r\n\t/********PEDIDOS******/\r\n\t/*********************/\r\n\r\n\t.service(\"pedidosService\", [\"$http\", \"$q\", function ($http, $q) {\r\n\r\n\r\n\t\tthis.listarPlanes = function () {\r\n\r\n\t\t\tvar defered = $q.defer();\r\n\r\n\t\t\tvar promise = defered.promise;\r\n\r\n\t\t\t$http.get(\"/app/planes/comprar\").then(function (res) {\r\n\r\n\t\t\t\tdefered.resolve(res.data);\r\n\r\n\t\t\t}).catch(function (res) {\r\n\r\n\t\t\t\tdefered.reject(res);\r\n\r\n\t\t\t});\r\n\r\n\r\n\t\t\treturn promise;\r\n\r\n\t\t};\r\n\r\n\t\tthis.listarPasarelas = function (idMoneda) {\r\n\r\n\t\t\tvar defered = $q.defer();\r\n\r\n\t\t\tvar promise = defered.promise;\r\n\r\n\t\t\t$http.post(\"/app/pasarelas/moneda\", {\r\n\t\t\t\tidMoneda: idMoneda\r\n\t\t\t}).then(function (res) {\r\n\r\n\t\t\t\tdefered.resolve(res.data);\r\n\r\n\t\t\t}).catch(function (res) {\r\n\r\n\t\t\t\tdefered.reject(res);\r\n\r\n\t\t\t});\r\n\r\n\t\t\treturn promise;\r\n\r\n\t\t};\r\n\r\n\r\n\t\tthis.pagar = {\r\n\t\t\tpaypal: function (idElemento, atributos, logo, idPrecio, tipoLogo, idPasarela) {\r\n\r\n\t\t\t\tvar defered = $q.defer();\r\n\r\n\t\t\t\tvar promise = defered.promise;\r\n\r\n\t\t\t\tvar datos = {\r\n\t\t\t\t\tidElemento: idElemento,\r\n\t\t\t\t\tlogo: logo,\r\n\t\t\t\t\tidPrecio: idPrecio,\r\n\t\t\t\t\ttipoLogo: tipoLogo,\r\n\t\t\t\t\tidPasarela: idPasarela,\r\n\t\t\t\t\tatributos: atributos\r\n\t\t\t\t};\r\n\r\n\t\t\t\t$http.post(\"/app/pedido\", datos).then(function (res) {\r\n\r\n\t\t\t\t\tdefered.resolve(res.data);\r\n\r\n\t\t\t\t}).catch(function (res) {\r\n\r\n\t\t\t\t\tdefered.reject(res);\r\n\r\n\t\t\t\t});\r\n\r\n\r\n\t\t\t\treturn promise;\r\n\r\n\t\t\t},\r\n\r\n\t\t\tstripe: function (idElemento, atributos, logo, idPrecio, tipoLogo, idPasarela, tokenStripe) {\r\n\r\n\t\t\t\tvar defered = $q.defer();\r\n\t\t\t\tvar promise = defered.promise;\r\n\r\n\t\t\t\tvar datos = {\r\n\t\t\t\t\tidElemento: idElemento,\r\n\t\t\t\t\tlogo: logo,\r\n\t\t\t\t\tidPrecio: idPrecio,\r\n\t\t\t\t\ttipoLogo: tipoLogo,\r\n\t\t\t\t\tidPasarela: idPasarela,\r\n\t\t\t\t\tatributos: atributos,\r\n\t\t\t\t\tstripeToken: tokenStripe\r\n\t\t\t\t};\r\n\r\n\t\t\t\t$http.post(\"/app/pedido\", datos)\r\n\t\t\t\t\t.then(function (res) {\r\n\t\t\t\t\t\tdefered.resolve(res.data);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function (res) {\r\n\t\t\t\t\t\tdefered.reject(res);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\treturn promise;\r\n\r\n\t\t\t}\r\n\t\t};\r\n\r\n\r\n\t\tthis.listarPedidos = function () {\r\n\r\n\t\t\tvar defered = $q.defer();\r\n\r\n\t\t\tvar promise = defered.promise;\r\n\r\n\t\t\t$http.get(\"/app/cliente/pedidos\").then(function (res) {\r\n\r\n\t\t\t\tdefered.resolve(res.data);\r\n\r\n\t\t\t}).catch(function (res) {\r\n\r\n\t\t\t\tdefered.reject(res);\r\n\r\n\t\t\t});\r\n\r\n\t\t\treturn promise;\r\n\r\n\t\t};\r\n\r\n\t}])\r\n\r\n\t/***************************************/\r\n\t/***************CLIENTES****************/\r\n\t/***************************************/\r\n\r\n\t.factory(\"clienteDatosFactory\", [function () {\r\n\r\n\t\tvar cliente = null;\r\n\r\n\t\treturn {\r\n\t\t\tobtener: function () {\r\n\r\n\t\t\t\treturn cliente;\r\n\r\n\t\t\t},\r\n\t\t\tdefinir: function (objectoCliente) {\r\n\r\n\t\t\t\tcliente = objectoCliente;\r\n\r\n\t\t\t},\r\n\t\t\teliminar: function () {\r\n\r\n\t\t\t\tcliente = null;\r\n\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t}])\r\n\r\n\r\n\t/*********************/\r\n\t/*** SOCIAL LOGIN ****/\r\n\t/*********************/\r\n\r\n\t.service(\"socialAuth\", [\"$http\", \"$q\", \"$window\", \"clienteDatosFactory\", function ($http, $q, $window, clienteDatosFactory) {\r\n\r\n\t\tthis.facebook = function () {\r\n\r\n\t\t\tvar defered = $q.defer();\r\n\t\t\tvar promise = defered.promise;\r\n\r\n\t\t\tFB.getLoginStatus(function (response) {\r\n\r\n\t\t\t\tvar datosUsuario = response.authResponse;\r\n\r\n\t\t\t\tif (response.status != \"connected\") {\r\n\t\t\t\t\tFB.login(function (response) {\r\n\r\n\t\t\t\t\t\t$http.post(\"/app/cliente/social\", {\r\n\t\t\t\t\t\t\torigen: \"facebook\",\r\n\t\t\t\t\t\t\ttoken: response.authResponse.accessToken\r\n\t\t\t\t\t\t}).then(function (res) {\r\n\r\n\t\t\t\t\t\t\t$window.localStorage.setItem(\"bzToken\", angular.toJson(res.data));\r\n\t\t\t\t\t\t\tclienteDatosFactory.definir(res.data);\r\n\t\t\t\t\t\t\tdefered.resolve(res);\r\n\r\n\t\t\t\t\t\t}).catch(function (res) {\r\n\t\t\t\t\t\t\t$window.localStorage.removeItem(\"bzToken\");\r\n\t\t\t\t\t\t\tdefered.reject(res);\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tscope: \"email,user_friends,user_location,user_likes\"\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\treturn promise;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$http.post(\"/app/cliente/social\", {\r\n\t\t\t\t\torigen: \"facebook\",\r\n\t\t\t\t\ttoken: datosUsuario.accessToken\r\n\t\t\t\t}).then(function (res) {\r\n\r\n\t\t\t\t\t$window.localStorage.setItem(\"bzToken\", angular.toJson(res.data));\r\n\t\t\t\t\tclienteDatosFactory.definir(res.data);\r\n\t\t\t\t\tdefered.resolve(res);\r\n\r\n\t\t\t\t})\r\n\t\t\t\t\t.catch(function (res) {\r\n\t\t\t\t\t\t$window.localStorage.removeItem(\"bzToken\");\r\n\t\t\t\t\t\tdefered.reject(res);\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\treturn promise;\r\n\t\t};\r\n\r\n\r\n\t\tthis.google = function () {\r\n\r\n\t\t\tvar defered = $q.defer();\r\n\t\t\tvar promise = defered.promise;\r\n\r\n\t\t\tvar GoogleAuth = gapi.auth2.getAuthInstance();\r\n\r\n\r\n\t\t\tif (!GoogleAuth.isSignedIn.get()) {\r\n\t\t\t\tGoogleAuth.signIn().then(function (res) {\r\n\r\n\t\t\t\t\t$http.post(\"/app/cliente/social\", {\r\n\t\t\t\t\t\torigen: \"google\",\r\n\t\t\t\t\t\ttoken: res.Zi.id_token\r\n\t\t\t\t\t}).then(function (res) {\r\n\t\t\t\t\t\t$window.localStorage.setItem(\"bzToken\", angular.toJson(res.data));\r\n\t\t\t\t\t\tclienteDatosFactory.definir(res.data);\r\n\t\t\t\t\t\tdefered.resolve(res);\r\n\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(function (res) {\r\n\t\t\t\t\t\t\t$window.localStorage.removeItem(\"bzToken\");\r\n\t\t\t\t\t\t\tdefered.reject(res);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}).catch(function (res) {\r\n\t\t\t\t\tdefered.reject(res);\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn promise;\r\n\t\t\t}\r\n\r\n\t\t\tvar datosUsuario = GoogleAuth.currentUser.get();\r\n\r\n\t\t\t$http.post(\"/app/cliente/social\", {\r\n\t\t\t\torigen: \"google\",\r\n\t\t\t\ttoken: datosUsuario.Zi.id_token\r\n\t\t\t}).then(function (res) {\r\n\r\n\t\t\t\t$window.localStorage.setItem(\"bzToken\", angular.toJson(res.data));\r\n\t\t\t\tclienteDatosFactory.definir(res.data);\r\n\t\t\t\tdefered.resolve(res);\r\n\r\n\t\t\t})\r\n\t\t\t\t.catch(function (res) {\r\n\t\t\t\t\t$window.localStorage.removeItem(\"bzToken\");\r\n\t\t\t\t\tdefered.reject(res);\r\n\t\t\t\t});\r\n\r\n\t\t\treturn promise;\r\n\r\n\t\t};\r\n\r\n\t}])\r\n\r\n\r\n\r\n\t/*********************/\r\n\t/***** facebook ******/\r\n\t/*********************/\r\n\r\n\t.service(\"facebookService\", [\"$http\", \"$q\", function ($http, $q) {\r\n\r\n\t\tthis.compartir = function () {\r\n\r\n\t\t\tvar defered = $q.defer();\r\n\t\t\tvar promise = defered.promise;\r\n\r\n\t\t\tFB.getLoginStatus(function (response) {\r\n\t\t\t\tif (response.status === \"connected\") {\r\n\t\t\t\t\tFB.ui({\r\n\t\t\t\t\t\tmethod: \"share\",\r\n\t\t\t\t\t\thref: \"http://test.logo.pro/\",\r\n\t\t\t\t\t\tsource: \"http://test.logo.pro/logo.pro.svg\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfunction (response) {\r\n\t\t\t\t\t\tif (response && !response.error_code) {\r\n\t\t\t\t\t\t\tif (typeof response != \"undefined\") {\r\n\t\t\t\t\t\t\t\tdefered.resolve();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tdefered.reject(response);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tFB.login(function (response) {\r\n\t\t\t\t\t\tFB.ui({\r\n\t\t\t\t\t\t\tmethod: \"share\",\r\n\t\t\t\t\t\t\thref: \"http://test.logo.pro/\",\r\n\t\t\t\t\t\t\tsource: \"http://test.logo.pro/\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfunction (response) {\r\n\t\t\t\t\t\t\tif (response && !response.error_code) {\r\n\t\t\t\t\t\t\t\tif (typeof response != \"undefined\") {\r\n\t\t\t\t\t\t\t\t\tdefered.resolve(response);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tdefered.reject(response);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\treturn promise;\r\n\t\t};\r\n\r\n\t}])\r\n\r\n\t.service(\"clientesService\", [\"$http\", \"$q\", \"$window\", \"$rootScope\", \"clienteDatosFactory\", \"Upload\", function ($http, $q, $window, $rootScope, clienteDatosFactory, Upload) {\r\n\r\n\t\tthis.registrar = function (nombreCliente, correo, pass, telefono, pais) {\r\n\r\n\t\t\tvar defered = $q.defer();\r\n\r\n\t\t\tvar promise = defered.promise;\r\n\r\n\t\t\t$http.post(\"/app/cliente\", {\r\n\t\t\t\tnombreCliente: nombreCliente,\r\n\t\t\t\tcorreo: correo,\r\n\t\t\t\tpass: pass,\r\n\t\t\t\ttelefono: telefono,\r\n\t\t\t\tpais: pais\r\n\t\t\t}).then(function (res) {\r\n\r\n\t\t\t\t$window.localStorage.setItem(\"bzToken\", angular.toJson(res.data));\r\n\t\t\t\tclienteDatosFactory.definir(res.data);\r\n\t\t\t\tdefered.resolve();\r\n\r\n\t\t\t})\r\n\t\t\t\t.catch(function (res) {\r\n\r\n\t\t\t\t\t$window.localStorage.removeItem(\"bzToken\");\r\n\t\t\t\t\tdefered.reject(res);\r\n\t\t\t\t});\r\n\r\n\t\t\treturn promise;\r\n\r\n\t\t};\r\n\r\n\t\tthis.login = function (datos) {\r\n\r\n\t\t\tvar defered = $q.defer();\r\n\r\n\t\t\tvar promise = defered.promise;\r\n\r\n\t\t\t$http.post(\"/app/cliente/login\", datos)\r\n\r\n\t\t\t\t.then(function (res) {\r\n\r\n\t\t\t\t\t$window.localStorage.setItem(\"bzToken\", angular.toJson(res.data));\r\n\t\t\t\t\tclienteDatosFactory.definir(res.data);\r\n\t\t\t\t\tdefered.resolve();\r\n\r\n\t\t\t\t})\r\n\t\t\t\t.catch(function () {\r\n\t\t\t\t\t$window.localStorage.removeItem(\"bzToken\");\r\n\t\t\t\t\tdefered.reject();\r\n\t\t\t\t});\r\n\r\n\t\t\treturn promise;\r\n\r\n\t\t};\r\n\r\n\t\tthis.forgotPass = function (datos) {\r\n\r\n\t\t\tvar defered = $q.defer();\r\n\r\n\t\t\tvar promise = defered.promise;\r\n\r\n\t\t\t$http.post(\"/app/recuperar-password\", datos)\r\n\t\t\t\t.then(function (res) {\r\n\t\t\t\t\tdefered.resolve(res);\r\n\t\t\t\t})\r\n\t\t\t\t.catch(function (res) {\r\n\t\t\t\t\tdefered.reject(res);\r\n\t\t\t\t});\r\n\r\n\t\t\treturn promise;\r\n\r\n\t\t};\r\n\r\n\t\tthis.confirmarToken = function (datos) {\r\n\r\n\t\t\tvar defered = $q.defer();\r\n\r\n\t\t\tvar promise = defered.promise;\r\n\r\n\t\t\t$http.get(\"/app/recuperar-password/\" + datos)\r\n\t\t\t\t.then(function (res) {\r\n\t\t\t\t\tdefered.resolve(res);\r\n\t\t\t\t})\r\n\t\t\t\t.catch(function (res) {\r\n\t\t\t\t\tdefered.reject(res);\r\n\t\t\t\t});\r\n\r\n\t\t\treturn promise;\r\n\r\n\t\t};\r\n\r\n\t\tthis.cambiarContrasena = function (datos) {\r\n\r\n\t\t\tvar defered = $q.defer();\r\n\r\n\t\t\tvar promise = defered.promise;\r\n\r\n\t\t\t$http.post(\"/app/cambiar-password\", datos)\r\n\t\t\t\t.then(function (res) {\r\n\t\t\t\t\tdefered.resolve(res);\r\n\t\t\t\t})\r\n\t\t\t\t.catch(function (res) {\r\n\t\t\t\t\tdefered.reject(res);\r\n\t\t\t\t});\r\n\r\n\t\t\treturn promise;\r\n\r\n\t\t};\r\n\r\n\t\tthis.verificarCambiaContrasena = function (datos) {\r\n\r\n\t\t\tvar defered = $q.defer();\r\n\r\n\t\t\tvar promise = defered.promise;\r\n\r\n\t\t\t$http.post(\"/app/cliente/cambiar-contrasena\", datos)\r\n\t\t\t\t.then(function (res) {\r\n\t\t\t\t\tdefered.resolve(res);\r\n\t\t\t\t})\r\n\t\t\t\t.catch(function (res) {\r\n\t\t\t\t\tdefered.reject(res);\r\n\t\t\t\t});\r\n\r\n\t\t\treturn promise;\r\n\r\n\t\t};\r\n\r\n\t\tthis.autorizado = function (emitir) {\r\n\r\n\t\t\tif (clienteDatosFactory.obtener()) {\r\n\r\n\t\t\t\tif (emitir) {\r\n\t\t\t\t\t$rootScope.$broadcast(\"sesionInicio\", \"true\");\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn clienteDatosFactory.obtener();\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif ($window.localStorage.getItem(\"bzToken\")) {\r\n\r\n\t\t\t\t\tclienteDatosFactory.definir(angular.fromJson($window.localStorage.getItem(\"bzToken\")));\r\n\r\n\t\t\t\t\tif (emitir) {\r\n\t\t\t\t\t\t$rootScope.$broadcast(\"sesionInicio\", \"true\");\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn clienteDatosFactory.obtener();\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t\tthis.salir = function (emitir, desactivarAlerta) {\r\n\r\n\t\t\t$window.localStorage.removeItem(\"bzToken\");\r\n\t\t\tclienteDatosFactory.eliminar();\r\n\r\n\t\t\tif (emitir) {\r\n\r\n\t\t\t\t$rootScope.$broadcast(\"sesionExpiro\");\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (!desactivarAlerta) {\r\n\t\t\t\talert(\"Alerta Sesion Expiro\");\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tthis.pais = function () {\r\n\r\n\t\t\tvar defered = $q.defer();\r\n\r\n\t\t\tvar promise = defered.promise;\r\n\r\n\t\t\t$http.get(\"/app/pais\")\r\n\r\n\t\t\t\t.then(function (res) {\r\n\r\n\t\t\t\t\tdefered.resolve(res.data);\r\n\r\n\t\t\t\t})\r\n\t\t\t\t.catch(function () {\r\n\r\n\t\t\t\t\tdefered.reject();\r\n\t\t\t\t});\r\n\r\n\t\t\treturn promise;\r\n\r\n\t\t};\r\n\r\n\t\tthis.datos = function () {\r\n\r\n\t\t\tvar defered = $q.defer();\r\n\r\n\t\t\tvar promise = defered.promise;\r\n\r\n\t\t\t$http.get(\"/app/cliente/datos\")\r\n\r\n\t\t\t\t.then(function (res) {\r\n\r\n\t\t\t\t\tdefered.resolve(res.data);\r\n\r\n\t\t\t\t})\r\n\t\t\t\t.catch(function () {\r\n\r\n\t\t\t\t\tdefered.reject();\r\n\t\t\t\t});\r\n\r\n\t\t\treturn promise;\r\n\r\n\t\t};\r\n\r\n\r\n\t\tthis.modificar = function (nombreCliente, telefono, pais) {\r\n\r\n\t\t\tvar defered = $q.defer();\r\n\r\n\t\t\tvar promise = defered.promise;\r\n\r\n\t\t\t$http.post(\"/app/cliente/modificar\", {\r\n\t\t\t\ttelefono: telefono,\r\n\t\t\t\tnombreCliente: nombreCliente,\r\n\t\t\t\tpais: pais\r\n\t\t\t})\r\n\r\n\t\t\t\t.then(function (res) {\r\n\r\n\t\t\t\t\tdefered.resolve(res.data);\r\n\r\n\t\t\t\t})\r\n\t\t\t\t.catch(function () {\r\n\r\n\t\t\t\t\tdefered.reject();\r\n\t\t\t\t});\r\n\r\n\t\t\treturn promise;\r\n\t\t};\r\n\r\n\t\tthis.avatar = function (imagen) {\r\n\t\t\tvar defered = $q.defer();\r\n\t\t\tvar promise = defered.promise;\r\n\r\n\t\t\tUpload.upload({\r\n\t\t\t\turl: \"/app/cliente/avatar\",\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tavatar: imagen\r\n\t\t\t\t},\r\n\t\t\t}).then(function (res) {\r\n\r\n\t\t\t\tdefered.resolve(res.data.foto);\r\n\r\n\t\t\t}).catch(function () {\r\n\r\n\t\t\t});\r\n\r\n\t\t\treturn promise;\r\n\t\t};\r\n\r\n\t\tthis.correoDisponible = function (correo) {\r\n\t\t\tvar defered = $q.defer();\r\n\t\t\tvar promise = defered.promise;\r\n\r\n\t\t\t$http.post(\"/app/cliente/email\", {\r\n\t\t\t\temail: correo\r\n\t\t\t})\r\n\r\n\t\t\t\t.then(function () {\r\n\t\t\t\t\tdefered.reject();\r\n\t\t\t\t})\r\n\t\t\t\t.catch(function (res) {\r\n\t\t\t\t\tif (res.status == 404) {\r\n\t\t\t\t\t\tdefered.resolve();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tdefered.reject();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\treturn promise;\r\n\t\t};\r\n\r\n\t}])\r\n\r\n\t/*--------------------------- Factories aislados ------------------*/\r\n\r\n\t.factory(\"compararLogosFactory\", [function () {\r\n\r\n\t\tvar logos = {\r\n\r\n\t\t\tcomparar: [],\r\n\t\t\tcomprar: \"\"\r\n\r\n\t\t};\r\n\r\n\t\tvar informacion = {\r\n\r\n\t\t\tdefinir: function (valor, tipo) {\r\n\r\n\t\t\t\tif (tipo == \"comprar\") {\r\n\r\n\t\t\t\t\tlogos.comprar = valor;\r\n\r\n\t\t\t\t} else if (tipo == \"comparar\")\r\n\r\n\t\t\t\t{\r\n\t\t\t\t\tlogos.comparar.push(valor);\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\tobtener: function (tipo) {\r\n\r\n\t\t\t\tif (tipo == \"comprar\") {\r\n\r\n\t\t\t\t\treturn logos.comprar;\r\n\r\n\t\t\t\t} else if (tipo == \"comparar\") {\r\n\t\t\t\t\treturn logos.comparar;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t\treturn informacion;\r\n\r\n\t}])\r\n\r\n\t.factory(\"compartirFactory\", [function () {\r\n\t\tvar estados = [];\r\n\t\tvar informacion = {\r\n\t\t\tdefinir: function (nombre, valor) {\r\n\t\t\t\testados[nombre] = valor;\r\n\t\t\t},\r\n\t\t\tobtener: function (nombre) {\r\n\t\t\t\treturn estados[nombre];\r\n\t\t\t}\r\n\t\t};\r\n\t\treturn informacion;\r\n\t}])\r\n\r\n\t.factory(\"crearLogoFactory\", [function () {\r\n\r\n\t\treturn function (iconos, fuentes) {\r\n\r\n\t\t\tvar logos = [];\r\n\t\t\t/*\r\n\t\t\tangular.forEach(fuentes, function (fuente) {\r\n\r\n\t\t\t\tangular.forEach(iconos, function (icono) {\r\n\r\n\t\t\t\t\t//if (icono.estado == true) {\r\n\r\n\t\t\t\t\tvar logo = {\r\n\t\t\t\t\t\ticono: icono,\r\n\t\t\t\t\t\tfuente: fuente\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tlogos.push(logo);\r\n\t\t\t\t\t//}\r\n\t\t\t\t});\r\n\r\n\t\t\t});\r\n\r\n\t\t\t*/\r\n\r\n\t\t\tangular.forEach(iconos, function(icono, indice){\r\n\r\n\t\t\t\tvar logo = {\r\n\t\t\t\t\ticono: iconos[indice],\r\n\t\t\t\t\tfuente: fuentes[indice]\r\n\t\t\t\t};\r\n\r\n\t\t\t\tlogos.push(logo);\r\n\r\n\t\t\t});\r\n\r\n\t\t\treturn logos;\r\n\r\n\t\t};\r\n\r\n\t}])\r\n\r\n\t.factory(\"LS\", [\"$window\", function ($window) {\r\n\t\treturn {\r\n\t\t\tdefinir: function (llave, valor) {\r\n\r\n\t\t\t\t$window.localStorage.setItem(llave, angular.toJson(valor));\r\n\r\n\t\t\t},\r\n\t\t\tobtener: function (llave) {\r\n\r\n\t\t\t\treturn angular.fromJson($window.localStorage.getItem(llave));\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t}])\r\n\r\n\r\n\r\n\t/*********************/\r\n\t/***** Logos *********/\r\n\t/*********************/\r\n\r\n\t.service(\"logosService\", [\"$http\", \"$q\", \"$httpParamSerializer\", function ($http, $q, $httpParamSerializer) {\r\n\r\n\t\tthis.calificar = function (idLogo, calificacion, comentario) {\r\n\r\n\t\t\tvar defered = $q.defer();\r\n\r\n\t\t\tvar promise = defered.promise;\r\n\r\n\t\t\tvar datos = {\r\n\t\t\t\tcalificacion: calificacion,\r\n\t\t\t\tcomentario: comentario,\r\n\t\t\t\tidLogo: idLogo\r\n\t\t\t};\r\n\r\n\t\t\t$http.post(\"/app/logo/calificar-cliente\", datos).then(function (res) {\r\n\r\n\t\t\t\tdefered.resolve(res.data);\r\n\r\n\t\t\t}).catch(function (res) {\r\n\r\n\t\t\t\tdefered.reject(res);\r\n\r\n\t\t\t});\r\n\r\n\t\t\treturn promise;\r\n\r\n\t\t};\r\n\r\n\t\tthis.guardarLogo = function (logo, tipoLogo, idElemento, fuentePrincipalId, fuenteEsloganId, logoPadreId) {\r\n\r\n\t\t\tvar defered = $q.defer();\r\n\r\n\t\t\tvar promise = defered.promise;\r\n\r\n\t\t\tvar datos = {\r\n\t\t\t\tlogo: logo,\r\n\t\t\t\ttipoLogo: tipoLogo,\r\n\t\t\t\tidElemento: idElemento,\r\n\t\t\t\tatributos: {\r\n\t\t\t\t\tprincipal: fuentePrincipalId\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tif (fuenteEsloganId) {\r\n\t\t\t\tdatos.atributos.eslogan = fuenteEsloganId;\r\n\t\t\t}\r\n\r\n\t\t\tif (logoPadreId) {\r\n\t\t\t\tdatos.atributos.padre = logoPadreId;\r\n\t\t\t}\r\n\r\n\t\t\t$http.post(\"/app/logo/guardar\", datos).then(function (res) {\r\n\r\n\t\t\t\tdefered.resolve(res.data.insertId);\r\n\r\n\t\t\t}).catch(function (res) {\r\n\r\n\t\t\t\tdefered.reject(res);\r\n\r\n\t\t\t});\r\n\r\n\t\t\treturn promise;\r\n\r\n\t\t};\r\n\r\n\t\tthis.modificarLogo = function (logo, idlogo, fuentePrincipalId, fuenteEsloganId) {\r\n\r\n\t\t\tvar defered = $q.defer();\r\n\r\n\t\t\tvar promise = defered.promise;\r\n\r\n\t\t\tvar datos = {\r\n\t\t\t\tlogo: logo,\r\n\t\t\t\tidLogo: idlogo,\r\n\t\t\t\tatributos: {\r\n\t\t\t\t\tprincipal: fuentePrincipalId\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tif (fuenteEsloganId) {\r\n\t\t\t\tdatos.atributos.eslogan = fuenteEsloganId;\r\n\t\t\t}\r\n\r\n\t\t\t$http.post(\"/app/logo/modificar\", datos).then(function (res) {\r\n\r\n\t\t\t\tdefered.resolve(res.data);\r\n\r\n\t\t\t}).catch(function (res) {\r\n\r\n\t\t\t\tdefered.reject(res);\r\n\r\n\t\t\t});\r\n\r\n\t\t\treturn promise;\r\n\r\n\t\t};\r\n\r\n\t\tthis.mostrarGuardados = function () {\r\n\r\n\t\t\tvar defered = $q.defer();\r\n\r\n\t\t\tvar promise = defered.promise;\r\n\r\n\t\t\t$http.post(\"/app/logos/guardados/\").then(function (res) {\r\n\r\n\t\t\t\tdefered.resolve(res.data);\r\n\r\n\t\t\t}).catch(function () {\r\n\r\n\t\t\t\tdefered.reject();\r\n\r\n\t\t\t});\r\n\r\n\t\t\treturn promise;\r\n\r\n\t\t};\r\n\r\n\t\tthis.mostrarComprados = function () {\r\n\r\n\t\t\tvar defered = $q.defer();\r\n\r\n\t\t\tvar promise = defered.promise;\r\n\r\n\t\t\t$http.post(\"/app/logos/descargables/\").then(function (res) {\r\n\r\n\t\t\t\tdefered.resolve(res.data);\r\n\r\n\t\t\t}).catch(function () {\r\n\r\n\t\t\t\tdefered.reject();\r\n\r\n\t\t\t});\r\n\r\n\t\t\treturn promise;\r\n\r\n\t\t};\r\n\r\n\t\tthis.mostrarAprobados = function (idLogo) {\r\n\r\n\t\t\tvar defered = $q.defer();\r\n\r\n\t\t\tvar promise = defered.promise;\r\n\r\n\t\t\tvar datos = {};\r\n\r\n\t\t\tif (idLogo) {\r\n\r\n\t\t\t\tdatos.idLogo = idLogo;\r\n\t\t\t}\r\n\r\n\t\t\t$http.post(\"/app/logos/aprobados\", datos).then(function (res) {\r\n\r\n\t\t\t\tdefered.resolve(res.data);\r\n\r\n\r\n\t\t\t}).catch(function (res) {\r\n\r\n\t\t\t\tdefered.reject(res);\r\n\r\n\t\t\t});\r\n\r\n\t\t\treturn promise;\r\n\r\n\t\t};\r\n\r\n\t\tthis.mostrarDestacados = function () {\r\n\r\n\t\t\tvar defered = $q.defer();\r\n\r\n\t\t\tvar promise = defered.promise;\r\n\r\n\t\t\t$http.post(\"/app/logos/aprobados/destacados\").then(function (res) {\r\n\r\n\t\t\t\tdefered.resolve(res.data);\r\n\r\n\t\t\t}).catch(function (res) {\r\n\r\n\t\t\t\tdefered.reject(res);\r\n\r\n\t\t\t});\r\n\r\n\t\t\treturn promise;\r\n\r\n\t\t};\r\n\r\n\t\tthis.descargarLogo = function (idLogo, ancho, nombre, tipo, plantilla) {\r\n\r\n\t\t\tvar defered = $q.defer();\r\n\r\n\t\t\tvar promise = defered.promise;\r\n\r\n\t\t\tvar datos = {\r\n\t\t\t\tidLogo: idLogo,\r\n\t\t\t\tancho: ancho,\r\n\t\t\t\tdescarga: nombre,\r\n\t\t\t\ttipo: tipo,\r\n\t\t\t\tplantilla: plantilla\r\n\t\t\t};\r\n\r\n\t\t\t$http.get(\"/app/logo/zip/\", {\r\n\t\t\t\tparams: datos,\r\n\t\t\t\tresponseType: \"arraybuffer\"\r\n\t\t\t}).then(function (res) {\r\n\r\n\t\t\t\tdefered.resolve({\r\n\t\t\t\t\tdata: res.data,\r\n\t\t\t\t\theaders: res.headers()\r\n\t\t\t\t});\r\n\r\n\t\t\t}).catch(function (res) {\r\n\r\n\t\t\t\tdefered.reject(res);\r\n\r\n\t\t\t});\r\n\r\n\t\t\treturn promise;\r\n\r\n\t\t};\r\n\r\n\t\tthis.descargarTodo = function (idLogo, formatosPNG) {\r\n\r\n\t\t\tvar defered = $q.defer();\r\n\r\n\t\t\tvar promise = defered.promise;\r\n\r\n\t\t\tvar datos = {\r\n\t\t\t\tidLogo: idLogo,\r\n\t\t\t\tformatos: formatosPNG\r\n\t\t\t};\r\n\r\n\t\t\t$http.get(\"/app/logo/descargar/\", {\r\n\t\t\t\tparams: datos,\r\n\t\t\t\tresponseType: \"arraybuffer\"\r\n\t\t\t}).then(function (res) {\r\n\r\n\t\t\t\tdefered.resolve({\r\n\t\t\t\t\tdata: res.data,\r\n\t\t\t\t\theaders: res.headers()\r\n\t\t\t\t});\r\n\r\n\t\t\t}).catch(function (res) {\r\n\r\n\t\t\t\tdefered.reject(res);\r\n\r\n\t\t\t});\r\n\r\n\t\t\treturn promise;\r\n\r\n\t\t};\r\n\r\n\t\tthis.obtenerPorId = function (idLogo) {\r\n\r\n\t\t\tvar defered = $q.defer();\r\n\r\n\t\t\tvar promise = defered.promise;\r\n\r\n\t\t\t$http.get(\"/app/logo/\" + idLogo).then(function (res) {\r\n\r\n\t\t\t\tdefered.resolve(res.data);\r\n\r\n\t\t\t}).catch(function () {\r\n\r\n\t\t\t\tdefered.reject();\r\n\r\n\t\t\t});\r\n\r\n\t\t\treturn promise;\r\n\r\n\t\t};\r\n\r\n\t\tthis.borrarLogo = function (idLogo) {\r\n\r\n\r\n\t\t\tvar defered = $q.defer();\r\n\r\n\t\t\tvar promise = defered.promise;\r\n\r\n\r\n\t\t\t$http.get(\"/app/logo/borrar/\" + idLogo).then(function (res) {\r\n\r\n\t\t\t\tdefered.resolve(res.data);\r\n\r\n\t\t\t}).catch(function () {\r\n\r\n\t\t\t\tdefered.reject();\r\n\r\n\t\t\t});\r\n\r\n\t\t\treturn promise;\r\n\r\n\t\t};\r\n\r\n\t\tthis.manualMarca = function (id) {\r\n\r\n\t\t\tvar defered = $q.defer();\r\n\r\n\t\t\tvar promise = defered.promise;\r\n\r\n\t\t\t$http.get(\"/app/cliente/manual/\" + id).then(function (res) {\r\n\r\n\t\t\t\tdefered.resolve(res.data);\r\n\r\n\t\t\t}).catch(function (res) {\r\n\r\n\t\t\t\tdefered.reject(res);\r\n\r\n\t\t\t});\r\n\r\n\t\t\treturn promise;\r\n\r\n\t\t};\r\n\r\n\r\n\t\tthis.enviarPorEmail = function (idLogo, email, url) {\r\n\r\n\t\t\tvar defered = $q.defer();\r\n\t\t\tvar promise = defered.promise;\r\n\r\n\t\t\t$http.post(\"/app/logo/compartir-email\", {\r\n\t\t\t\tidLogo: idLogo,\r\n\t\t\t\temail: email,\r\n\t\t\t\turl: url\r\n\t\t\t})\r\n\t\t\t\t.then(function (res) {\r\n\t\t\t\t\tdefered.resolve(res.data);\r\n\t\t\t\t}).catch(function (res) {\r\n\t\t\t\t\tdefered.reject(res);\r\n\t\t\t\t});\r\n\r\n\t\t\treturn promise;\r\n\r\n\t\t};\r\n\r\n\t}])\r\n\r\n\t/*********************/\r\n\t/***** planes ********/\r\n\t/*********************/\r\n\r\n\t.service(\"planesService\", [\"$http\", \"$q\", function ($http, $q) {\r\n\r\n\t\tthis.listar = function () {\r\n\r\n\t\t\tvar defered = $q.defer();\r\n\t\t\tvar promise = defered.promise;\r\n\r\n\t\t\t$http.get(\"/app/planesAll\").then(function (res) {\r\n\t\t\t\tdefered.resolve(res.data);\r\n\t\t\t}).catch(function (res) {\r\n\t\t\t\tdefered.reject(res);\r\n\t\t\t});\r\n\t\t\treturn promise;\r\n\t\t};\r\n\r\n\t\tthis.porLogo = function (idLogo) {\r\n\r\n\t\t\tvar defered = $q.defer();\r\n\t\t\tvar promise = defered.promise;\r\n\r\n\t\t\t$http.post(\"/app/logo/plan/caracteristicas\", {\r\n\t\t\t\tidLogo: idLogo\r\n\t\t\t})\r\n\t\t\t\t.then(function (res) {\r\n\t\t\t\t\tdefered.resolve(res.data);\r\n\t\t\t\t}).catch(function (res) {\r\n\t\t\t\t\tdefered.reject(res);\r\n\t\t\t\t});\r\n\r\n\t\t\treturn promise;\r\n\r\n\t\t};\r\n\r\n\r\n\t\tthis.aumentarPlan = function (idPlan) {\r\n\r\n\t\t\tvar defered = $q.defer();\r\n\r\n\t\t\tvar promise = defered.promise;\r\n\r\n\t\t\t$http.post(\"/app/planes/aumentar\", {\r\n\t\t\t\tidPlan: idPlan\r\n\t\t\t})\r\n\t\t\t\t.then(function (res) {\r\n\r\n\t\t\t\t\tdefered.resolve(res.data);\r\n\r\n\t\t\t\t}).catch(function (res) {\r\n\r\n\t\t\t\t\tdefered.reject(res);\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\treturn promise;\r\n\r\n\t\t};\r\n\r\n\t\tthis.aumentarPedidoPlan = function (datos) {\r\n\r\n\t\t\tvar defered = $q.defer();\r\n\r\n\t\t\tvar promise = defered.promise;\r\n\r\n\t\t\t$http.post(\"/app/pedido/aumentar\", datos)\r\n\t\t\t\t.then(function (res) {\r\n\r\n\t\t\t\t\tdefered.resolve(res.data);\r\n\r\n\t\t\t\t}).catch(function (res) {\r\n\r\n\t\t\t\t\tdefered.reject(res);\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\treturn promise;\r\n\r\n\t\t};\r\n\r\n\t}])\r\n\r\n\r\n\t.factory(\"AuthInterceptor\", function ($window, $q, $rootScope, clienteDatosFactory) {\r\n\t\tfunction salir() {\r\n\t\t\t$window.localStorage.removeItem(\"bzToken\");\r\n\t\t\tclienteDatosFactory.eliminar();\r\n\t\t\t$rootScope.$broadcast(\"sesionExpiro\", \"true\");\r\n\t\t}\r\n\r\n\t\tfunction autorizado() {\r\n\t\t\tif (clienteDatosFactory.obtener()) {\r\n\t\t\t\t//$rootScope.$broadcast('sesionInicio', \"true\")\r\n\t\t\t\treturn clienteDatosFactory.obtener();\r\n\t\t\t} else {\r\n\t\t\t\tif ($window.localStorage.getItem(\"bzToken\")) {\r\n\r\n\t\t\t\t\tclienteDatosFactory.definir(angular.fromJson($window.localStorage.getItem(\"bzToken\")));\r\n\t\t\t\t\t//$rootScope.$broadcast('sesionInicio', \"true\")\r\n\t\t\t\t\treturn clienteDatosFactory.obtener();\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn {\r\n\t\t\trequest: function (config) {\r\n\r\n\r\n\t\t\t\tconfig.headers = config.headers || {};\r\n\t\t\t\tif (autorizado()) {\r\n\t\t\t\t\tconfig.headers.auth = autorizado().token;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn config || $q.when(config);\r\n\r\n\r\n\t\t\t},\r\n\t\t\tresponse: function (response) {\r\n\r\n\t\t\t\treturn response || $q.when(response);\r\n\t\t\t},\r\n\r\n\t\t\tresponseError: function (response) {\r\n\r\n\t\t\t\tif (response.status === 401 || response.status === 403) {\r\n\t\t\t\t\tsalir();\r\n\r\n\t\t\t\t}\r\n\t\t\t\treturn $q.reject(response);\r\n\r\n\t\t\t}\r\n\t\t};\r\n\t})\r\n\r\n\t.factory(\"arrayToJsonMetasFactory\", [function () {\r\n\r\n\t\treturn function (arrayMetas) {\r\n\r\n\t\t\tvar jsonMetas = {};\r\n\r\n\t\t\tangular.forEach(arrayMetas, function (meta) {\r\n\r\n\t\t\t\tjsonMetas[meta.clave] = meta.valor;\r\n\r\n\t\t\t});\r\n\r\n\t\t\treturn jsonMetas;\r\n\r\n\t\t};\r\n\r\n\t}])\r\n\r\n\t.factory(\"mostrarPopAyudaFactory\", [\"$rootScope\", function ($rootScope) {\r\n\r\n\t\treturn function (indice) {\r\n\r\n\t\t\t$rootScope.$broadcast(\"bazamAyuda:mostrar\", {\r\n\t\t\t\tindice: indice\r\n\t\t\t});\r\n\r\n\t\t};\r\n\r\n\t}])\r\n\r\n\t.factory(\"mostrarPasoPopAyudaFactory\", [\"$rootScope\", function ($rootScope) {\r\n\r\n\t\tvar accion = true;\r\n\r\n\t\treturn function () {\r\n\t\t\t$rootScope.$broadcast(\"bazamPasoAyuda:mostrar\", accion);\r\n\r\n\t\t\taccion = !accion;\r\n\t\t};\r\n\r\n\t}])\r\n\r\n\t.factory(\"verificarBase64Factory\", [function () {\r\n\r\n\t\treturn function (cadena) {\r\n\r\n\t\t\treturn /^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{4}|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)$/.test(cadena);\r\n\r\n\t\t};\r\n\t}])\r\n\r\n\t.factory(\"fontFactory\", [\"$document\", function ($document) {\r\n\r\n\r\n\r\n\t\treturn {\r\n\t\t\tcheck: function (fuente) {\r\n\r\n\t\t\t\tif (!$document[0].fonts) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn $document[0].fonts.check(\"200px \" + fuente);\r\n\t\t\t},\r\n\t\t\tload: function (fuente, url) {\r\n\r\n\t\t\t\tif (!$document[0].fonts) {\r\n\t\t\t\t\tvar nombreFuente = fuente.replace(/\\s/g, \"-\");\r\n\t\t\t\t\tif (!angular.element(\".\" + nombreFuente).length) {\r\n\t\t\t\t\t\tangular.element(\"html head\").append(\"<style class='\" + nombreFuente + \"'>@font-face {font-family: \" + fuente + \";src: url('\" + url + \"');}</style>\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar newFuente = new FontFace(fuente, \"url(\" + url + \")\");\r\n\r\n\t\t\t\t$document[0].fonts.add(newFuente);\r\n\r\n\t\t\t\treturn newFuente.load();\r\n\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t}])\r\n\r\n\t.service(\"fontService\", [\"$q\", \"$document\", \"fontFactory\", \"$timeout\", function ($q, $document, fontFactory, $timeout) {\r\n\r\n\t\tthis.preparar = function (fuente, url) {\r\n\r\n\t\t\tif(!url){\r\n\t\t\t\turl = \"/fuentes/\"+fuente+\".ttf\";\r\n\t\t\t}\r\n\r\n\t\t\tvar defered = $q.defer();\r\n\t\t\tvar promise = defered.promise;\r\n\r\n\t\t\tif (fontFactory.check(fuente)) {\r\n\r\n\t\t\t\tdefered.resolve({\r\n\t\t\t\t\tfuente: fuente,\r\n\t\t\t\t\turl: url\r\n\t\t\t\t});\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t$q.race([$timeout(function () {\r\n\t\t\t\t\treturn \"exceso\";\r\n\t\t\t\t}, 10000), fontFactory.load(fuente, url)])\r\n\t\t\t\t\t.then(function (res) {\r\n\t\t\t\t\t\tif (res === \"exceso\") {\r\n\t\t\t\t\t\t\tdefered.reject();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tdefered.resolve({\r\n\t\t\t\t\t\t\t\tfuente: fuente,\r\n\t\t\t\t\t\t\t\turl: url\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function (res) {\r\n\t\t\t\t\t\tdefered.reject(res);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn promise;\r\n\t\t};\r\n\r\n\t\tthis.agregarGeneral = function (fuentes) {\r\n\r\n\t\t\tvar fontService = this;\r\n\r\n\t\t\tangular.forEach(fuentes, function (fuente) {\r\n\t\t\t\tfontService.preparar(fuente.nombre, fuente.url)\r\n\t\t\t\t\t.catch(function (res) {\r\n\t\t\t\t\t\t//console.log(res)\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t};\r\n\r\n\t}])\r\n\t.service(\"papeleriaService\", [\"$q\", \"$http\",  function($q, $http){\r\n\r\n\t\tthis.listarPorCliente =  function(){\r\n\t\t\tvar defered = $q.defer();\r\n\t\t\tvar promise = defered.promise;\r\n\t\t\t\t\r\n\t\t\t$http.get(\"/app/papeleria/usuario\")\r\n\t\t\t\t.then(function(res){\r\n\t\t\t\t\tdefered.resolve(res.data);\r\n\t\t\t\t})\r\n\t\t\t\t.catch(function(){\r\n\t\t\t\t\tdefered.reject();\r\n\t\t\t\t})\r\n\t\t\t\t.finally(function(){\r\n\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\treturn promise;\r\n\t\t};\r\n\r\n\t\tthis.listarPorClienteYlogo =  function(id){\r\n\t\t\tvar defered = $q.defer();\r\n\t\t\tvar promise = defered.promise;\r\n\t\t\t\t\r\n\t\t\t$http.get(\"/app/papeleria/logo/\"+id)\r\n\t\t\t\t.then(function(res){\r\n\t\t\t\t\tdefered.resolve(res.data);\r\n\t\t\t\t})\r\n\t\t\t\t.catch(function(){\r\n\t\t\t\t\tdefered.reject();\r\n\t\t\t\t})\r\n\t\t\t\t.finally(function(){\r\n\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\treturn promise;\r\n\t\t};\r\n\r\n\t\tthis.piezas = {\r\n\t\t\tguardar: function(tipo, modelo, pieza){\r\n\t\t\t\tvar defered = $q.defer();\r\n\t\t\t\tvar promise = defered.promise;\r\n\t\t\t\t\r\n\t\t\t\t$http.post(\"/app/papeleria/pieza\", {\r\n\t\t\t\t\ttipo: tipo,\r\n\t\t\t\t\tmodelo: modelo,\r\n\t\t\t\t\tpieza: pieza\r\n\t\t\t\t})\r\n\t\t\t\t\t.then(function(res){\r\n\t\t\t\t\t\tdefered.resolve(res.data);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function(){\r\n\t\t\t\t\t\tdefered.reject();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.finally(function(){\r\n\r\n\t\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\treturn promise;\r\n\t\t\t},\r\n\t\t\teliminar: function(idPieza){\r\n\t\t\t\tvar defered = $q.defer();\r\n\t\t\t\tvar promise = defered.promise;\r\n\t\t\t\t\r\n\t\t\t\t$http.get(\"/app/papeleria/pieza/\"+idPieza+\"/eliminar\")\r\n\t\t\t\t\t.then(function(res){\r\n\t\t\t\t\t\tdefered.resolve(res.data);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function(){\r\n\t\t\t\t\t\tdefered.reject();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.finally(function(){\r\n\r\n\t\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\treturn promise;\r\n\t\t\t},\r\n\t\t\tdescargar: function(id, idlogo){\r\n\t\t\t\tvar defered = $q.defer();\r\n\t\t\t\tvar promise = defered.promise;\r\n\r\n\t\t\t\tlet datos = {_id : id, idLogo: idlogo};\r\n\t\t\t\t\r\n\t\t\t\t$http.post(\"/app/papeleria/descargar\", datos)\r\n\t\t\t\t\t.then(function(res){\r\n\t\t\t\t\t\tdefered.resolve(res.data);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function(){\r\n\t\t\t\t\t\tdefered.reject();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.finally(function(){\r\n\r\n\t\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\treturn promise;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\r\n\t}]);\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/services.js?");

/***/ }),

/***/ "./public/creador-de-logos/index.js":
/*!******************************************!*\
  !*** ./public/creador-de-logos/index.js ***!
  \******************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _app_app_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./app/app.js */ \"./public/creador-de-logos/app/app.js\");\n/* harmony import */ var _app_app_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_app_app_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _app_controllers_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./app/controllers/index.js */ \"./public/creador-de-logos/app/controllers/index.js\");\n/* harmony import */ var _app_directives_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app/directives/index.js */ \"./public/creador-de-logos/app/directives/index.js\");\n/* harmony import */ var _app_services_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/services.js */ \"./public/creador-de-logos/app/services.js\");\n/* harmony import */ var _app_services_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_app_services_js__WEBPACK_IMPORTED_MODULE_3__);\n// App\r\n\r\n\r\n\r\n// Controladores\r\n\r\n\r\n\r\n// Directivas\r\n\r\n\r\n\r\n// Servicios\r\n\r\n\n\n//# sourceURL=webpack:///./public/creador-de-logos/index.js?");

/***/ })

/******/ });