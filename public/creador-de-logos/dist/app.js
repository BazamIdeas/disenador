/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./public/creador-de-logos/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./public/creador-de-logos/app/app.js":
/*!********************************************!*\
  !*** ./public/creador-de-logos/app/app.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("angular.module(\"disenador-de-logos\", [\"ngMessages\", \"ui.router\", \"ngAnimate\", \"ngAria\", \"ngMaterial\", \"base64\", \"colorpicker\", \"720kb.socialshare\", \"ngFileUpload\"])\n\n\t.config(function ($stateProvider, $httpProvider, $urlRouterProvider, $locationProvider, $mdToastProvider) {\n\n\t\t$locationProvider.html5Mode(true);\n\n\t\t/* INTERCEPTADOR */\n\t\t$httpProvider.interceptors.push(\"AuthInterceptor\");\n\n\t\t$mdToastProvider.addPreset(\"base\", {\n\t\t\toptions: function () {\n\t\t\t\treturn {\n\t\t\t\t\ttemplateUrl: \"toast-base.html\",\n\t\t\t\t\thideDelay: 0,\n\t\t\t\t\tposition: \"top right\",\n\t\t\t\t\tcontroller: [\"$scope\", \"$mdToast\", \"$timeout\", \"args\", function ($scope, $mdToast, $timeout, args) {\n\n\t\t\t\t\t\tif (args) {\n\n\t\t\t\t\t\t\t$scope.mensaje = args.mensaje;\n\n\t\t\t\t\t\t\t$scope.clase = args.clase;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar temporizador = $timeout(function () {\n\t\t\t\t\t\t\t$mdToast.hide();\n\t\t\t\t\t\t}, 3000);\n\n\t\t\t\t\t\t$scope.closeToast = function () {\n\t\t\t\t\t\t\t$timeout.cancel(temporizador);\n\t\t\t\t\t\t\t$mdToast.hide();\n\n\t\t\t\t\t\t};\n\t\t\t\t\t}],\n\t\t\t\t\tclickOutsideToClose: true\n\t\t\t\t};\n\t\t\t}\n\t\t});\n\n\n\t\t/*------------------------ Ui router states ----------------------*/\n\n\n\t\t$stateProvider\n\n\t\t\t.state({\n\t\t\t\tname: \"inicio\",\n\t\t\t\turl: \"/?datos\",\n\t\t\t\ttemplateUrl: \"app/views/inicio.tpl\",\n\t\t\t\tcontroller: \"inicioController as inicio\",\n\t\t\t\tresolve: {\n\t\t\t\t\tlandingResolve: [\"LS\", \"$stateParams\", function (LS, $stateParams) {\n\n\t\t\t\t\t\t/* Si es un logo compartido por url */\n\t\t\t\t\t\t\n\t\t\t\t\t\tif ($stateParams.datos) {\n\t\t\t\t\t\t\treturn angular.fromJson(decodeURI($stateParams.datos));\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/* Si el cliente viene de la landing */\n\n\t\t\t\t\t\tvar datosLanding = LS.obtener(\"comenzar\");\n\n\t\t\t\t\t\tif (datosLanding) {\n\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tdatos: {\n\t\t\t\t\t\t\t\t\tnombre: datosLanding.nombre,\n\t\t\t\t\t\t\t\t\tcategoria: {\n\t\t\t\t\t\t\t\t\t\ticono: datosLanding.idCategoria,\n\t\t\t\t\t\t\t\t\t\tfuente: datosLanding.idFuente\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\ttags: datosLanding.etiquetasParaBusqueda,\n\t\t\t\t\t\t\t\t\tetiquetasSeleccionadas: datosLanding.etiquetasSeleccionadas,\n\t\t\t\t\t\t\t\t\tpreferencias: datosLanding.preferencias\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tpalettesCopy: datosLanding.palettesCopy,\n\t\t\t\t\t\t\t\ticonos: datosLanding.iconos,\n\t\t\t\t\t\t\t\tfuentes: datosLanding.fuentes\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}]\n\t\t\t\t}\n\t\t\t})\n\t\t\t.state({\n\t\t\t\tname: \"editor\",\n\t\t\t\turl: \"/editor/\",\n\t\t\t\ttemplateUrl: \"app/views/editor.tpl\",\n\t\t\t\tcontroller: \"editorController as editor\",\n\t\t\t\tparams: {\n\t\t\t\t\tstatus: null,\n\t\t\t\t\tdatos: {\n\t\t\t\t\t\tlogo: null,\n\t\t\t\t\t\ttexto: null,\n\t\t\t\t\t\tfuentes: null,\n\t\t\t\t\t\tidLogoGuardado: null\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tresolve: {\n\t\t\t\t\t/*currentAuth: [\"$q\", \"clientesService\", function ($q, clientesService) {\n\n\t\t\t\t\t\tif (!clientesService.autorizado()) {\n\n\t\t\t\t\t\t\treturn $q.reject(\"AUTH_REQUIRED\");\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}],*/\n\t\t\t\t\thistoricoResolve: [\"$q\", \"$stateParams\", \"LS\", function ($q, $stateParams, LS) {\n\n\t\t\t\t\t\tvar defered = $q.defer();\n\n\t\t\t\t\t\tvar promise = defered.promise;\n\n\t\t\t\t\t\tif ($stateParams.status) {\n\n\t\t\t\t\t\t\tLS.definir(\"editor\", $stateParams.datos);\n\n\t\t\t\t\t\t\tdefered.resolve($stateParams.datos);\n\n\t\t\t\t\t\t} else if (LS.obtener(\"editor\")) {\n\n\t\t\t\t\t\t\tdefered.resolve(LS.obtener(\"editor\"));\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tdefered.reject({\n\t\t\t\t\t\t\t\terror: \"FALLO_HISTORICO\"\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn promise;\n\n\t\t\t\t\t}]\n\n\t\t\t\t}\n\t\t\t})\n\n\t\t\t/* \n\t\t\t.state({\n\t\t\t\tname: \"planes\",\n\t\t\t\turl: \"/planes/\",\n\t\t\t\ttemplateUrl: \"app/views/planes.tpl\",\n\t\t\t\tcontroller: \"planesController as planes\",\n\t\t\t\tparams: {\n\t\t\t\t\tstatus: null,\n\t\t\t\t\tdatos: {\n\t\t\t\t\t\tlogo: null,\n\t\t\t\t\t\tidElemento: null,\n\t\t\t\t\t\ttipo: null,\n\t\t\t\t\t\tfuentes: null\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tresolve: {\n\t\t\t\t\tcurrentAuth: [\"$q\", \"clientesService\", function ($q, clientesService) {\n\n\t\t\t\t\t\tif (!clientesService.autorizado()) {\n\n\t\t\t\t\t\t\treturn $q.reject(\"AUTH_REQUIRED\");\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}],\n\t\t\t\t\thistoricoResolve: [\"$q\", \"$stateParams\", \"LS\", function ($q, $stateParams, LS) {\n\n\t\t\t\t\t\tvar defered = $q.defer();\n\n\t\t\t\t\t\tvar promise = defered.promise;\n\n\t\t\t\t\t\tif ($stateParams.status) {\n\n\t\t\t\t\t\t\tLS.definir(\"planes\", $stateParams.datos);\n\n\t\t\t\t\t\t\tdefered.resolve($stateParams.datos);\n\n\t\t\t\t\t\t} else if (LS.obtener(\"planes\")) {\n\n\t\t\t\t\t\t\tdefered.resolve(LS.obtener(\"planes\"));\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tdefered.reject({\n\t\t\t\t\t\t\t\terror: \"FALLO_HISTORICO\"\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn promise;\n\n\t\t\t\t\t}]\n\t\t\t\t}\n\t\t\t})\n*/\n\t\t\t.state({\n\t\t\t\tname: \"pago\",\n\t\t\t\turl: \"/pago/\",\n\t\t\t\ttemplateUrl: \"app/views/pago.tpl\",\n\t\t\t\tcontroller: \"pagoController as pago\",\n\t\t\t\tparams: {\n\t\t\t\t\tstatus: null,\n\t\t\t\t\tdatos: {\n\n\t\t\t\t\t\tlogo: null,\n\t\t\t\t\t\tidElemento: null,\n\t\t\t\t\t\ttipo: null,\n\t\t\t\t\t\tplan: {\n\t\t\t\t\t\t\tnombre: null,\n\t\t\t\t\t\t\tidPlan: null\n\t\t\t\t\t\t},\n\t\t\t\t\t\tprecio: {\n\t\t\t\t\t\t\tmoneda: {\n\t\t\t\t\t\t\t\tsimbolo: null,\n\t\t\t\t\t\t\t\tidMoneda: null\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tmonto: null,\n\t\t\t\t\t\t\tidPrecio: null\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tresolve: {\n\t\t\t\t\tcurrentAuth: [\"$q\", \"clientesService\", function ($q, clientesService) {\n\n\t\t\t\t\t\tif (!clientesService.autorizado()) {\n\n\t\t\t\t\t\t\treturn $q.reject(\"AUTH_REQUIRED\");\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}],\n\t\t\t\t\thistoricoResolve: [\"$q\", \"$stateParams\", function ($q, $stateParams) {\n\n\t\t\t\t\t\tvar defered = $q.defer();\n\n\t\t\t\t\t\tvar promise = defered.promise;\n\n\t\t\t\t\t\tif ($stateParams.status) {\n\n\t\t\t\t\t\t\tdefered.resolve($stateParams.datos);\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tdefered.reject({\n\t\t\t\t\t\t\t\terror: \"FALLO_HISTORICO\"\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn promise;\n\n\t\t\t\t\t}]\n\t\t\t\t}\n\t\t\t})\n\n\t\t\t.state({\n\t\t\t\tname: \"pagoCompleto\",\n\t\t\t\turl: \"/pago/completo/:id/\",\n\t\t\t\ttemplateUrl: \"app/views/pagoCompleto.tpl\",\n\t\t\t\tcontroller: \"pagoCompletoController as pagoCompleto\",\n\t\t\t\tresolve: {\n\t\t\t\t\tcurrentAuth: [\"$q\", \"clientesService\", function ($q, clientesService) {\n\n\t\t\t\t\t\tif (!clientesService.autorizado()) {\n\n\t\t\t\t\t\t\treturn $q.reject(\"AUTH_REQUIRED\");\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}]\n\t\t\t\t}\n\t\t\t})\n\n\t\t\t.state({\n\t\t\t\tname: \"cuenta\",\n\t\t\t\turl: \"/cliente/cuenta/\",\n\t\t\t\ttemplateUrl: \"app/views/cuenta.tpl\",\n\t\t\t\tcontroller: \"cuentaController as cuenta\",\n\t\t\t\tresolve: {\n\t\t\t\t\tcurrentAuth: [\"$q\", \"clientesService\", function ($q, clientesService) {\n\n\t\t\t\t\t\tif (!clientesService.autorizado()) {\n\n\t\t\t\t\t\t\treturn $q.reject(\"AUTH_REQUIRED\");\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}]\n\t\t\t\t}\n\t\t\t})\n\n\t\t\t.state({\n\t\t\t\tname: \"logos\",\n\t\t\t\turl: \"/cliente/logos/\",\n\t\t\t\ttemplateUrl: \"app/views/logos.tpl\",\n\t\t\t\tcontroller: \"logosController as logos\",\n\t\t\t\tresolve: {\n\t\t\t\t\tcurrentAuth: [\"$q\", \"clientesService\", function ($q, clientesService) {\n\n\t\t\t\t\t\tif (!clientesService.autorizado()) {\n\n\t\t\t\t\t\t\treturn $q.reject(\"AUTH_REQUIRED\");\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}]\n\t\t\t\t}\n\t\t\t})\n\n\t\t\t.state({\n\t\t\t\tname: \"descargar\",\n\t\t\t\turl: \"/cliente/logos/descargar/{id:int}/\",\n\t\t\t\ttemplateUrl: \"app/views/descargar.tpl\",\n\t\t\t\tcontroller: \"descargarController as descargar\",\n\t\t\t\tparams: {\n\t\t\t\t\tid: null\n\n\t\t\t\t},\n\t\t\t\tresolve: {\n\t\t\t\t\tcurrentAuth: [\"$q\", \"clientesService\", function ($q, clientesService) {\n\n\t\t\t\t\t\tif (!clientesService.autorizado()) {\n\n\t\t\t\t\t\t\treturn $q.reject(\"AUTH_REQUIRED\");\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}],\n\t\t\t\t\tlogoResolve: [\"$q\", \"$stateParams\", \"logosService\", function ($q, $stateParams, logosService) {\n\n\t\t\t\t\t\tif ($stateParams.id) {\n\t\t\t\t\t\t\tvar defered = $q.defer();\n\t\t\t\t\t\t\tvar promise = defered.promise;\n\n\t\t\t\t\t\t\tlogosService.obtenerPorId($stateParams.id).then(function (res) {\n\t\t\t\t\t\t\t\tif (res.estado == \"Descargable\") {\n\t\t\t\t\t\t\t\t\tdefered.resolve({\n\t\t\t\t\t\t\t\t\t\tlogo: res.logo,\n\t\t\t\t\t\t\t\t\t\tid: $stateParams.id,\n\t\t\t\t\t\t\t\t\t\tidElemento: res.elementos_idElemento,\n\t\t\t\t\t\t\t\t\t\ttipo: res.tipoLogo\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tdefered.reject(\"INVALID_LOGO\");\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}).catch(function () {\n\n\t\t\t\t\t\t\t\t// $state.go(\"logos\");\n\t\t\t\t\t\t\t\tdefered.reject(\"INVALID_LOGO\");\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\treturn promise;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn $q.reject(\"INVALID_LOGO\");\n\t\t\t\t\t\t}\n\n\n\n\t\t\t\t\t}]\n\t\t\t\t}\n\t\t\t})\n\n\t\t\t.state({\n\t\t\t\tname: \"login\",\n\t\t\t\turl: \"/ingreso/\",\n\t\t\t\ttemplateUrl: \"app/views/login.tpl\",\n\t\t\t\tcontroller: \"loginController as login\",\n\t\t\t\tresolve: {\n\t\t\t\t\t\"currentAuth\": [\"$q\", \"clientesService\", function ($q, clientesService) {\n\n\t\t\t\t\t\tif (clientesService.autorizado()) {\n\n\t\t\t\t\t\t\treturn $q.reject(\"LOGOUT_REQUIRED\");\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}]\n\t\t\t\t}\n\t\t\t})\n\n\t\t\t.state({\n\t\t\t\tname: \"logosGaleria\",\n\t\t\t\turl: \"/logos-galeria/\",\n\t\t\t\ttemplateUrl: \"app/views/logosGaleria.tpl\",\n\t\t\t\tcontroller: \"logosGaleriaController as logosGaleria\"\n\t\t\t})\n\n\t\t\t.state({\n\t\t\t\tname: \"papeleria\",\n\t\t\t\turl: \"/cliente/logos/papeleria/:id/\",\n\t\t\t\ttemplateUrl: \"app/views/papeleria.tpl\",\n\t\t\t\tcontroller: \"papeleriaController as papeleriaCtrl\",\n\t\t\t\tresolve: {\n\t\t\t\t\t\"logoResolve\": [\"$q\", \"$stateParams\", \"logosService\", \"arrayToJsonMetasFactory\", function ($q, $stateParams, logosService, arrayToJsonMetasFactory) {\n\n\t\t\t\t\t\t\n\t\t\t\t\t\tif ($stateParams.id) {\n\t\t\t\t\t\t\tvar defered = $q.defer();\n\t\t\t\t\t\t\tvar promise = defered.promise;\n\n\t\t\t\t\t\t\tlogosService.obtenerPorId($stateParams.id).then(function (res) {\n\t\t\t\t\t\t\t\tif (res.estado == \"Descargable\") {\n\t\t\t\t\t\t\t\t\tdefered.resolve({\n\t\t\t\t\t\t\t\t\t\tlogo: res.logo,\n\t\t\t\t\t\t\t\t\t\tid: $stateParams.id,\n\t\t\t\t\t\t\t\t\t\tidElemento: res.elementos_idElemento,\n\t\t\t\t\t\t\t\t\t\ttipo: res.tipoLogo,\n\t\t\t\t\t\t\t\t\t\tatributos: arrayToJsonMetasFactory(res.atributos)\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tdefered.reject(\"INVALID_LOGO\");\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}).catch(function () {\n\t\t\t\t\t\t\t\tdefered.reject(\"INVALID_LOGO\");\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\treturn promise;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn $q.reject(\"INVALID_LOGO\");\n\t\t\t\t\t\t}\n\n\n\n\t\t\t\t\t}]\n\t\t\t\t}\n\t\t\t})\n\n\t\t\t.state({\n\t\t\t\tname: \"papeleriaEditor\",\n\t\t\t\turl: \"/cliente/logos/papeleria/:id/crear\",\n\t\t\t\ttemplateUrl: \"app/views/papeleriaEditor.tpl\",\n\t\t\t\tcontroller: \"papeleriaEditorController as papeleriaEditor\",\n\t\t\t\tparams: {\n\t\t\t\t\tpapeleria: null\n\t\t\t\t},\n\t\t\t\tresolve: {\n\t\t\t\t\t\"currentAuth\": [\"$q\", \"clientesService\", function ($q, clientesService) {\n\n\t\t\t\t\t\tif (!clientesService.autorizado()) {\n\n\t\t\t\t\t\t\treturn $q.reject(\"AUTH_REQUIRED\");\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}],\n\t\t\t\t\t\"logoResolve\": [\"$q\", \"$stateParams\", \"logosService\", \"arrayToJsonMetasFactory\", function ($q, $stateParams, logosService, arrayToJsonMetasFactory) {\n\t\t\t\t\t\t\n\t\t\t\t\t\tif ($stateParams.id) {\n\t\t\t\t\t\t\tvar defered = $q.defer();\n\t\t\t\t\t\t\tvar promise = defered.promise;\n\n\t\t\t\t\t\t\tlogosService.obtenerPorId($stateParams.id).then(function (res) {\n\t\t\t\t\t\t\t\tif (res.estado == \"Descargable\") {\n\t\t\t\t\t\t\t\t\tdefered.resolve({\n\t\t\t\t\t\t\t\t\t\tlogo: res.logo,\n\t\t\t\t\t\t\t\t\t\tid: $stateParams.id,\n\t\t\t\t\t\t\t\t\t\tidElemento: res.elementos_idElemento,\n\t\t\t\t\t\t\t\t\t\ttipo: res.tipoLogo,\n\t\t\t\t\t\t\t\t\t\tatributos: arrayToJsonMetasFactory(res.atributos)\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tdefered.reject(\"INVALID_LOGO\");\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}).catch(function () {\n\t\t\t\t\t\t\t\tdefered.reject(\"INVALID_LOGO\");\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\treturn promise;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn $q.reject(\"INVALID_LOGO\");\n\t\t\t\t\t\t}\n\n\n\n\t\t\t\t\t}],\n\t\t\t\t\t\"papeleriaResolve\": [\"$q\", \"$stateParams\", function ($q, $stateParams) {\n\n\t\t\t\t\t\t/* VALIDACION DE PAPELERIA*/\n\n\t\t\t\t\t\tvar papeleria = {};\n\t\t\t\t\t\t\n\t\t\t\t\t\tif ($stateParams.papeleria && $stateParams.papeleria.papeleria && $stateParams.papeleria.modelo) {\n\n\t\t\t\t\t\t\tpapeleria = $stateParams.papeleria.papeleria;\n\t\t\t\t\t\t\tpapeleria.modelo = $stateParams.papeleria.modelo;\n\t\t\t\t\t\t\tpapeleria.fuentes = $stateParams.papeleria.fuentes; \n\t\t\t\t\t\t\n\t\t\t\t\t\t\tif($stateParams.papeleria.pieza){\n\n\t\t\t\t\t\t\t\tangular.forEach($stateParams.papeleria.pieza.caras, function(cara, indiceCara){\n\n\t\t\t\t\t\t\t\t\tpapeleria.modelo.caras[indiceCara].hooks = cara.hooks;\n\t\t\t\t\t\t\t\t\tpapeleria.modelo.caras[indiceCara].logos = cara.logos;\n\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\tif($stateParams.papeleria.pieza._id){\n\t\t\t\t\t\t\t\t\tpapeleria.idPieza = $stateParams.papeleria.pieza._id;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn papeleria;\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\treturn $q.reject(\"PAPELERIA_INVALID\");\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}],\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t});\n\n\t\n\t\t$urlRouterProvider.rule(function ($injector, $location) {\n\t\t\tvar path = $location.url();\n\n\t\t\tif (\"/\" === path[path.length - 1] || path.indexOf(\"/?\") > -1) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (path.indexOf(\"?\") > -1) {\n\t\t\t\treturn path.replace(\"?\", \"/?\");\n\t\t\t}\n\n\t\t\treturn path + \"/\";\n\t\t});\n\n\t\t$urlRouterProvider.otherwise(\"/404/\");\n\n\t})\n\n\n\t.run(function ($rootScope, $state, $timeout) {\n\n\t\t$rootScope.$on(\"$viewContentLoaded\", function () {\n\n\t\t\t$timeout(function () {\n\t\t\t\tangular.element(document.querySelector(\".overlay.full\")).fadeOut(500);\n\t\t\t}, 3000);\n\n\n\t\t});\n\n\t\t$rootScope.$on(\"$stateChangeSuccess\", function (event, toState, toParams, fromState, fromParams, error) {\n\n\t\t\t//Servicio para cerrar ayudas\n\n\t\t});\n\n\t\t$rootScope.$on(\"$stateChangeError\", function (event, toState, toParams, fromState, fromParams, error) {\n\n\t\t\t\n\n\t\t\tif (error === \"AUTH_REQUIRED\") {\n\n\t\t\t\tswitch (toState.name) {\n\n\t\t\t\t\tcase \"editor\":\n\n\t\t\t\t\t\tswitch (fromState.name) {\n\n\t\t\t\t\t\t\tdefault: $state.go(\"login\");\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"pago\":\n\n\t\t\t\t\t\tswitch (fromState.name) {\n\n\t\t\t\t\t\t\tdefault: $state.go(\"login\");\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\n\t\t\t\t\tcase \"pagoCompleto\":\n\t\t\t\t\t\tswitch (fromState.name) {\n\n\t\t\t\t\t\t\tcase \"\":\n\t\t\t\t\t\t\t\t$state.go(\"login\");\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t$state.go(\"login\");\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"cuenta\":\n\t\t\t\t\t\tswitch (fromState.name) {\n\n\t\t\t\t\t\t\tcase \"\":\n\t\t\t\t\t\t\t\t$state.go(\"login\");\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t$state.go(\"login\");\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"logos\":\n\t\t\t\t\t\tswitch (fromState.name) {\n\n\t\t\t\t\t\t\tcase \"\":\n\t\t\t\t\t\t\t\t$state.go(\"login\");\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t$state.go(\"login\");\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"descargar\":\n\t\t\t\t\t\tswitch (fromState.name) {\n\n\t\t\t\t\t\t\tcase \"\":\n\t\t\t\t\t\t\t\t$state.go(\"login\");\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t$state.go(\"login\");\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\t$state.go(\"inicio\");\n\n\n\t\t\t\t}\n\n\n\t\t\t} else if (error === \"LOGOUT_REQUIRED\") {\n\n\t\t\t\t$state.go(\"cuenta\");\n\n\t\t\t} else if (error === \"PAPELERIA_INVALID\") {\n\n\t\t\t\t$state.go(\"papeleria\", {\n\t\t\t\t\tid: toParams.id\n\t\t\t\t});\n\n\t\t\t} else if (error === \"INVALID_LOGO\") {\n\n\t\t\t\tswitch (toState.name) {\n\t\t\t\t\tdefault:\n\t\t\t\t\t\t$state.go(\"logos\");\n\n\t\t\t\t}\n\n\t\t\t} else if (error.error === \"FALLO_HISTORICO\") {\n\n\t\t\t\tswitch (toState.name) {\n\n\t\t\t\t\tcase \"editor\":\n\n\t\t\t\t\t\t$state.go(\"inicio\");\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"pago\":\n\n\t\t\t\t\t\t$state.go(\"inicio\");\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\t$state.go(\"inicio\")\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t\tconsole.log(error);\n\n\t\t});\n\t});\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/app.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/controllers/cuenta.controller.js":
/*!**********************************************************************!*\
  !*** ./public/creador-de-logos/app/controllers/cuenta.controller.js ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("angular.module(\"disenador-de-logos\")\n\n\t.controller(\"cuentaController\", [\"$scope\", \"$state\", \"pedidosService\", \"clientesService\", \"$mdToast\", \"paisesValue\", \"verificarBase64Factory\", \"clienteDatosFactory\", \"$window\", function ($scope, $state, pedidosService, clientesService, $mdToast, paisesValue, verificarBase64Factory, clienteDatosFactory, $window) {\n\n\t\tvar bz = this;\n\n\t\tbz.formulario = 1;\n\n\t\tbz.paises = paisesValue;\n\n\t\tbz.verificarBase64 = verificarBase64Factory;\n\n\t\tbz.pedidos = [];\n\t\tbz.datos = {};\n\t\tbz.datosEspejo = {};\n\n\t\tclientesService.datos().then(function (res) {\n\n\t\t\tbz.datos = res;\n\n\t\t});\n\n\t\tpedidosService.listarPedidos().then(function (res) {\n\n\t\t\tangular.forEach(res, function (valor) {\n\n\t\t\t\tif (valor.estado != \"EN ESPERA\") {\n\t\t\t\t\tbz.pedidos.push(valor);\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t});\n\n\n\t\tbz.editar = function (datos) {\n\n\t\t\tbz.datosEspejo = angular.copy(datos);\n\t\t\tbz.formulario = 2;\n\n\t\t};\n\n\n\t\tbz.completado = true;\n\n\t\tbz.guardar = function (datos, valido) {\n\n\t\t\tif (valido && bz.completado) {\n\n\t\t\t\tbz.completado = false;\n\n\t\t\t\tclientesService.modificar(datos.nombreCliente, datos.telefono, datos.pais)\n\n\t\t\t\t\t.then(function () {\n\n\t\t\t\t\t\tbz.datos = angular.copy(datos);\n\t\t\t\t\t\tbz.formulario = 1;\n\n\t\t\t\t\t\t$mdToast.show($mdToast.base({\n\t\t\t\t\t\t\targs: {\n\t\t\t\t\t\t\t\tmensaje: \"¡Datos modificados!\",\n\t\t\t\t\t\t\t\tclase: \"success\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}));\n\n\t\t\t\t\t})\n\t\t\t\t\t.catch(function () {\n\n\t\t\t\t\t\t$mdToast.show($mdToast.base({\n\t\t\t\t\t\t\targs: {\n\t\t\t\t\t\t\t\tmensaje: \"Un error ha ocurrido\",\n\t\t\t\t\t\t\t\tclase: \"danger\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}));\n\n\t\t\t\t\t})\n\t\t\t\t\t.finally(function () {\n\n\t\t\t\t\t\tbz.completado = true;\n\n\t\t\t\t\t});\n\n\t\t\t}\n\n\t\t};\n\t\tbz.fotoCargaCompletada = true;\n\t\tbz.cargandoFoto = false;\n\t\tbz.cargarFoto = function (imagen) {\n\n\t\t\tconsole.log(imagen)\n\n\t\t\tif (imagen) {\n\t\t\t\tif (bz.fotoCargaCompletada) {\n\t\t\t\t\tbz.cargandoFoto = true;\n\n\t\t\t\t\tclientesService.avatar(imagen)\n\t\t\t\t\t\t.then(function (res) {\n\t\t\t\t\t\t\tbz.cargandoFoto = false;\n\t\t\t\t\t\t\t$mdToast.show($mdToast.base({\n\t\t\t\t\t\t\t\targs: {\n\t\t\t\t\t\t\t\t\tmensaje: \"¡Foto de Perfil Cargada!\",\n\t\t\t\t\t\t\t\t\tclase: \"success\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}));\n\n\t\t\t\t\t\t\tvar user = clienteDatosFactory.obtener()\n\t\t\t\t\t\t\tuser.foto = res;\n\t\t\t\t\t\t\t$window.localStorage.setItem(\"bzToken\", angular.toJson(user));\n\t\t\t\t\t\t\tclienteDatosFactory.definir(user);\n\n\t\t\t\t\t\t\tbz.datos.foto = res;\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(function () {\n\t\t\t\t\t\t\tbz.cargandoFoto = false;\n\t\t\t\t\t\t\t$mdToast.show($mdToast.base({\n\t\t\t\t\t\t\t\targs: {\n\t\t\t\t\t\t\t\t\tmensaje: \"Error al cargar la foto\",\n\t\t\t\t\t\t\t\t\tclase: \"danger\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}));\n\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.finally(function () {\n\n\t\t\t\t\t\t\tbz.fotoCargaCompletada = true;\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tbz.datosOlvido = {\n\t\t\ttipo: 'cliente',\n\t\t};\n\n\t\tbz.cambiarContrasena = function (datos, v) {\n\t\t\tbz.peticion = true;\n\t\t\tif (!v){\n\t\t\t\tbz.peticion = false;\n\t\t\t\treturn $mdToast.show($mdToast.base({\n\t\t\t\t\targs: {\n\t\t\t\t\t\tmensaje: \"LLene los campos correctamente.\",\n\t\t\t\t\t\tclase: \"danger\"\n\t\t\t\t\t}\n\t\t\t\t}));\n\t\t\t}\n\t\t\tclientesService.verificarCambiaContrasena(datos).then(function (res) {\n\t\t\t\t\n\t\t\t\tbz.formulario = 1;\n\t\t\t\t$mdToast.show($mdToast.base({\n\t\t\t\t\targs: {\n\t\t\t\t\t\tmensaje: \"Contraseña Modificada.\",\n\t\t\t\t\t\tclase: \"success\"\n\t\t\t\t\t}\n\t\t\t\t}));\n\n\t\t\t\tbz.datosOlvido = {\n\t\t\t\t\ttipo: 'cliente',\n\t\t\t\t};\n\t\t\t}).catch(function () {\n\t\t\t\tbz.peticion = false;\n\t\t\t\t//console.log(res)\n\t\t\t}).finally(function () {\n\t\t\t\tbz.peticion = false;\n\t\t\t})\n\t\t}\n\n\n\n\n\t\t$scope.$on(\"sesionExpiro\", function () {\n\n\t\t\t$state.go(\"inicio\");\n\n\t\t});\n\n\t}]);\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/controllers/cuenta.controller.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/controllers/descargar.controller.js":
/*!*************************************************************************!*\
  !*** ./public/creador-de-logos/app/controllers/descargar.controller.js ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("angular.module(\"disenador-de-logos\")\n\n\t.controller(\"descargarController\", [\"logoResolve\", \"logosService\", \"$state\", \"$scope\", \"$base64\", \"$filter\", \"planesService\", \"pedidosService\", \"$window\", \"$document\", function (logoResolve, logosService, $state, $scope, $base64, $filter, planesService, pedidosService, $window, $document) {\n\n\t\tvar bz = this;\n\n\t\tbz.base64 = $base64;\n\n\t\tbz.formatosNoSociales = [{\n\t\t\tnombre: \"editable\",\n\t\t\tancho: 400\n\t\t},\n\t\t{\n\t\t\tnombre: \"papeleria\",\n\t\t\tancho: 300\n\t\t},\n\t\t{\n\t\t\tnombre: \"documento\",\n\t\t\tancho: 300,\n\t\t\tplantilla: {tipo: 'ppt', nombre: 'eglamour'}\n\t\t}];\n\n\t\tbz.formatos = [{\n\t\t\tnombre: \"facebook\",\n\t\t\tancho: 180\n\t\t},\n\t\t{\n\t\t\tnombre: \"whatsapp\",\n\t\t\tancho: 300\n\t\t},\n\t\t{\n\t\t\tnombre: \"instagram\",\n\t\t\tancho: 110\n\t\t},\n\t\t{\n\t\t\tnombre: \"google-plus\",\n\t\t\tancho: 250\n\t\t},\n\t\t{\n\t\t\tnombre: \"youtube\",\n\t\t\tancho: 200\n\t\t},\n\t\t{\n\t\t\tnombre: \"twitter\",\n\t\t\tancho: 400\n\t\t},\n\t\t{\n\t\t\tnombre: \"linkedin\",\n\t\t\tancho: 400\n\t\t},\n\t\t{\n\t\t\tnombre: \"pinterest\",\n\t\t\tancho: 60\n\t\t},\n\t\t{\n\t\t\tnombre: \"telegram\",\n\t\t\tancho: 300\n\t\t},\n\t\t{\n\t\t\tnombre: \"vimeo\",\n\t\t\tancho: 300\n\t\t},\n\t\t];\n\n\n\t\tbz.panelSeleccionado = 1;\n\n\t\tbz.panelActivo = false;\n\n\t\tbz.seleccionarPanel = function(index) {\n\t\t\tbz.panelSeleccionado = index;\n\t\t\tif (!bz.panelActivo) {\n\t\t\t\tbz.panelActivo = true;\n\t\t\t}\n\t\t}\n\n\t\t//bz.formatoSeleccionado = bz.formatos[0];\n\n\t\tbz.logo = logoResolve;\n\n\t\tbz.plan = {};\n\t\tbz.planes = {};\n\t\tbz.monedas = {};\n\t\tbz.moneda = {};\n\n\t\tbz.mostrarAumento = false;\n\t\t\n\t\tplanesService.porLogo(bz.logo.id)\n\t\t\t.then(function (res) {\n\t\t\t\tbz.plan = res.caracteristicas;\n\n\t\t\t\tbz.idPlan = res.idPlan;\n\t\t\t\t\n\t\t\t\tplanesService.aumentarPlan(bz.idPlan)\n\t\t\t\t\t.then(function (res) {\n\n\t\t\t\t\t\tif (res.planes.superiores.length) {\n\n\t\t\t\t\t\t\tbz.moneda = {\n\t\t\t\t\t\t\t\tsimbolo: res.monedaDefault.codigo,\n\t\t\t\t\t\t\t\tidMoneda: res.monedaDefault.idMoneda\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tbz.mostrarAumento = true;\n\t\t\t\t\t\t\tbz.planes = res.planes.superiores;\n\n\t\t\t\t\t\t\tangular.forEach(res.planes.superiores, function (plan) {\n\n\t\t\t\t\t\t\t\tangular.forEach(plan.precios, function (precio) {\n\n\t\t\t\t\t\t\t\t\tif (!bz.monedas[precio.moneda]) {\n\n\t\t\t\t\t\t\t\t\t\tbz.monedas[precio.moneda] = {\n\t\t\t\t\t\t\t\t\t\t\tsimbolo: precio.moneda,\n\t\t\t\t\t\t\t\t\t\t\tidMoneda: precio.idMoneda\n\t\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tbz.mps = true; //mostrar Planes superiores = mps\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tpedidosService.listarPasarelas(bz.moneda.idMoneda).then(function (res) {\n\t\t\t\t\t\t\t\tbz.pasarelas = res;\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch(function () {\n\n\t\t\t\t\t})\n\t\t\t\t\t.finally(function () {\n\n\t\t\t\t\t});\n\n\t\t\t\tif (bz.plan && bz.plan.png.valor == \"1\") {\n\t\t\t\t\tbz.formatoSeleccionado = bz.formatos[0];\n\t\t\t\t} else if (bz.plan && (bz.plan.editable.valor == \"1\" || (bz.plan.png.valor == \"0\" && bz.plan.editable.valor == \"0\"))) {\n\t\t\t\t\tbz.formatoSeleccionado = bz.formatosNoSociales[0];\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(function () {\n\n\t\t\t});\n\n\n\t\tbz.comprobarMonedas = function (plan) {\n\n\t\t\tvar coincidencia = false;\n\n\t\t\tangular.forEach(plan.precios, function (valor) {\n\n\t\t\t\tif (valor.moneda == bz.moneda.simbolo) {\n\n\t\t\t\t\tcoincidencia = true;\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t\treturn coincidencia;\n\n\t\t};\n\n\t\tbz.precioSeleccionado = function (precios) {\n\n\t\t\tvar precioFinal = \"\";\n\n\t\t\tangular.forEach(precios, function (valor) {\n\n\t\t\t\tif (valor.moneda == bz.moneda.simbolo) {\n\n\t\t\t\t\tprecioFinal = valor.moneda + \" \" + valor.precio;\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t\treturn precioFinal;\n\n\t\t};\n\n\n\t\tbz.seleccionar = function (formato) {\n\n\t\t\tbz.formatoSeleccionado = angular.copy(formato);\n\n\t\t};\n\n\t\t\n\n\n\n\t\tbz.paypal = function (idPaypal, plan) {\n\n\t\t\tif(bz.peticion){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar datos = {\n\t\t\t\tidLogo: bz.logo.id,\n\t\t\t\tidPrecio: null,\n\t\t\t\tidPasarela: idPaypal\n\t\t\t};\n\n\t\t\tbz.peticion = true;\n\n\t\t\tangular.forEach(plan.precios, function (valor) {\n\t\t\t\tif (valor.moneda == bz.moneda.simbolo) {\n\t\t\t\t\tdatos.idPrecio = valor.idPrecio;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t//pedidosService.listarPasarelas(bz.moneda.idMoneda).then(function (res) {\n\n\t\t\t/*\n\t\t\tangular.forEach(bz.pasarelas, function (valor) {\n\t\t\t\tif (valor.pasarela == pasarela) {\n\t\t\t\t\tdatos.idPasarela = valor.idPasarela;\n\t\t\t\t}\n\t\t\t});*/\n\n\t\t\tplanesService.aumentarPedidoPlan(datos).then(function (res) {\n\t\t\t\t$window.location = res;\n\t\t\t}).catch(function () {\n\t\t\t\t//console.log(res)\n\t\t\t}).finally(function () {\n\t\t\t\tbz.peticion = false;\n\t\t\t});\n\n\t\t\t\n\n\t\t};\n\n\t\tbz.mostrarStripe = function(idStripe, plan){\n\n\t\t\tvar idPrecio;\n\t\t\t\n\t\t\tangular.forEach(plan.precios, function (valor) {\n\t\t\t\tif (valor.moneda == bz.moneda.simbolo) {\n\t\t\t\t\tidPrecio = valor.idPrecio;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tbz.datosStripe = {\n\t\t\t\tidStripe: idStripe, \n\t\t\t\tidPrecio: idPrecio,\n\t\t\t\tidLogo: bz.logo.id\n\t\t\t};\n\n\n\t\t};\n\n\t\tbz.completado = true;\n\t\tbz.descargar = function (nombre, ancho, plantilla) {\n\n\t\t\tif (bz.completado) {\n\n\t\t\t\tbz.completado = false;\n\n\t\t\t\tangular.element(document.querySelector(\".overlay.full\")).fadeIn(1000);\n\n\t\t\t\tlogosService.descargarLogo(bz.logo.id, ancho, $filter(\"uppercase\")(nombre), nombre, plantilla)\n\n\t\t\t\t\t.then(function (res) {\n\n\t\t\t\t\t\t//get the headers' content disposition\n\t\t\t\t\t\tvar cd = res.headers[\"content-disposition\"];\n\t\t\t\t\t\n\t\t\t\t\t\t//get the file name with regex\n\t\t\t\t\t\tvar regex = /filename[^;=\\n]*=((['\"]).*?\\2|[^;\\n]*)/;\n\t\t\t\t\t\tvar match = regex.exec(cd);\n\t\t\t\t\t\n\t\t\t\t\t\t//is there a fiel name?\n\t\t\t\t\t\tvar fileName = match[1] || \"LogoPro.zip\";\n\t\t\t\t\t\n\t\t\t\t\t\t//replace leading and trailing slashes that C# added to your file name\n\t\t\t\t\t\tfileName = fileName.replace(/\\\"/g, \"\");\n\t\t\t\t\t\t//determine the content type from the header or default to octect stream\n\t\t\t\t\t\tvar contentType = res.headers[\"content-type\"];\n\t\t\t\t\t\n\t\t\t\t\t\t//finally, download it\n\t\t\t\t\t\tvar blob = new Blob([res.data], {type: contentType});\n\t\t\t\t\n\t\t\t\t\t\t//downloading the file depends on the browser\n\t\t\t\t\t\t//IE handles it differently than chrome/webkit\n\t\t\t\t\t\tif ($window.navigator && $window.navigator.msSaveOrOpenBlob) {\n\t\t\t\t\t\t\t$window.navigator.msSaveOrOpenBlob(blob, fileName);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar a = $document[0].createElement(\"a\");\n\t\t\t\t\t\t\t$document[0].body.appendChild(a);\n\t\t\t\t\t\t\ta.style = \"display:none\";\n\t\t\t\t\t\t\tvar url = $window.URL.createObjectURL(blob);\n\t\t\t\t\t\t\ta.href = url;\n\t\t\t\t\t\t\ta.download = fileName;\n\t\t\t\t\t\t\ta.target = \"_blank\";\n\t\t\t\t\t\t\ta.click();\n\t\t\t\t\t\t\t$window.URL.revokeObjectURL(url);\n\t\t\t\t\t\t\ta.remove();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t})\n\n\t\t\t\t\t.finally(function () {\n\n\t\t\t\t\t\tbz.completado = true;\n\t\t\t\t\t\tangular.element(document.querySelector(\".overlay.full\")).fadeOut(1000);\n\n\t\t\t\t\t});\n\n\t\t\t}\n\n\t\t};\n\n\t\tbz.descargarTodo = function () {\n\n\t\t\tif (bz.completado) {\n\n\t\t\t\tbz.completado = false;\n\n\t\t\t\tangular.element(document.querySelector(\".overlay.full\")).fadeIn(1000);\n\n\t\t\t\tvar formatos = {};\n\t\t\t\tvar formatosCopia = angular.copy(bz.formatos);\n\t\t\t\t\n\t\t\t\tformatosCopia.push(bz.formatosNoSociales[1]);\n\n\t\t\t\tangular.forEach(formatosCopia, function (formato){\n\t\t\t\t\tformatos[formato.nombre] = formato.ancho;\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tlogosService.descargarTodo(bz.logo.id, formatos)\n\n\t\t\t\t\t.then(function (res) {\n\n\t\t\t\t\t\t//get the headers' content disposition\n\t\t\t\t\t\tvar cd = res.headers[\"content-disposition\"];\n\t\t\t\t\t\n\t\t\t\t\t\t//get the file name with regex\n\t\t\t\t\t\tvar regex = /filename[^;=\\n]*=((['\"]).*?\\2|[^;\\n]*)/;\n\t\t\t\t\t\tvar match = regex.exec(cd);\n\t\t\t\t\t\n\t\t\t\t\t\t//is there a fiel name?\n\t\t\t\t\t\tvar fileName = match[1] || \"LogoPro.zip\";\n\t\t\t\t\t\n\t\t\t\t\t\t//replace leading and trailing slashes that C# added to your file name\n\t\t\t\t\t\tfileName = fileName.replace(/\\\"/g, \"\");\n\t\t\t\t\t\t//determine the content type from the header or default to octect stream\n\t\t\t\t\t\tvar contentType = res.headers[\"content-type\"];\n\t\t\t\t\t\n\t\t\t\t\t\t//finally, download it\n\t\t\t\t\t\tvar blob = new Blob([res.data], {type: contentType});\n\t\t\t\t\n\t\t\t\t\t\t//downloading the file depends on the browser\n\t\t\t\t\t\t//IE handles it differently than chrome/webkit\n\t\t\t\t\t\tif ($window.navigator && $window.navigator.msSaveOrOpenBlob) {\n\t\t\t\t\t\t\t$window.navigator.msSaveOrOpenBlob(blob, fileName);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar a = $document[0].createElement(\"a\");\n\t\t\t\t\t\t\t$document[0].body.appendChild(a);\n\t\t\t\t\t\t\ta.style = \"display:none\";\n\t\t\t\t\t\t\tvar url = $window.URL.createObjectURL(blob);\n\t\t\t\t\t\t\ta.href = url;\n\t\t\t\t\t\t\ta.download = fileName;\n\t\t\t\t\t\t\ta.target = \"_blank\";\n\t\t\t\t\t\t\ta.click();\n\t\t\t\t\t\t\t$window.URL.revokeObjectURL(url);\n\t\t\t\t\t\t\ta.remove();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t})\n\n\t\t\t\t\t.finally(function () {\n\n\t\t\t\t\t\tbz.completado = true;\n\t\t\t\t\t\tangular.element(document.querySelector(\".overlay.full\")).fadeOut(1000);\n\n\t\t\t\t\t});\n\n\t\t\t}\n\n\t\t};\n\n\t\tbz.manualMarca = function (id) {\n\t\t\tbz.esperaManual = true;\n\t\t\tangular.element(document.querySelector(\".overlay.full\")).fadeIn(1000);\n\n\t\t\tlogosService.manualMarca(id).then(function (res) {\n\n\t\t\t\tvar a = $document[0].createElement(\"a\");\n\t\t\t\t$document[0].body.appendChild(a);\n\t\t\t\ta.style = \"display:none\";\n\t\t\t\tvar url = res.url;\n\t\t\t\ta.href = url;\n\t\t\t\ta.download = res.nombreArchivo;\n\t\t\t\ta.target = \"_blank\";\n\t\t\t\ta.click();\n\t\t\t\ta.remove();\n\n\t\t\t}).finally(function () {\n\t\t\t\tbz.esperaManual = false;\n\t\t\t\tangular.element(document.querySelector(\".overlay.full\")).fadeOut(1000);\n\t\t\t});\n\n\t\t};\n\n\t\t$scope.$on(\"sesionExpiro\", function () {\n\n\t\t\t$state.go(\"inicio\");\n\n\t\t});\n\n\n\t}]);\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/controllers/descargar.controller.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/controllers/editor.controller.js":
/*!**********************************************************************!*\
  !*** ./public/creador-de-logos/app/controllers/editor.controller.js ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("angular.module(\"disenador-de-logos\")\n\n\t.controller(\"editorController\", [\"$scope\", \"$stateParams\", \"$state\", \"$base64\", \"categoriasService\", \"logosService\", \"clientesService\", \"historicoResolve\", \"$rootScope\", \"$mdToast\", \"elementosService\", \"coloresFactory\", \"$q\", \"$window\", \"pedidosService\", \"fontService\", \"etiquetasService\", function ($scope, $stateParams, $state, $base64, categoriasService, logosService, clientesService, historicoResolve, $rootScope, $mdToast, elementosService, coloresFactory, $q, $window, pedidosService, fontService, etiquetasService) {\n\n\t\tvar bz = this;\n\n\t\tbz.base64 = $base64;\n\t\tbz.cuadricula = false;\n\t\tbz.contenedores = {\n\t\t\tbusquedaIconos: false,\n\t\t\tborradores: false,\n\t\t\tfuentes: false\n\t\t};\n\t\tbz.colorFondo = historicoResolve.colores ? historicoResolve.colores[1] : \"rgb(243, 243, 243)\";\n\t\tbz.colorFondoAnterior = bz.colorFondo;\n\t\tbz.colorTexto = historicoResolve.colores ? historicoResolve.colores[0] : \"#000\";\n\t\tbz.colorEslogan = \"#000\";\n\t\tbz.colorIcono = historicoResolve.colores ? historicoResolve.colores[0] : \"#000\";\n\t\tbz.svgFinal = \"\";\n\n\t\tbz.jqueryScrollbarOptions = {};\n\n\t\tbz.logo = historicoResolve.logo;\n\n\t\tif (!historicoResolve.idLogoGuardado && !historicoResolve.idLogoPadre) { //si no es un logo guardado\n\n\t\t\tbz.logo.texto = historicoResolve.texto;\n\t\t\tbz.categoria = historicoResolve.logo.icono.categorias_idCategoria;\n\n\t\t} else if (historicoResolve.idLogoGuardado) { // si es un logo previamente guardado\n\n\t\t\tbz.logo.idLogo = historicoResolve.idLogoGuardado;\n\n\t\t} else if (historicoResolve.idLogoPadre) {\n\n\t\t\tbz.idLogoPadre = historicoResolve.idLogoPadre;\n\n\t\t}\n\n\t\t/* CATEGORIAS EXISTENTES */\n\n\t\tbz.categoriasPosibles = [];\n\n\t\tcategoriasService.listaCategorias(\"ICONO\").then(function (res) {\n\n\t\t\tangular.forEach(res, function (valor) {\n\n\t\t\t\tbz.categoriasPosibles.push(valor);\n\n\t\t\t});\n\n\t\t});\n\n\t\tcategoriasService.listaCategorias(\"FUENTE\")\n\t\t\t.then(function (res) {\n\t\t\t\tbz.fuentesCategorias = res;\n\t\t\t})\n\t\t\t.catch(function () {});\n\n\n\t\telementosService.listarFuentes().then(function (res) {\n\n\t\t\tbz.fuentes = res;\n\n\t\t\tfontService.agregarGeneral(bz.fuentes);\n\n\t\t\tif (historicoResolve.idLogoGuardado || historicoResolve.idLogoPadre) { // si es un logo previamente guardado\n\n\t\t\t\tangular.forEach(bz.fuentes, function (valor) {\n\n\t\t\t\t\tif (valor.idElemento == historicoResolve.fuentes.principal) {\n\n\t\t\t\t\t\tbz.logo.fuente = {\n\t\t\t\t\t\t\turl: valor.url,\n\t\t\t\t\t\t\tnombre: valor.nombre\n\t\t\t\t\t\t};\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif (valor.idElemento == historicoResolve.fuentes.eslogan) {\n\n\t\t\t\t\t\tbz.logo.fuenteEslogan = {\n\t\t\t\t\t\t\turl: valor.url,\n\t\t\t\t\t\t\tnombre: valor.nombre\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tbz.esloganActivo = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t});\n\n\t\tbz.preGuardarLogo = function(logo, tipoLogo, idElemento, idFuentePrincipal, regresar){\n\t\t\t\n\t\t\t// Verificar si el usuario que esta logueado\n\t\t\tif (!clientesService.autorizado()) {\n\t\t\n\t\t\t\t$rootScope.mostrarModalLogin = true;\n\t\t\t\t$rootScope.callback = false;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tbz.guardarLogo(logo, tipoLogo, idElemento, regresar);\n\t\t};\n\n\t\tbz.completadoGuardar = true;\n\n\t\tbz.guardarLogo = function (logo, tipoLogo, idElemento, idFuentePrincipal, regresar) {\n\n\t\t\tvar defered = $q.defer();\n\t\t\tvar promise = defered.promise;\n\n\t\t\tif (bz.completadoGuardar) {\n\n\t\t\t\tbz.completadoGuardar = false;\n\n\t\t\t\tvar fuentesId = {\n\t\t\t\t\tprincipal: null,\n\t\t\t\t\teslogan: null\n\t\t\t\t};\n\n\t\t\t\tangular.forEach(bz.fuentes, function (fuente) {\n\n\t\t\t\t\tif (bz.logo.fuente && (bz.logo.fuente.url == fuente.url)) {\n\n\t\t\t\t\t\tfuentesId.principal = fuente.idElemento;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif (bz.logo.fuenteEslogan && (bz.logo.fuenteEslogan.url == fuente.url)) {\n\n\t\t\t\t\t\tfuentesId.eslogan = fuente.idElemento;\n\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (!bz.logo.idLogo) { //si nunca se ha guardado este logo\n\t\t\t\t\tlogosService.guardarLogo(bz.base64.encode(logo), tipoLogo, idElemento, fuentesId.principal, fuentesId.eslogan, bz.idLogoPadre)\n\n\t\t\t\t\t\t.then(function (res) {\n\n\t\t\t\t\t\t\tbz.logo.idLogo = res;\n\n\t\t\t\t\t\t\tif (!regresar) {\n\t\t\t\t\t\t\t\t$mdToast.show($mdToast.base({\n\t\t\t\t\t\t\t\t\targs: {\n\t\t\t\t\t\t\t\t\t\tmensaje: \"Su logo ha sido guardado con exito!\",\n\t\t\t\t\t\t\t\t\t\tclase: \"success\"\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tdefered.resolve(res);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}).catch(function (res) {\n\n\t\t\t\t\t\t\tif (!regresar) {\n\t\t\t\t\t\t\t\t$mdToast.show($mdToast.base({\n\t\t\t\t\t\t\t\t\targs: {\n\t\t\t\t\t\t\t\t\t\tmensaje: \"Un error ha ocurrido\",\n\t\t\t\t\t\t\t\t\t\tclase: \"danger\"\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tdefered.reject(res);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}).finally(function () {\n\n\t\t\t\t\t\t\tbz.completadoGuardar = true;\n\n\t\t\t\t\t\t});\n\t\t\t\t} else { //si es un logo guardado\n\n\t\t\t\t\tlogosService.modificarLogo(bz.base64.encode(logo), bz.logo.idLogo, fuentesId.principal, fuentesId.eslogan)\n\t\t\t\t\t\t.then(function (res) {\n\n\t\t\t\t\t\t\tif (!regresar) {\n\t\t\t\t\t\t\t\t$mdToast.show($mdToast.base({\n\t\t\t\t\t\t\t\t\targs: {\n\t\t\t\t\t\t\t\t\t\tmensaje: \"Su logo ha sido guardado con exito!\",\n\t\t\t\t\t\t\t\t\t\tclase: \"success\"\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn defered.resolve(res);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}).catch(function (res) {\n\n\t\t\t\t\t\t\tif (!regresar) {\n\t\t\t\t\t\t\t\t$mdToast.show($mdToast.base({\n\t\t\t\t\t\t\t\t\targs: {\n\t\t\t\t\t\t\t\t\t\tmensaje: \"Un error ha ocurrido\",\n\t\t\t\t\t\t\t\t\t\tclase: \"danger\"\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tdefered.reject(res);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}).finally(function () {\n\n\t\t\t\t\t\t\tbz.completadoGuardar = true;\n\n\t\t\t\t\t\t});\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn promise;\n\n\t\t};\n\n\n\t\tbz.activarCuadricula = function () {\n\n\t\t\tbz.cuadricula = !bz.cuadricula;\n\n\t\t\tif(bz.cuadricula){\n\t\t\t\tbz.colorFondoAnterior = bz.colorFondo;\n\t\t\t\tbz.colorFondo = 'transparent';\n\t\t\t} else {\n\t\t\t\tbz.colorFondo = bz.colorFondoAnterior;\n\t\t\t}\n\n\t\t};\n\n\t\tbz.buscarPlanes = function () {\n\n\t\t\t$rootScope.$broadcast(\"editor:planes\", true);\n\n\t\t};\n\n\t\t$scope.$on(\"directiva:planes\", function (evento, datos) {\n\n\t\t\tvar idFuente = null;\n\t\t\tvar idFuenteEslogan = null;\n\n\t\t\tangular.forEach(bz.fuentes, function (valor) {\n\n\t\t\t\tif (valor.url == bz.logo.fuente.url) {\n\n\t\t\t\t\tidFuente = valor.idElemento;\n\n\t\t\t\t}\n\n\t\t\t\tif (bz.logo.fuenteEslogan && (valor.url == bz.logo.fuenteEslogan.url)) {\n\n\t\t\t\t\tidFuenteEslogan = valor.idElemento;\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t\tbz.datosComprar = {\n\t\t\t\tlogo: datos.svg,\n\t\t\t\tidLogo: null,\n\t\t\t\tidElemento: bz.logo.icono.idElemento,\n\t\t\t\ttipo: \"Logo y nombre\",\n\t\t\t\tfuentes: {\n\t\t\t\t\tprincipal: idFuente,\n\t\t\t\t\teslogan: idFuenteEslogan\n\t\t\t\t},\n\t\t\t\tcolores: datos.colores,\n\t\t\t\tplanes: bz.planes,\n\t\t\t\tmoneda: bz.moneda,\n\t\t\t\teditor: true\n\t\t\t};\n\n\t\t\tif (bz.idLogoPadre) {\n\t\t\t\tbz.datosComprar.idPadre = bz.idLogoPadre;\n\t\t\t}\n\n\t\t\tif (bz.logo.idLogo) {\n\t\t\t\tbz.datosComprar.idLogo = bz.logo.idLogo;\n\t\t\t}\n\n\t\t\tbz.abrirPlanes = true;\n\n\t\t});\n\n\n\t\t/////////////////////////////////////\n\t\t//////////CAMBIO DE COLOR////////////\n\t\t/////////////////////////////////////\n\n\t\tbz.cambioColor = function (color, objetivo) {\n\n\t\t\t$rootScope.$broadcast(\"editor:color\", {\n\t\t\t\tcolor: color,\n\t\t\t\tobjetivo: objetivo\n\t\t\t});\n\n\t\t};\n\n\n\n\t\t/////////////////////////////////////\n\t\t//////////CAMBIO DE TEXTO////////////\n\t\t/////////////////////////////////////        \n\n\t\tbz.cambioTexto = function (texto, eslogan) {\n\n\t\t\t$rootScope.$broadcast(\"editor:texto\", {\n\t\t\t\ttexto: texto,\n\t\t\t\teslogan: eslogan\n\t\t\t});\n\n\t\t};\n\n\t\tbz.verificarEslogan = function (eslogan) {\n\t\t\tif (eslogan === \"\") {\n\t\t\t\tbz.esloganActivo = false;\n\t\t\t\tbz.logo.fuenteEslogan = null;\n\t\t\t\t$rootScope.$broadcast(\"editor:eliminarEslogan\");\n\t\t\t}\n\t\t};\n\n\t\tbz.quitarEsloganDefault = function(eslogan){\n\t\t\tif(eslogan === \"Mi eslogan aquí\"){\n\t\t\t\tbz.logo.eslogan = \"\";\n\n\t\t\t\tbz.cambioTexto(\"\", true);\n\t\t\t}\n\t\t};\n\n\n\n\t\t/////////////////////////////////////\n\t\t/////////CAMBIO DE FUENTE////////////\n\t\t///////////////////////////////////// \n\n\t\tbz.cambioFuente = function (fuente, objetivo) {\n\n\t\t\t$rootScope.$broadcast(\"editor:fuente\", {\n\t\t\t\tfuente: angular.copy(fuente),\n\t\t\t\tobjetivo: objetivo\n\t\t\t});\n\n\t\t};\n\n\t\t/////////////////////////////////////\n\t\t////////CAMBIO DE PROPIEDAS//////////\n\t\t///////////////////////////////////// \n\n\t\tbz.cambioPropiedad = function (propiedad, eslogan) {\n\n\t\t\t$rootScope.$broadcast(\"editor:propiedad\", {\n\t\t\t\tpropiedad: propiedad,\n\t\t\t\teslogan: eslogan\n\t\t\t});\n\n\t\t};\n\n\t\t/////////////////////////////////////\n\t\t/////////CAMBIO DE TAMAÑO////////////\n\t\t///////////////////////////////////// \n\n\t\tbz.cambioTamano = function (objetivo, accion) {\n\n\t\t\t$rootScope.$broadcast(\"editor:tamano\", {\n\t\t\t\tobjetivo: objetivo,\n\t\t\t\taccion: accion\n\t\t\t});\n\n\t\t};\n\n\t\t/////////////////////////////////////////////////////////////////////////\n\t\t////Disparar el guardado de un svg como copia de comparacion/////////////\n\t\t/////////////////////////////////////////////////////////////////////////\n\n\t\tbz.comparaciones = [];\n\n\t\tbz.realizarComparacion = function () {\n\n\t\t\t$rootScope.$broadcast(\"editor:comparar\", true);\n\n\t\t};\n\n\t\t$scope.$on(\"directiva:comparar\", function (evento, valor) {\n\n\t\t\tif (bz.comparaciones.length <= 10) {\n\t\t\t\tbz.comparaciones.push(valor);\n\t\t\t}\n\n\t\t});\n\n\t\tbz.removerComparacion = function (comparacion) {\n\n\t\t\tvar indice = bz.comparaciones.indexOf(comparacion);\n\t\t\tbz.comparaciones.splice(indice, 1);\n\t\t};\n\n\t\t//////////////////////////////////////////\n\t\t///////////CAMBIAR ORIENTACION////////////\n\t\t//////////////////////////////////////////\n\n\n\t\tbz.cambiarOrientacion = function (orientacion) {\n\n\t\t\t$rootScope.$broadcast(\"editor:orientacion\", orientacion);\n\n\t\t};\n\n\n\t\t/*//////////////////////////////////////\n\t\t///////CAMBIAR TABS EN SELECCION////////\n\t\t////////////////////////////////////////\n\n\t\t$scope.$on(\"directiva:tabs\", function (evento, valor) {\n\t\t\tconsole.log(valor)\n\t\t\tbz.menuSwitch = valor;\n\n\t\t});*/\n\n\t\t////////////////////////////////////////\n\t\t///////BUSCAR Y REEMPLAZAR ICONO////////\n\t\t////////////////////////////////////////\n\n\t\tbz.iconos = [];\n\n\t\tbz.completadoBuscar = true;\n\n\t\t/* Etiquetas */\n\n\t\tbz.selectedItem = null;\n\t\tbz.searchText = null;\n\t\tbz.etiquetasFunciones = etiquetasService;\n\n\t\tetiquetasService.listarEtiquetas().then(function (res) {\n\t\t\tbz.etiquetas = etiquetasService.loadEtiquetas(res.data);\n\t\t}).catch(function () {});\n\n\t\tbz.etiquetasSeleccionadas = [];\n\n\t\tbz.buscarIconos = function (idCategoria, valido) {\n\n\t\t\tbz.iconosForm.$setSubmitted();\n\n\t\t\tif (valido && bz.completadoBuscar) {\n\n\t\t\t\tbz.completadoBuscar = false;\n\n\t\t\t\tvar tags = [];\n\t\t\t\tvar iconos = [];\n\n\t\t\t\tangular.forEach(bz.etiquetasSeleccionadas, function (valor) {\n\t\t\t\t\ttags.push(valor.traduccion.valor);\n\t\t\t\t});\n\n\t\t\t\tif (bz.iconos.length > 0) {\n\t\t\t\t\tangular.forEach(bz.iconos, function (valor) {\n\t\t\t\t\t\ticonos.push(valor.idElemento);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tbz.cerrarContenedores();\n\t\t\t\tbz.contenedores.busquedaIconos = true;\n\n\t\t\t\telementosService.listarIconosSegunTags(tags, idCategoria, iconos, 17).then(function (res) {\n\t\t\t\t\tbz.iconos = [];\n\t\t\t\t\tbz.iconos = res;\n\n\t\t\t\t}).catch(function (res) {\n\t\t\t\t\tconsole.log(res);\n\t\t\t\t}).finally(function () {\n\t\t\t\t\tbz.completadoBuscar = true;\n\t\t\t\t});\n\t\t\t\t/*\n\t\t\t\tcategoriasService.listaCategoriasElementos(idCategoria, \"ICONO\")\n\t\t\t\t\t.then(function (res) {\n\t\t\t\t\t\tbz.iconos = [];\n\t\t\t\t\t\tbz.iconos = res;\n\t\t\t\t\t}).finally(function () {\n\t\t\t\t\t\tbz.completadoBuscar = true;\n\t\t\t\t\t});\n\t\t\t\t\t*/\n\t\t\t}\n\n\t\t};\n\n\n\n\t\tbz.reemplazarIcono = function (icono) {\n\n\t\t\tbz.logo.icono = icono;\n\t\t\t$rootScope.$broadcast(\"editor:reemplazar\", bz.base64.decode(icono.svg));\n\n\t\t};\n\n\t\t$scope.$on(\"directiva:restaurarEslogan\", function (evento, datos) {\n\n\t\t\tif (datos.accion) {\n\n\t\t\t\tvar fuenteElegida = null;\n\n\t\t\t\tangular.forEach(bz.fuentes, function (valor) {\n\n\t\t\t\t\tif (valor.nombre == datos.fuente.nombre) {\n\n\t\t\t\t\t\tfuenteElegida = {\n\t\t\t\t\t\t\tnombre: valor.nombre,\n\t\t\t\t\t\t\turl: valor.url\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t});\n\n\t\t\t\tbz.logo.fuenteEslogan = fuenteElegida;\n\t\t\t\tbz.esloganActivo = true;\n\t\t\t} else {\n\t\t\t\tbz.logo.eslogan = \"\";\n\t\t\t\tbz.logo.fuenteEslogan = null;\n\t\t\t\tbz.esloganActivo = false;\n\t\t\t}\n\t\t});\n\n\n\n\t\tbz.agregarEslogan = function () {\n\n\t\t\tbz.logo.eslogan = \"Mi eslogan aquí\";\n\t\t\tbz.logo.fuenteEslogan = bz.logo.fuente;\n\n\t\t\t$rootScope.$broadcast(\"editor:agregarEslogan\", {\n\t\t\t\teslogan: bz.logo.eslogan,\n\t\t\t\tfuente: bz.logo.fuenteEslogan\n\t\t\t});\n\n\t\t\tbz.esloganActivo = true;\n\n\t\t};\n\n\t\t//////////////////////////////////////////\n\t\t////////RESTAURAR COMPARACIONES///////////\n\t\t//////////////////////////////////////////\n\n\t\tbz.restaurarComparacion = function (comparacion) {\n\n\t\t\t$rootScope.$broadcast(\"editor:restaurar\", comparacion);\n\n\t\t};\n\n\t\t/*\n\t\t$scope.$on(\"sesionExpiro\", function () {\n\n\t\t\t$state.go(\"inicio\");\n\n\t\t});\n\t\t*/\n\n\t\t/* PLANES */\n\n\t\tbz.monedas = {};\n\t\tbz.moneda = {};\n\t\tbz.monedaDefault = {};\n\t\tbz.planes = [];\n\t\tbz.impuesto = 0;\n\n\t\tpedidosService.listarPlanes().then(function (res) {\n\n\t\t\tbz.monedaDefault = {\n\t\t\t\tsimbolo: res.monedaDefault.codigo,\n\t\t\t\tidMoneda: res.monedaDefault.idMoneda\n\t\t\t};\n\n\t\t\tbz.impuesto = res.impuesto;\n\n\t\t\tbz.planes = res.planes;\n\n\t\t\tangular.forEach(res.planes, function (plan) {\n\n\t\t\t\tangular.forEach(plan.precios, function (precio) {\n\n\t\t\t\t\tif (!bz.monedas[precio.moneda]) {\n\n\t\t\t\t\t\tbz.monedas[precio.moneda] = {\n\t\t\t\t\t\t\tsimbolo: precio.moneda,\n\t\t\t\t\t\t\tidMoneda: precio.idMoneda\n\t\t\t\t\t\t};\n\n\t\t\t\t\t}\n\n\t\t\t\t});\n\n\t\t\t});\n\n\t\t\tbz.moneda = bz.monedaDefault;\n\n\t\t});\n\n\t\tbz.precioSeleccionado = function (precios) {\n\n\t\t\tvar precioFinal = \"\";\n\n\t\t\tangular.forEach(precios, function (valor) {\n\n\t\t\t\tif (valor.moneda == bz.moneda.simbolo) {\n\n\t\t\t\t\tprecioFinal = valor.moneda + \" \" + valor.precio;\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t\treturn precioFinal;\n\n\t\t};\n\n\t\tbz.abrirContenedor = function(contenedor, noCerrar){\n\t\t\t\n\t\t\tif(!noCerrar && bz.contenedores[contenedor]) return bz.contenedores[contenedor] = false;\n\n\t\t\tbz.cerrarContenedores(contenedor);\n\n\t\t\tbz.contenedores[contenedor] = true;\n\t\t};\n\n\t\tbz.cerrarContenedores = function(contenedor){\n\n\t\t\t$scope.$broadcast(\"editor:cerrarColorPickers\", true);\n\n\t\t\tangular.forEach(bz.contenedores, function(el, k){\n\t\t\t\tif(contenedor == k) return;\n\t\t\t\tbz.contenedores[k] = false;\n\t\t\t});\n\t\t};\n\n\t}]);\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/controllers/editor.controller.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/controllers/header.js":
/*!***********************************************************!*\
  !*** ./public/creador-de-logos/app/controllers/header.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("angular.module(\"disenador-de-logos\")\n\n/* header */\n\n\t.controller(\"headerController\", [\"$state\", \"clientesService\", \"$rootScope\", \"$scope\", \"mostrarPasoPopAyudaFactory\", \"verificarBase64Factory\", function ($state, clientesService, $rootScope, $scope, mostrarPasoPopAyudaFactory, verificarBase64Factory) {\n\n\t\tvar bz = this;\n\n\t\tbz.salir = function () {\n\t\t\tclientesService.salir(true, true);\n\t\t};\n\n\t\tbz.verificarBase64 = verificarBase64Factory;\n    \n\t\tbz.autorizado = clientesService.autorizado();\n        \n\t\tbz.mostrarPasoPopAyuda = mostrarPasoPopAyudaFactory\n\t\t\n\n\t\t$scope.$on(\"sesionExpiro\", function () {\n\n\t\t\tbz.autorizado = clientesService.autorizado();\n\n\t\t});\n\n\t\t$scope.$on(\"sesionInicio\", function () {\n\n\t\t\tbz.autorizado = clientesService.autorizado();\n\n\t\t});\n\n\t}]);\n\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/controllers/header.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/controllers/index.js":
/*!**********************************************************!*\
  !*** ./public/creador-de-logos/app/controllers/index.js ***!
  \**********************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _cuenta_controller_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./cuenta.controller.js */ \"./public/creador-de-logos/app/controllers/cuenta.controller.js\");\n/* harmony import */ var _cuenta_controller_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_cuenta_controller_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _descargar_controller_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./descargar.controller.js */ \"./public/creador-de-logos/app/controllers/descargar.controller.js\");\n/* harmony import */ var _descargar_controller_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_descargar_controller_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _editor_controller_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./editor.controller.js */ \"./public/creador-de-logos/app/controllers/editor.controller.js\");\n/* harmony import */ var _editor_controller_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_editor_controller_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _header_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./header.js */ \"./public/creador-de-logos/app/controllers/header.js\");\n/* harmony import */ var _header_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_header_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _inicio_controller_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./inicio.controller.js */ \"./public/creador-de-logos/app/controllers/inicio.controller.js\");\n/* harmony import */ var _inicio_controller_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_inicio_controller_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _login_controller_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./login.controller.js */ \"./public/creador-de-logos/app/controllers/login.controller.js\");\n/* harmony import */ var _login_controller_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_login_controller_js__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _logos_controller_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./logos.controller.js */ \"./public/creador-de-logos/app/controllers/logos.controller.js\");\n/* harmony import */ var _logos_controller_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_logos_controller_js__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _logosGaleria_controller_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./logosGaleria.controller.js */ \"./public/creador-de-logos/app/controllers/logosGaleria.controller.js\");\n/* harmony import */ var _logosGaleria_controller_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_logosGaleria_controller_js__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _pago_controller_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./pago.controller.js */ \"./public/creador-de-logos/app/controllers/pago.controller.js\");\n/* harmony import */ var _pago_controller_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_pago_controller_js__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _pagoCompleto_controller_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./pagoCompleto.controller.js */ \"./public/creador-de-logos/app/controllers/pagoCompleto.controller.js\");\n/* harmony import */ var _pagoCompleto_controller_js__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_pagoCompleto_controller_js__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _papeleria_controller_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./papeleria.controller.js */ \"./public/creador-de-logos/app/controllers/papeleria.controller.js\");\n/* harmony import */ var _papeleria_controller_js__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_papeleria_controller_js__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _papeleriaEditor_controller__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./papeleriaEditor.controller */ \"./public/creador-de-logos/app/controllers/papeleriaEditor.controller.js\");\n/* harmony import */ var _papeleriaEditor_controller__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_papeleriaEditor_controller__WEBPACK_IMPORTED_MODULE_11__);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/controllers/index.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/controllers/inicio.controller.js":
/*!**********************************************************************!*\
  !*** ./public/creador-de-logos/app/controllers/inicio.controller.js ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("angular.module(\"disenador-de-logos\")\n\n\t.controller(\"inicioController\", [\"categoriasService\", \"preferenciasService\", \"elementosService\", \"$stateParams\", \"$q\", \"$scope\", \"$state\", \"crearLogoFactory\", \"clientesService\", \"$mdToast\", \"$timeout\", \"logosService\", \"$base64\", \"coloresFactory\", \"landingResolve\", \"coloresPaletteValue\", \"etiquetasService\", \"pedidosService\", \"$rootScope\", \"$location\", \"Socialshare\", function (categoriasService, preferenciasService, elementosService, $stateParams, $q, $scope, $state, crearLogoFactory, clientesService, $mdToast, $timeout, logosService, $base64, coloresFactory, landingResolve, coloresPaletteValue, etiquetasService, pedidosService, $rootScope, $location, Socialshare) {\n\n\t\tvar bz = this;\n\n\t\tbz.base64 = $base64;\n\n\t\tbz.obtenerColores = function(coloresArray){\n\t\t\treturn coloresFactory(angular.copy(coloresArray));\n\t\t};\n\n\t\tbz.colorRandom =  function (largoArray) {\n\n\t\t\tvar i = Math.floor(Math.random() * largoArray) + 0;\n\t\t\treturn i;\n\t\t};\n\n\t\tbz.palettes = coloresPaletteValue;\n\n\t\tif (landingResolve) {\n\t\t\tbz.palettesCopy = landingResolve.palettesCopy;\n\t\t}\n\n\t\tbz.datos = landingResolve ? landingResolve.datos : {\n\t\t\tnombre: \"Mi logo\",\n\t\t\tpreferencias: [],\n\t\t\tcategoria: {\n\t\t\t\ticono: \"\",\n\t\t\t\tfuente: \"\"\n\t\t\t},\n\t\t\tetiquetasSeleccionadas: []\n\t\t};\n\n\n\t\t\n\n\t\tbz.urlCompartir = $location.port() != \"80\" ? $location.protocol() + \"://\" + $location.host() + \":\" + $location.port() : $location.protocol() + \"://\" + $location.host();\n\n\n\t\tbz.completadoCompartirSocial = true;\n\t\tbz.compartir = function(provider, logo) {\n\n\n\t\t\tif (!clientesService.autorizado()) {\n\n\t\t\t\t$rootScope.mostrarModalLogin = true;\n\t\t\t\t$rootScope.callbackLogin = false;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(bz.completadoCompartirSocial){\n\t\t\t\t\n\t\t\t\tbz.completadoCompartirSocial = false;\n\n\t\t\t\tvar defered = $q.defer();\n\t\t\t\tvar compartirPromise = defered.promise;\n\n\t\t\t\tif (!logo.idLogo) {\n\n\t\t\t\t\tbz.guardarLogo(logo.cargado, \"Logo y nombre\", logo.icono.idElemento, logo.fuente.idElemento)\n\t\t\t\t\t\t.then(function (res) {\n\t\t\t\t\t\t\tlogo.idLogo = res;\n\n\t\t\t\t\t\t\tvar unix = Date.now();\n\n\t\t\t\t\t\t\tvar attrs = {\n\t\t\t\t\t\t\t\tsocialshareUrl: bz.urlCompartir + $location.path() + \"?idLogo=\" + logo.idLogo + \"&unix=\" + unix\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tswitch (provider) {\n\t\t\t\t\t\t\tcase \"twitter\":\n\t\t\t\t\t\t\t\tattrs.socialshareHashtags = \"Liderlogo\";\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\t\t\tcase \"pinterest\":\n\t\t\t\t\t\t\t\tattrs.socialshareMedia = bz.urlCompartir+\"/app/logo/compartido/\"+logo.idLogo; attrs.socialshareText = \"Pinterest\";\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tSocialshare.share({\n\t\t\t\t\t\t\t\t\"provider\": provider,\n\t\t\t\t\t\t\t\t\"attrs\": attrs\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(function () {\n\t\t\t\t\t\t\t$mdToast.show($mdToast.base({\n\t\t\t\t\t\t\t\targs: {\n\t\t\t\t\t\t\t\t\tmensaje: \"Un error ha ocurrido\",\n\t\t\t\t\t\t\t\t\tclase: \"danger\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.finally(function () {\n\t\t\t\t\t\t\tdefered.resolve();\n\t\t\t\t\t\t});\n\n\t\t\t\t} else{\n\t\t\t\t\t\n\t\t\t\t\tvar unix = Date.now();\n\n\t\t\t\t\tvar attrs = {\n\t\t\t\t\t\tsocialshareUrl: bz.urlCompartir + $location.path() + \"?idLogo=\" + logo.idLogo + \"&unix=\" + unix\n\t\t\t\t\t};\n\n\t\t\t\t\tswitch (provider) {\n\t\t\t\t\tcase \"twitter\":\n\t\t\t\t\t\tattrs.socialshareHashtags = \"Liderlogo\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tcase \"pinterest\":\n\t\t\t\t\t\tattrs.socialshareMedia = bz.urlCompartir+\"/app/logo/compartido/\"+logo.idLogo; attrs.socialshareText = \"Pinterest\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tSocialshare.share({\n\t\t\t\t\t\t\"provider\": provider,\n\t\t\t\t\t\t\"attrs\": attrs\n\t\t\t\t\t});\n\n\t\t\t\t\tdefered.resolve();\n\t\t\t\t}\n\n\t\t\t\tcompartirPromise.finally(function(){\n\t\t\t\t\tbz.completadoCompartirSocial = true;\n\t\t\t\t});\n\n\t\t\t}\n\t\t\t\n\n\t\t};\n\n\n\t\tbz.compartirPorEmailUrl = function () {\n\n\t\t\tvar datosFormat = angular.copy(bz.datos);\n\n\t\t\tangular.forEach(datosFormat.etiquetasSeleccionadas, function(valor){\n\t\t\t\tif(valor.$$hashKey){\n\t\t\t\t\tdelete valor.$$hashKey;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tdelete datosFormat.fuentes;\n\t\t\tdelete datosFormat.colores;\n\n\t\t\tvar datos = {\n\t\t\t\tdatos: datosFormat,\n\t\t\t\tpalettesCopy: bz.palettesCopy,\n\t\t\t\tlogoCompartido: true\n\t\t\t};\n\n\t\t\tvar url = bz.urlCompartir + $location.path() + \"?datos=\"+ encodeURI(angular.toJson(datos));\n\n\t\t\treturn url;\n\t\t};\n\n\t\tcategoriasService.listaCategorias(\"FUENTE\")\n\t\t\t.then(function (res) {\n\t\t\t\tbz.datos.fuentes = res;\n\t\t\t})\n\t\t\t.catch(function () {});\n\n\t\tbz.coloresIguales = function (color) {\n\n\t\t\tvar coincidencia;\n\n\t\t\tangular.forEach(bz.datos.colores, function (datosColor) {\n\n\t\t\t\tif (angular.equals(color, datosColor)) {\n\t\t\t\t\tcoincidencia = true;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn coincidencia;\n\n\t\t};\n\n\t\tbz.jqueryScrollbarOptions = {};\n\n\t\tbz.iconos = [];\n\n\t\tbz.fuentes = [];\n\n\t\tbz.logos = [];\n\n\t\tbz.aprobados = [];\n\n\t\tbz.logoSeleccionado = null;\n\t\tbz.logoElegido = null;\n\t\tbz.predisenadoSeleccionado = null;\n\n\t\tbz.objetivoEditor = null; //posibles valores 'nuevo' o 'predisenado'\n\n\t\tbz.categoriasPosibles = {\n\t\t\tfuentes: [],\n\t\t\ticonos: []\n\t\t};\n\n\t\tbz.preferencias = [];\n\n\t\tcategoriasService.listaCategorias(\"ICONO\").then(function (res) {\n\t\t\tbz.categoriasPosibles.iconos = res;\n\t\t}).catch(function () {});\n\n\t\tcategoriasService.listaCategorias(\"FUENTE\").then(function (res) {\n\t\t\tbz.categoriasPosibles.fuentes = res;\n\t\t}).catch(function () {});\n\n\t\tbz.combinar = function (iconos, fuentes) {\n\n\t\t\tbz.datos.colores = [];\n\n\t\t\tangular.forEach(bz.palettesCopy, function (palettes, indicePalettes) {\n\t\t\t\tangular.forEach(palettes, function (palette, indicePalette) {\n\t\t\t\t\tif (palette) {\n\t\t\t\t\t\tbz.datos.colores.push(bz.palettes[indicePalettes][indicePalette]);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tvar logos = crearLogoFactory(iconos, fuentes);\n\n\t\t\tbz.logos = logos;\n\t\t\t/*\n\t\t\tvar cantidadLogos = logos.length;\n\t\t\t\n\t\t\twhile (cantidadLogos) {\n\n\t\t\t\tvar indiceRandom = Math.floor(Math.random() * (cantidadLogos - 1)) + 0;\n\t\t\t\tbz.logos.push(logos[indiceRandom]);\n\t\t\t\tlogos.splice(indiceRandom, 1);\n\t\t\t\tcantidadLogos--;\n\t\t\t}*/\n\t\t\t/*\n\t\t\tangular.element(\".contenedor-principal > div\").animate({\n\t\t\t\tscrollTop: 0\n\t\t\t}, 1000);*/\n\n\t\t};\n\n\t\tbz.completado = true;\n\n\t\t// Si no es un logo compartido\n\n\t\tif (landingResolve && !landingResolve.logoCompartido) {\n\t\t\tbz.combinar(landingResolve.iconos, landingResolve.fuentes);\n\t\t}\n\n\t\tbz.solicitarElementos = function (inicial) {\n\n\t\t\tif (bz.completado) {\n\n\t\t\t\tif (bz.datosForm && !bz.datosForm.$valid && !landingResolve.logoCompartido) return;\n\n\t\t\t\tbz.completado = false;\n\n\t\t\t\tvar tags = [];\n\n\t\t\t\tangular.forEach(bz.datos.etiquetasSeleccionadas, function (tag) {\n\t\t\t\t\ttags.push(tag.traduccion.valor);\n\t\t\t\t});\n\n\t\t\t\tvar promesaIconos = inicial ? elementosService.listarIniciales(inicial) : elementosService.listarIconosSegunTags(tags, bz.datos.categoria.icono, bz.iconos, 12);\n\t\t\t\tvar promesaFuentes = elementosService.listaFuentesSegunPref(bz.datos.categoria.fuente, bz.datos.preferencias, 12);\n\n\t\t\t\t$q.all([\n\t\t\t\t\tpromesaIconos,\n\t\t\t\t\tpromesaFuentes\n\t\t\t\t])\n\t\t\t\t\t.then(function (res) {\n\n\t\t\t\t\t\tangular.forEach(res[0], function (icono) {\n\t\t\t\t\t\t\tbz.iconos.push(icono.idElemento);\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tbz.combinar(res[0], res[1]);\n\n\n\t\t\t\t\t})\n\t\t\t\t\t.catch(function () {\n\t\t\t\t\t\t//console.log(res)\n\t\t\t\t\t})\n\t\t\t\t\t.finally(function () {\n\n\t\t\t\t\t\tbz.completado = true;\n\n\t\t\t\t\t});\n\n\t\t\t}\n\n\t\t};\n\n\t\t// Si es un logo compartido \n\t\tif (landingResolve && landingResolve.logoCompartido) {\n\t\t\tbz.solicitarElementos();\n\t\t}\n\n\t\tbz.preAvanzar = function (logo) {\n\t\t\tbz.logoSeleccionado = bz.logos.indexOf(logo);\n\t\t\tbz.avanzar();\n\t\t};\n\n\t\tbz.avanzar = function () {\n\n\n\t\t\tvar logoSeleccionado = angular.copy(bz.logos[bz.logoSeleccionado]);\n\n\t\t\tif(logoSeleccionado.idLogo){\n\t\t\t\tlogoSeleccionado.icono.svg = bz.base64.encode(logoSeleccionado.cargado); \n\n\t\t\t}\n\n\t\t\tvar datos = {\n\t\t\t\tstatus: true,\n\t\t\t\tdatos: {\n\t\t\t\t\tlogo: logoSeleccionado,\n\t\t\t\t\ttexto: bz.datos.nombre,\n\t\t\t\t\tcategoria: logoSeleccionado.icono.categorias_idCategoria,\n\t\t\t\t\tcolores: [logoSeleccionado.colores[0], logoSeleccionado.colores[logoSeleccionado.random]]\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t$state.go(\"editor\", datos);\n\n\t\t};\n\n\t\tbz.comprarLogo = function (svg, colores, logo, idLogo, v) {\n\t\t\tbz.datosComprar = {\n\t\t\t\tlogo: svg,\n\t\t\t\tidLogo: idLogo,\n\t\t\t\tidElemento: logo.icono.idElemento,\n\t\t\t\ttipo: \"Logo y nombre\",\n\t\t\t\tfuentes: {\n\t\t\t\t\tprincipal: logo.fuente.idElemento\n\t\t\t\t},\n\t\t\t\tcolores: {\n\t\t\t\t\tfondo: colores[1],\n\t\t\t\t\ticono: colores[0],\n\t\t\t\t\tnombre: colores[0]\n\t\t\t\t},\n\t\t\t\tplanes: bz.planes,\n\t\t\t\tmoneda: bz.moneda\n\t\t\t};\n\n\t\t\tif (v) {\n\t\t\t\treturn bz.verPrevisualizar = true;\n\t\t\t}\n\t\t\tbz.abrirPlanes = true;\n\t\t};\n\n\t\t/* guardar logo */\n\n\n\t\tbz.preGuardarLogo = function (logo) {\n\n\t\t\tif (logo.idLogo) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!clientesService.autorizado()) {\n\n\t\t\t\t$rootScope.mostrarModalLogin = true;\n\t\t\t\t$rootScope.callbackLogin = false;\n\t\t\t\treturn;\n\t\t\t}\n\n\n\t\t\tbz.guardarLogo(logo.cargado, \"Logo y nombre\", logo.icono.idElemento, logo.fuente.idElemento)\n\n\t\t\t\t.then(function (res) {\n\n\t\t\t\t\tvar indiceLogo = bz.logos.indexOf(logo);\n\n\t\t\t\t\tbz.logos[indiceLogo].idLogo = res;\n\n\t\t\t\t\t$mdToast.show($mdToast.base({\n\t\t\t\t\t\targs: {\n\t\t\t\t\t\t\tmensaje: \"Su logo ha sido guardado con exito!\",\n\t\t\t\t\t\t\tclase: \"success\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}));\n\t\t\t\t})\n\t\t\t\t.catch(function () {\n\t\t\t\t\t$mdToast.show($mdToast.base({\n\t\t\t\t\t\targs: {\n\t\t\t\t\t\t\tmensaje: \"Un error ha ocurrido\",\n\t\t\t\t\t\t\tclase: \"danger\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}));\n\t\t\t\t});\n\n\t\t};\n\n\t\tbz.completadoGuardar = true;\n\n\t\tbz.guardarLogo = function (logo, tipoLogo, idElemento, idFuentePrincipal) {\n\n\t\t\tvar defered = $q.defer();\n\t\t\tvar promise = defered.promise;\n\n\t\t\tif (bz.completadoGuardar) {\n\n\t\t\t\tbz.completadoGuardar = false;\n\n\t\t\t\tlogosService.guardarLogo(bz.base64.encode(logo), tipoLogo, idElemento, idFuentePrincipal)\n\n\t\t\t\t\t.then(function (res) {\n\t\t\t\t\t\tdefered.resolve(res);\n\t\t\t\t\t})\n\t\t\t\t\t.catch(function (res) {\n\t\t\t\t\t\tdefered.reject(res);\n\t\t\t\t\t})\n\t\t\t\t\t.finally(function () {\n\t\t\t\t\t\tbz.completadoGuardar = true;\n\t\t\t\t\t});\n\n\t\t\t}\n\n\t\t\treturn promise;\n\n\t\t};\n\n\t\tbz.completadoCompartir = true;\n\t\tbz.compartirPorEmail = function (email, logo, valido) {\n\n\t\t\tif (!clientesService.autorizado()) {\n\n\t\t\t\t$rootScope.mostrarModalLogin = true;\n\t\t\t\t$rootScope.callbackLogin = false;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (valido && bz.completadoCompartir) {\n\n\t\t\t\tbz.completadoCompartir = false;\n\n\t\t\t\tvar defered = $q.defer();\n\t\t\t\tvar emailPromise = defered.promise;\n\n\t\t\t\tif (!logo.idLogo) {\n\n\t\t\t\t\tbz.guardarLogo(logo.cargado, \"Logo y nombre\", logo.icono.idElemento, logo.fuente.idElemento)\n\t\t\t\t\t\t.then(function (res) {\n\t\t\t\t\t\t\tlogo.idLogo = res;\n\t\t\t\t\t\t\tvar url = bz.compartirPorEmailUrl();\n\n\t\t\t\t\t\t\tlogosService.enviarPorEmail(logo.idLogo, email, url)\n\t\t\t\t\t\t\t\t.then(function () {\n\t\t\t\t\t\t\t\t\t$mdToast.show($mdToast.base({\n\t\t\t\t\t\t\t\t\t\targs: {\n\t\t\t\t\t\t\t\t\t\t\tmensaje: \"Su logo ha sido enviado!\",\n\t\t\t\t\t\t\t\t\t\t\tclase: \"success\"\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}));\n\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.catch(function () {\n\t\t\t\t\t\t\t\t\t$mdToast.show($mdToast.base({\n\t\t\t\t\t\t\t\t\t\targs: {\n\t\t\t\t\t\t\t\t\t\t\tmensaje: \"Un error ha ocurrido\",\n\t\t\t\t\t\t\t\t\t\t\tclase: \"danger\"\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.finally(function () {\n\t\t\t\t\t\t\t\t\tdefered.resolve();\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(function () {\n\t\t\t\t\t\t\t$mdToast.show($mdToast.base({\n\t\t\t\t\t\t\t\targs: {\n\t\t\t\t\t\t\t\t\tmensaje: \"Un error ha ocurrido\",\n\t\t\t\t\t\t\t\t\tclase: \"danger\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t\tdefered.resolve();\n\t\t\t\t\t\t});\n\n\t\t\t\t} else {\n\t\t\t\t\tvar url = bz.compartirPorEmailUrl();\n\t\t\t\t\tlogosService.enviarPorEmail(logo.idLogo, email, url)\n\t\t\t\t\t\t.then(function () {\n\t\t\t\t\t\t\t$mdToast.show($mdToast.base({\n\t\t\t\t\t\t\t\targs: {\n\t\t\t\t\t\t\t\t\tmensaje: \"Su logo ha sido enviado!\",\n\t\t\t\t\t\t\t\t\tclase: \"success\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}));\n\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(function () {\n\t\t\t\t\t\t\t$mdToast.show($mdToast.base({\n\t\t\t\t\t\t\t\targs: {\n\t\t\t\t\t\t\t\t\tmensaje: \"Un error ha ocurrido\",\n\t\t\t\t\t\t\t\t\tclase: \"danger\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.finally(function () {\n\t\t\t\t\t\t\tdefered.resolve();\n\t\t\t\t\t\t});\n\n\n\t\t\t\t}\n\n\n\t\t\t\temailPromise.finally(function () {\n\t\t\t\t\tbz.completadoCompartir = true;\n\t\t\t\t});\n\n\n\t\t\t}\n\t\t};\n\n\t\t/* Etiquetas */\n\n\t\tbz.selectedItem = null;\n\t\tbz.searchText = null;\n\t\tbz.etiquetasFunciones = etiquetasService;\n\n\t\tetiquetasService.listarEtiquetas().then(function (res) {\n\t\t\tbz.etiquetas = etiquetasService.loadEtiquetas(res.data);\n\t\t}).catch(function () {\n\t\t\t//console.log(res)\n\t\t});\n\n\t}]);\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/controllers/inicio.controller.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/controllers/login.controller.js":
/*!*********************************************************************!*\
  !*** ./public/creador-de-logos/app/controllers/login.controller.js ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("angular.module(\"disenador-de-logos\")\n\n\t.controller(\"loginController\", [\"$state\", \"$rootScope\", function ($state, $rootScope) {\n\t\t\n\t\t$rootScope.callbackLogin = function () {\n\t\t\t$state.go('logos');\n\t\t};\n\n\t}]);\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/controllers/login.controller.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/controllers/logos.controller.js":
/*!*********************************************************************!*\
  !*** ./public/creador-de-logos/app/controllers/logos.controller.js ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("angular.module(\"disenador-de-logos\")\n\n\t.controller(\"logosController\", [\"$scope\", \"pedidosService\", \"$window\", \"$state\", \"logosService\", \"$base64\", \"$mdToast\", \"arrayToJsonMetasFactory\", \"$location\", \"Socialshare\",\"$q\", function ($scope, pedidosService, $window, $state, logosService, $base64, $mdToast, arrayToJsonMetasFactory, $location, Socialshare, $q) {\n\n\t\tvar bz = this;\n\n\t\tbz.base64 = $base64;\n\n\t\tbz.opcionMostrar = \"guardados\";\n\n\t\tbz.guardados = [];\n\t\tbz.comprados = [];\n\n\t\tbz.elegido = null;\n\n\t\tbz.salto = {\n\t\t\tcomprados: 0,\n\t\t\tguardados: 0\n\t\t};\n\n\t\tbz.cantidad = {\n\n\t\t\tcomprados: 0,\n\t\t\tguardados: 0\n\n\t\t};\n\n\t\tbz.terminados = {\n\n\t\t\tcomprados: false,\n\t\t\tguardados: false\n\n\t\t};\n\n\t\tbz.actual = 1;\n\t\t\n\t\t$scope.$watch(\"logos.actual\", function (newValue, oldValue) {\n\n\t\t\tif (newValue === oldValue) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tbz.mostrarPlanes(newValue, true);\n\t\t});\n\n\t\tlogosService.mostrarGuardados()\n\t\t\t.then(function (res) {\n\n\t\t\t\tbz.guardados = res;\n\t\t\t\tbz.cantidad.guardados = bz.guardados.length;\n\n\t\t\t\tbz.mostrarPlanes(bz.actual, true);\n\n\t\t\t})\n\t\t\t.catch(function () {\n\n\t\t\t})\n\t\t\t.finally(function () {\n\t\t\t\tbz.terminados.guardados = true;\n\t\t\t});\n\n\n\t\tlogosService.mostrarComprados()\n\t\t\t.then(function (res) {\n\n\t\t\t\tbz.comprados = res;\n\t\t\t\tbz.cantidad.comprados = bz.comprados.length;\n\n\t\t\t})\n\t\t\t.catch(function () {\n\n\t\t\t})\n\t\t\t.finally(function () {\n\t\t\t\tbz.terminados.comprados = true;\n\t\t\t});\n\n\n\t\tbz.modificarSalto = function (accion, objetivo) {\n\n\t\t\tif (accion) {\n\n\t\t\t\tif (bz[objetivo][bz.salto[objetivo] + 9]) {\n\n\t\t\t\t\tbz.salto[objetivo] = bz.salto[objetivo] + 9;\n\t\t\t\t}\n\n\t\t\t} else if ((bz.salto[objetivo] - 9) >= 0) {\n\n\t\t\t\tbz.salto[objetivo] = bz.salto[objetivo] - 9;\n\t\t\t}\n\n\t\t};\n\n\n\t\tbz.urlCompartir = $location.port() != \"80\" ? $location.protocol() + \"://\" + $location.host() + \":\" + $location.port() : $location.protocol() + \"://\" + $location.host();\n\n\t\tbz.mostrarModalSocial = false;\n\t\tbz.idLogoCompartir = null;\n\n\t\tbz.abrirModal = function (idLogo) {\n\t\t\tbz.mostrarModalSocial = true;\n\t\t\tbz.idLogoCompartir = idLogo;\n\n\t\t};\n\n\t\tbz.borradoCompleto = true;\n\n\t\tbz.borrarLogo = function (idLogo) {\n\t\t\t\n\t\t\tif (bz.borradoCompleto) {\n\n\t\t\t\tvar defered = $q.defer();\n\n\t\t\t\tvar promise = defered.promise;\n\n\t\t\t\tbz.borradoCompleto = false;\n\n\t\t\t\tlogosService.borrarLogo(idLogo)\n\t\t\t\t\t.then(function () {\n\n\t\t\t\t\t\tangular.forEach(bz.guardados, function (valor, indice) {\n\t\t\t\t\t\t\tif (valor.idLogo == idLogo) {\n\t\t\t\t\t\t\t\tbz.guardados.splice(indice, 1);\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tdefered.resolve(true);\n\n\t\t\t\t\t\t$mdToast.show($mdToast.base({\n\t\t\t\t\t\t\targs: {\n\t\t\t\t\t\t\t\tmensaje: \"El logo fue borrado exitosamente!\",\n\t\t\t\t\t\t\t\tclase: \"success\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}));\n\n\t\t\t\t\t})\n\t\t\t\t\t.catch(function () {\n\n\t\t\t\t\t\tdefered.reject();\n\n\t\t\t\t\t\t$mdToast.show($mdToast.base({\n\t\t\t\t\t\t\targs: {\n\t\t\t\t\t\t\t\tmensaje: \"Un error ha ocurrido\",\n\t\t\t\t\t\t\t\tclase: \"danger\"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}));\n\n\t\t\t\t\t})\n\t\t\t\t\t.finally(function () {\n\n\t\t\t\t\t\tbz.borradoCompleto = true;\n\n\t\t\t\t\t});\n\n\t\t\t\treturn promise;\n\n\t\t\t}\n\t\t};\n\n\n\t\tbz.buscarAtributo = function (lista, objetivo) {\n\n\t\t\tvar valor = null;\n\n\t\t\tangular.forEach(lista, function (atributo) {\n\n\t\t\t\tif (atributo.clave == objetivo) {\n\n\t\t\t\t\tvalor = atributo.valor;\n\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t\treturn valor;\n\t\t};\n\n\n\t\tbz.mostrarPlanes = function (index, previsualizar) {\n\n\t\t\tvar datos = angular.copy(bz.guardados[index]);\n\t\t\tdatos.atributos = arrayToJsonMetasFactory(datos.atributos);\n\n\t\t\tbz.datosComprar = {\n\t\t\t\tidLogo: datos.idLogo,\n\t\t\t\tlogo: bz.base64.decode(datos.logo),\n\t\t\t\tidElemento: datos.elementos_idElemento,\n\t\t\t\ttipo: \"Logo y nombre\",\n\t\t\t\tfuentes: {\n\t\t\t\t\tprincipal: datos.atributos.principal,\n\t\t\t\t\teslogan: datos.atributos.principal.eslogan\n\t\t\t\t},\n\t\t\t\tcolores: {\n\t\t\t\t\ticono: datos.atributos[\"color-icono\"],\n\t\t\t\t\tnombre: datos.atributos[\"color-nombre\"],\n\n\t\t\t\t},\n\t\t\t\tplanes: bz.planes,\n\t\t\t\tmoneda: bz.moneda\n\t\t\t};\n\n\t\t\tif (datos.atributos[\"color-eslogan\"]) {\n\t\t\t\tbz.datosComprar.colores.eslogan = datos.atributos[\"color-eslogan\"];\n\t\t\t}\n\t\t\t/*\n\t\t\tif (bz.idLogoPadre) {\n\t\t\t\tbz.datosComprar.idPadre = bz.idLogoPadre;\n\t\t\t}*/\n\n\t\t\tif (previsualizar) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tbz.abrirPlanes = true; // modelo para abrir la directiva\n\n\t\t};\n\n\t\t$scope.$on(\"sesionExpiro\", function () {\n\n\t\t\t$state.go(\"inicio\");\n\n\t\t});\n\n\n\t\tbz.compartir = function(provider, idLogo) {\n\n\t\t\tvar unix = Date.now();\n\n\t\t\tvar attrs = {\n\t\t\t\tsocialshareUrl : bz.urlCompartir+\"?idLogo=\"+idLogo+\"&unix=\"+unix\n\t\t\t};\n\n\t\t\tswitch (provider) {\n\t\t\tcase \"twitter\":\n\t\t\t\tattrs.socialshareHashtags = \"Liderlogo\";\n\t\t\t\tbreak;\n\t\t\t\t\n\t\t\tcase \"pinterest\":\n\t\t\t\tattrs.socialshareMedia = bz.urlCompartir+\"/app/logo/compartido/\"+idLogo; attrs.socialshareText = \"Pinterest\";\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tSocialshare.share({\n\t\t\t\t\"provider\": provider,\n\t\t\t\t\"attrs\": attrs\n\t\t\t});\n\t\t};\n\n\t}]);\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/controllers/logos.controller.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/controllers/logosGaleria.controller.js":
/*!****************************************************************************!*\
  !*** ./public/creador-de-logos/app/controllers/logosGaleria.controller.js ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("angular.module(\"disenador-de-logos\")\n\n\n\n    .controller('logosGaleriaController', [\"$scope\", \"$state\", \"$base64\", \"logosService\", \"clientesService\", \"$mdToast\", \"$timeout\", function ($scope, $state, $base64, logosService, clientesService, $mdToast, $timeout) {\n\n        var bz = this;\n\n        bz.base64 = $base64;\n        bz.aprobados = [];\n\n        logosService.mostrarDestacados().then(function (res) {\n         \n            bz.aprobados = res;\n\n        }).catch(function () {\n\n\n\n        }).finally(function () {\n\n            if (!bz.aprobados.length) {\n\n                logosService.mostrarAprobados().then(function (res) {\n\n                    bz.aprobados = res;\n\n                }).catch(function (res) {\n\n                    //console.log(\"hola\")\n                    \n                }).finally(function () {\n\n\n                })\n\n            }\n\n        })\n        bz.completadoCarga = true;\n        \n        bz.cargarMas = function (logo) {\n\n            if(bz.completadoCarga){\n               \n                bz.completadoCarga = false;\n                \n                var idLogo = logo.destacados ? false : logo.idLogo;\n\n                logosService.mostrarAprobados(idLogo).then(function (res) {\n                    \n                    angular.forEach(res, function(valor, llave){\n\n                        bz.aprobados.push(valor)\n\n                    })\n                    \n                }).catch(function(){\n                    \n                }).finally(function(){\n                     \n                    bz.completadoCarga = true;\n                    \n                })\n                \n            }\n            \n        }\n\n        bz.buscarAtributo = function (lista, objetivo) {\n\n            var idFuente = null;\n\n            angular.forEach(lista, function (atributo, llave) {\n\n                if (atributo.clave == objetivo) {\n\n                    idFuente = atributo.valor;\n\n                }\n\n            })\n\n            return idFuente;\n        }\n\n\n        bz.avanzar = function (indiceLogo) {\n\n            bz.logoSeleccionado = indiceLogo;\n\n            if (!clientesService.autorizado()) {\n\n                bz.mostrarModalLogin = true;\n\n            } else {\n                var aprobado = null;\n\n                angular.forEach(bz.aprobados, function (valor, llave) {\n\n                    if (valor.idLogo == indiceLogo) {\n\n                        aprobado = valor;\n                    }\n\n                })\n                if (aprobado) {\n                    $state.go(\"editor\", {\n                        status: true,\n                        datos: {\n                            logo: {\n                                icono: {\n                                    idElemento: aprobado.elementos_idElemento,\n                                    svg: aprobado.logo\n                                }\n                            },\n                            idLogoPadre: aprobado.idLogo,\n                            fuentes: {\n                                principal: bz.buscarAtributo(aprobado.atributos, 'principal'),\n                                eslogan: bz.buscarAtributo(aprobado.atributos, 'eslogan')\n                            }\n                        }\n                    })\n                }\n\n            }\n\n        }\n\n\n\n\n        bz.datosLogin = {};\n\n        bz.completadoLogin = true;\n\n        bz.login = function (datos, valido) {\n\n            if (valido) {\n\n                bz.completadoLogin = false;\n\n                clientesService.login(datos).then(function (res) {\n\n                    if (clientesService.autorizado(true)) {\n\n                        $mdToast.show({\n                            hideDelay: 0,\n                            position: 'top right',\n                            controller: [\"$scope\", \"$mdToast\", function ($scope, $mdToast) {\n                                var temporizador = $timeout(function () {\n\n                                    $mdToast.hide();\n\n                                }, 2000)\n\n                                $scope.closeToast = function () {\n                                    $timeout.cancel(temporizador)\n                                    $mdToast.hide();\n\n                                }\n                            }],\n                            templateUrl: 'toast-success-login.html'\n                        });\n\n                        bz.mostrarModalLogin = false;\n                        bz.avanzar(bz.logoSeleccionado);\n                    }\n\n                }).catch(function () {\n\n                    $mdToast.show({\n                        hideDelay: 0,\n                        position: 'top right',\n                        controller: [\"$scope\", \"$mdToast\", function ($scope, $mdToast) {\n\n                            var temporizador = $timeout(function () {\n\n                                $mdToast.hide();\n\n                            }, 2000)\n\n                            $scope.closeToast = function () {\n                                $timeout.cancel(temporizador)\n                                $mdToast.hide();\n                            }\n                            }],\n                        templateUrl: 'toast-danger-login.html'\n                    });\n\n                }).finally(function (res) {\n\n                    bz.completadoLogin = true;\n\n                });\n\n\n            };\n\n        };\n\n\n\n        bz.completadoRegistro = true;\n\n        bz.registrar = function (datos, valido) {\n\n            if (valido && bz.completadoRegistro) {\n\n                bz.completadoRegistro = false;\n\n                clientesService.registrar(datos.nombreCliente, datos.correo, datos.pass, datos.telefono, datos.pais).then(function (res) {\n\n                    if (clientesService.autorizado(true)) {\n\n                        $mdToast.show({\n                            hideDelay: 0,\n                            position: 'top right',\n                            controller: [\"$scope\", \"$mdToast\", function ($scope, $mdToast) {\n\n                                var temporizador = $timeout(function () {\n\n                                    $mdToast.hide();\n\n                                }, 2000)\n\n                                $scope.closeToast = function () {\n                                    $timeout.cancel(temporizador)\n                                    $mdToast.hide();\n\n                                }\n                            }],\n                            templateUrl: 'toast-success-registro.html'\n                        });\n\n                        bz.mostrarModalLogin = false;\n                        bz.avanzar(bz.logoSeleccionado);\n\n                    }\n\n                }).catch(function () {\n\n                    $mdToast.show({\n                        hideDelay: 0,\n                        position: 'top right',\n                        controller: [\"$scope\", \"$mdToast\", function ($scope, $mdToast) {\n\n                            var temporizador = $timeout(function () {\n\n                                $mdToast.hide();\n\n                            }, 2000)\n\n                            $scope.closeToast = function () {\n                                $timeout.cancel(temporizador)\n                                $mdToast.hide();\n\n                            }\n                        }],\n                        templateUrl: 'toast-danger-registro.html'\n                    });\n\n\n                }).finally(function () {\n\n                    bz.completadoRegistro = true;\n\n                })\n\n            };\n\n        }\n\n\n    }])\n\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/controllers/logosGaleria.controller.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/controllers/pago.controller.js":
/*!********************************************************************!*\
  !*** ./public/creador-de-logos/app/controllers/pago.controller.js ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("angular.module(\"disenador-de-logos\")\n\n\n\t.controller(\"pagoController\", [\"$scope\", \"historicoResolve\", \"pedidosService\", \"$window\", \"$state\", \"$base64\", function ($scope, historicoResolve, pedidosService, $window, $state, $base64) {\n\n\t\tvar bz = this;\n\n\t\tbz.base64 = $base64;\n\n\t\tbz.pedido = historicoResolve;\n\n\t\tbz.pasarelas = [];\n\n\t\tpedidosService.listarPasarelas(bz.pedido.precio.moneda.idMoneda).then(function (res) {\n\n\t\t\tbz.pasarelas = res;\n\n\t\t\tbz.pasarelaElegida = bz.pasarelas[1];\n\n\t\t});\n\n\t\tbz.terminos = true;\n\n\n\t\tbz.mostrarMetodo = function (indice, terminos) {\n\n\t\t\tif(!terminos){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tangular.forEach(bz.pasarelas, function (pasarela, llave) {\n\n\t\t\t\tif (pasarela.idPasarela != indice) {\n\n\t\t\t\t\tbz.pasarelas[llave].mostrar = false;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tbz.pasarelas[llave].mostrar = true;\n\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t};\n\n\n\t\tbz.completado = true;\n\n\t\tbz.pagar = function (idPasarela, terminos) {\n\n\t\t\tif (terminos && bz.completado) {\n\n\t\t\t\tbz.completado = false;\n\t\t\t\t\n\t\t\t\tangular.element(document.querySelector(\".overlay.full\")).fadeIn(1000);\n\n\t\t\t\tswitch (idPasarela) {\n\n\t\t\t\t\tcase 1: //PAYPAL\n\t\t\t\t\t\tpedidosService.pagar.paypal(bz.pedido.idElemento, bz.pedido.atributos, bz.base64.encode(bz.pedido.logo), bz.pedido.precio.idPrecio, bz.pedido.tipo, idPasarela)\n\n\t\t\t\t\t\t\t.then(function (res) {\n\n\t\t\t\t\t\t\t\t$window.location = res;\n\n\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\t.finally(function () {\n\n\t\t\t\t\t\t\t\tbz.completado = true;\n\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 2: //STRIPE\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 3: //PAYU\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t};\n\n\n\n\n\n\n\t\t$scope.$on(\"sesionExpiro\", function () {\n\n\t\t\t$state.go(\"inicio\");\n\n\t\t});\n\n\n\t}]);\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/controllers/pago.controller.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/controllers/pagoCompleto.controller.js":
/*!****************************************************************************!*\
  !*** ./public/creador-de-logos/app/controllers/pagoCompleto.controller.js ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("angular.module(\"disenador-de-logos\")\n\n\t.controller(\"pagoCompletoController\", [\"arrayToJsonMetasFactory\", \"$scope\", \"$state\", \"logosService\", \"$stateParams\", \"$base64\", function (arrayToJsonMetasFactory, $scope, $state, logosService, $stateParams, $base64) {\n\n\t\tvar bz = this;\n\n\t\tbz.base64 = $base64;\n\n\t\tbz.logo = false;\n\n\t\tbz.calificacionTentativa = 5;\n\n\t\tbz.atributos = {\n\t\t\tpadre: null,\n\t\t\tcalificacion: null\n\t\t};\n\n\t\tbz.padre = null;\n\n\t\t/*MOVER A RESOLVE*/\n\n\t\tlogosService.obtenerPorId($stateParams.id).then(function (res) {\n\n\t\t\tbz.logo = res;\n\n\t\t\tvar atributos = arrayToJsonMetasFactory(bz.logo.atributos);\n\n\t\t\tif (atributos.padre) {\n\n\t\t\t\tbz.atributos.padre = true;\n\t\t\t\tbz.padre = parseInt(atributos.padre);\n\n\t\t\t\tlogosService.obtenerPorId(bz.padre).then(function (res) {\n\n\t\t\t\t\tvar atributosPadre = arrayToJsonMetasFactory(res.atributos);\n\n\t\t\t\t\tif (atributosPadre[\"calificacion-cliente\"]) {\n\n\t\t\t\t\t\tbz.atributos.calificacion = true;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tbz.atributos.calificacion = false;\n\n\t\t\t\t\t}\n\n\t\t\t\t}).catch(function (res) {\n\n\n\t\t\t\t}).finally(function () {\n\n                    \n\t\t\t\t});\n\n\t\t\t}\n\n\t\t}).catch(function (res) {\n\n\n\t\t}).finally(function () {\n\n\n\t\t});\n\n\t\t/*MOVER A RESOLVE*/\n\n\t\tbz.completado = true;\n\t\tbz.calificar = function (calificacion, comentario, valido) {\n\n\t\t\tif (valido && bz.completado) {\n\t\t\t\tbz.completado = false;\n\n\t\t\t\t// promesa de calificacion\n\t\t\t\tlogosService.calificar(bz.padre, calificacion, comentario).finally(function () {\n\n\t\t\t\t\tbz.completado = true;\n\t\t\t\t\tbz.atributos.calificacion = true;\n\n\t\t\t\t});\n\n\t\t\t}\n\t\t};\n\n\n\t\t$scope.$on(\"sesionExpiro\", function (event, data) {\n\n\t\t\t$state.go(\"inicio\");\n\n\t\t});\n\n\n\t}]);\n\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/controllers/pagoCompleto.controller.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/controllers/papeleria.controller.js":
/*!*************************************************************************!*\
  !*** ./public/creador-de-logos/app/controllers/papeleria.controller.js ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("angular.module(\"disenador-de-logos\")\n\t.controller(\"papeleriaController\", [\"$base64\", \"$scope\", \"$stateParams\", \"$sce\", \"logoResolve\", \"$state\", \"papeleriaService\", \"$document\", \"elementosService\", \"fontService\", function ($base64, $scope, $stateParams, $sce, logoResolve, $state, papeleriaService, $document, elementosService, fontService) {\n\n\t\tvar bz = this;\n\n\t\tbz.base64 = $base64;\n\t\tbz.sce = $sce;\n\t\tbz.tienePiezas = false;\n    \n\t\tbz.idLogo = logoResolve.id;\n\n\t\telementosService.listarFuentes().then(function(res){\n\t\t\tbz.fuentes = res;\n\t\t\tfontService.agregarGeneral(res);\n\t\t});\n\n\t\tpapeleriaService.listarPorClienteYlogo(bz.idLogo).then(function(res){\n\t\t\tbz.papelerias = res;\n\t\t\tangular.forEach(bz.papelerias, function(papeleria){\n\t\t\t\tangular.forEach(papeleria.modelos, function(modelo){\n\t\t\t\t\tif(modelo.piezas){\n\t\t\t\t\t\tpapeleria.tienePiezas = true;\n\t\t\t\t\t\tbz.tienePiezas = true;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\n\t\t\tif(!bz.tienePiezas){\n\t\t\t\tbz.crearPapeleria = true;\n\t\t\t}\n\t\t\tbz.papeleriaActiva = bz.papelerias[0].tipo;\n\t\t})\n\n\t\tbz.enviarEditor = function (indicePapeleria, indiceModelo, indicePieza) {\n\t\t\tif(bz.peticion) return;\n\t\t\tvar papeleria = angular.copy(bz.papelerias[indicePapeleria]);\n\t\t\tdelete papeleria.modelos;\n\t\t\tvar modelo = angular.copy(bz.papelerias[indicePapeleria].modelos[indiceModelo]);\n\t\t\tdelete modelo.piezas;\n\t\t\tvar pieza = angular.copy(bz.papelerias[indicePapeleria].modelos[indiceModelo].piezas[indicePieza]);\n\n\t\t\tbz.datos = {\n\t\t\t\tpapeleria: papeleria,\n\t\t\t\tmodelo: modelo,\n\t\t\t\tpieza: pieza,\n\t\t\t\tfuentes: bz.fuentes\n\t\t\t};\n\n\t\t\t$state.go('papeleriaEditor', {\n\t\t\t\tid: bz.idLogo,\n\t\t\t\tpapeleria: bz.datos\n\t\t\t});\n\t\t}\n\n\t\tbz.descargarPieza = function(id){\n\t\t\tangular.element(document.querySelector(\".overlay.full\")).fadeIn(1000);\n\t\t\tpapeleriaService.piezas.descargar(id, bz.idLogo).then(function(res){\n\t\t\t\tvar a = $document[0].createElement(\"a\");\n\t\t\t\t$document[0].body.appendChild(a);\n\t\t\t\ta.style = \"display:none\";\n\t\t\t\tvar url = res.url;\n\t\t\t\ta.href = url;\n\t\t\t\ta.download = res.nombreArchivo;\n\t\t\t\ta.target = \"_blank\";\n\t\t\t\ta.click();\n\t\t\t\ta.remove();\n\t\t\t}).finally(function(){\n\t\t\t\tangular.element(document.querySelector(\".overlay.full\")).fadeOut(1000);\n\t\t\t})\n\t\t}\n\n\t\tbz.duplicarPieza = function(tipo, modelo, pieza, index){\n\t\t\tif(bz.peticion) return;\n\t\t\tbz.papeleriaIndexElemento = index;\n\t\t\tbz.peticion = true;\n\n\t\t\tvar piezaE = angular.copy(pieza);\n\n\t\t\tdelete piezaE._id;\n\n\t\t\tpapeleriaService.piezas.guardar(tipo, modelo.nombre, piezaE).then(function(res){\n\t\t\t\tmodelo.piezas.push(res.insertId);\n\t\t\t\tbz.peticion = false;\n\t\t\t});\n\t\t}\n\n\t\tbz.eliminarPieza = function(arr, index){\n\t\t\tif(bz.peticion) return;\n\t\t\tbz.papeleriaIndexElemento = index;\n\t\t\tbz.peticion = true;\n\n\t\t\tpieza = arr[index];\n\n\t\t\tpapeleriaService.piezas.eliminar(pieza._id).then(function(res){\n\t\t\t\tarr.splice(index, 1);\n\t\t\t\tbz.peticion = false;\n\t\t\t});\n\t\t}\n\t}]);\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/controllers/papeleria.controller.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/controllers/papeleriaEditor.controller.js":
/*!*******************************************************************************!*\
  !*** ./public/creador-de-logos/app/controllers/papeleriaEditor.controller.js ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("angular.module(\"disenador-de-logos\")\n\t.controller(\"papeleriaEditorController\", [\"papeleriaResolve\", \"logoResolve\", \"$base64\", \"$scope\", \"elementosService\", \"fontService\", \"papeleriaService\", \"$document\", \"$state\", function (papeleriaResolve, logoResolve, $base64, $scope, elementosService, fontService, papeleriaService, $document, $state) {\n\n\t\tvar bz = this;\n\n\t\tbz.base64 = $base64;\n\n\t\tbz.logo = logoResolve;\n\n\t\tbz.papeleria = papeleriaResolve;\n\t\tbz.fuentes = papeleriaResolve.fuentes;\n\n\t\tbz.datos = {\n\t\t\ttipo: \"\",\n\t\t\tmodelo: \"\",\n\t\t\tpieza: {\n\t\t\t\tcaras: [],\n\t\t\t\tnombre: \"\",\n\t\t\t\t_id: \"\", //id de la pieza si esta existia\n\t\t\t\tlogo: 0 //id del logo\n\t\t\t}\n\t\t};\n\n\t\tbz.datos.pieza.logo = bz.logo.id;\n\n\t\tif (bz.papeleria.idPieza) {\n\t\t\tbz.datos.pieza._id = bz.papeleria.idPieza;\n\t\t}\n\n\t\tbz.volver = function () {\n\t\t\tif(bz.peticion) return;\n\t\t\t$state.go('papeleria', {\n\t\t\t\tid: bz.logo.id\n\t\t\t})\n\t\t}\n\n\t\tbz.descargarPieza = function (id) {\n\t\t\tif(bz.peticion) return;\n\n\t\t\tbz.peticion = true;\n\n\t\t\tif (bz.datos.pieza._id != undefined) {\n\t\t\t\tdescargar(bz.datos.pieza._id);\n\t\t\t} else {\n\t\t\t\tbz.guardar().then(function () {\n\t\t\t\t\tdescargar(bz.datos.pieza._id);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tfunction descargar(id){\n\t\t\t\tangular.element(document.querySelector(\".overlay.full\")).fadeIn(1000);\n\t\t\t\tpapeleriaService.piezas.descargar(id, bz.logo.id).then(function(res){\n\t\t\t\t\tvar a = $document[0].createElement(\"a\");\n\t\t\t\t\t$document[0].body.appendChild(a);\n\t\t\t\t\ta.style = \"display:none\";\n\t\t\t\t\tvar url = res.url;\n\t\t\t\t\ta.href = url;\n\t\t\t\t\ta.download = res.nombreArchivo;\n\t\t\t\t\ta.target = \"_blank\";\n\t\t\t\t\ta.click();\n\t\t\t\t\ta.remove();\n\t\t\t\t}).finally(function(){\n\t\t\t\t\tangular.element(document.querySelector(\".overlay.full\")).fadeOut(1000);\n\t\t\t\t\tbz.peticion = false;\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\n\t}]);\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/controllers/papeleriaEditor.controller.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/directives/bazamAyuda.js":
/*!**************************************************************!*\
  !*** ./public/creador-de-logos/app/directives/bazamAyuda.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("angular.module(\"disenador-de-logos\")\n\n\t.directive(\"bazamAyuda\", [\"$timeout\", \"$compile\", function ($timeout, $compile) {\n\t\treturn {\n\t\t\trestrict: \"A\",\n\t\t\tcontrollerAs: \"bazamAyuda\",\n\t\t\tscope: {\n\t\t\t\tclases: \"<\",\n\t\t\t\ttitulo: \"@\",\n\t\t\t\ttexto: \"@\",\n\t\t\t\tretraso: \"@\",\n\t\t\t\torientacion: \"@\",\n\t\t\t\tidentificador: \"@\",\n\t\t\t\tindice: \"@paso\"\n\t\t\t},\n\t\t\tlink: function (scope, element) {\n\n\t\t\t\tif (!scope.clases) {\n\t\t\t\t\tscope.clases = [];\n\t\t\t\t}\n\n\t\t\t\tif (!scope.retraso) {\n\t\t\t\t\tscope.retraso = 200;\n\t\t\t\t}\n\n\t\t\t\tscope.$on(\"bazamAyuda:mostrar\", function (evento, data) {\n\n\t\t\t\t\tif (angular.element(\"#\" + scope.identificador).length) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar coordenadas = element[0].getClientRects()[0];\n\t\t\t\t\tvar body = angular.element(\"body\");\n\n\t\t\t\t\tvar orientacion = scope.orientacion ? scope.orientacion : \"right\";\n\t\t\t\t\tvar orientacionFinal = {\n\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\tleft: 0\n\t\t\t\t\t};\n\n\t\t\t\t\tif (scope.indice == data.indice) {\n\n\t\t\t\t\t\tangular.element(\".pop-ayuda\").remove();\n\n\t\t\t\t\t\tvar elementPOP = angular.element(\"<div></div>\");\n\t\t\t\t\t\telementPOP.addClass(\"pop-ayuda\");\n\t\t\t\t\t\telementPOP.append(\"<p class='titulo-ayuda'>\" + scope.titulo + \"</p>\");\n\t\t\t\t\t\telementPOP.append(\"<p class='texto-ayuda'>\" + scope.texto + \"</p>\");\n\t\t\t\t\t\telementPOP.attr(\"quitar-ayuda\", parseInt(scope.indice));\n\n\t\t\t\t\t\tif (angular.element(\"[data-paso=\" + (parseInt(scope.indice) - 1) + \"]\").length) {\n\t\t\t\t\t\t\tvar flechaIzq = angular.element(\"<div></div>\");\n\t\t\t\t\t\t\tflechaIzq.addClass(\"flecha-ayuda izquierda\");\n\t\t\t\t\t\t\tflechaIzq.attr(\"mostrar-pop-ayuda\", (parseInt(scope.indice) - 1));\n\t\t\t\t\t\t\tflechaIzq.append(\"<span><i class='material-icons'>keyboard_arrow_left</i></span>\");\n\t\t\t\t\t\t\telementPOP.append(flechaIzq);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (angular.element(\"[data-paso=\" + (parseInt(scope.indice) + 1) + \"]\").length) {\n\t\t\t\t\t\t\tvar flechaDer = angular.element(\"<div></div>\");\n\t\t\t\t\t\t\tflechaDer.addClass(\"flecha-ayuda derecha\");\n\t\t\t\t\t\t\tflechaDer.attr(\"mostrar-pop-ayuda\", (parseInt(scope.indice) + 1));\n\t\t\t\t\t\t\tflechaDer.append(\"<span><i class='material-icons'>keyboard_arrow_right</i></span>\");\n\t\t\t\t\t\t\telementPOP.append(flechaDer);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar html = $compile(elementPOP[0].outerHTML)(scope);\n\t\t\t\t\t\tvar popCreado = angular.element(html);\n\t\t\t\t\t\tbody.append(popCreado);\n\n\t\t\t\t\t\tangular.forEach(scope.clases, function (clase) {\n\t\t\t\t\t\t\tpopCreado.addClass(clase);\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tpopCreado.css({\n\t\t\t\t\t\t\t\"position\": \"fixed\",\n\t\t\t\t\t\t\t\"z-index\": 2,\n\t\t\t\t\t\t\t\"opacity\": 0\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tswitch (orientacion) {\n\t\t\t\t\t\tcase \"bottom\":\n\t\t\t\t\t\t\torientacionFinal.top = coordenadas.bottom;\n\t\t\t\t\t\t\torientacionFinal.left = coordenadas.left + (element.width() / 2);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase \"right\":\n\t\t\t\t\t\t\torientacionFinal.top = coordenadas.top + (element.height() / 2);\n\t\t\t\t\t\t\torientacionFinal.left = coordenadas.right;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase \"left\":\n\t\t\t\t\t\t\torientacionFinal.top = coordenadas.top + (element.height() / 2);\n\t\t\t\t\t\t\torientacionFinal.left = coordenadas.left - popCreado.width();\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase \"top\":\n\t\t\t\t\t\t\torientacionFinal.top = coordenadas.top;\n\t\t\t\t\t\t\torientacionFinal.left = coordenadas.left + (element.width() / 2);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tpopCreado.css({\n\t\t\t\t\t\t\t\"top\": orientacionFinal.top,\n\t\t\t\t\t\t\t\"left\": orientacionFinal.left\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tpopCreado.attr({\n\t\t\t\t\t\t\t\"id\": scope.identificador\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif (scope.retraso) {\n\t\t\t\t\t\t\t$timeout(function () {\n\t\t\t\t\t\t\t\tpopCreado.addClass(\"aparecer\");\n\t\t\t\t\t\t\t}, scope.retraso);\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t}])\n\n\t.directive(\"bazamPasosAyuda\", [\"$timeout\", \"$compile\", function ($timeout, $compile) {\n\t\treturn {\n\t\t\trestrict: \"A\",\n\t\t\tcontrollerAs: \"bazamPasosAyuda\",\n\t\t\tlink: function (scope, element, attrs) {\n\n\t\t\t\tscope.$on(\"bazamPasoAyuda:mostrar\", function (evento, accion) {\n\n\t\t\t\t\tif (accion) {\n\n\t\t\t\t\t\tvar coordenadas = element[0].getClientRects()[0];\n\t\t\t\t\t\tvar body = angular.element(\"body\");\n\n\t\t\t\t\t\tvar orientacion = attrs.orientacion ? attrs.orientacion : \"right\";\n\t\t\t\t\t\tvar orientacionFinal = {\n\t\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\t\tleft: 0\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tvar elementPOP = angular.element(\"<div></div>\");\n\t\t\t\t\t\telementPOP.attr(\"mostrar-pop-ayuda\", attrs.paso);\n\t\t\t\t\t\telementPOP.addClass(\"pop-paso-ayuda\");\n\t\t\t\t\t\telementPOP.append(\"<p class='paso-ayuda'>?</p>\");\n\n\t\t\t\t\t\tvar html = $compile(elementPOP[0].outerHTML)(scope);\n\t\t\t\t\t\tvar popPasoCreado = angular.element(html);\n\t\t\t\t\t\tbody.append(popPasoCreado);\n\n\t\t\t\t\t\tpopPasoCreado.css({\n\t\t\t\t\t\t\t\"position\": \"fixed\",\n\t\t\t\t\t\t\t\"z-index\": 2,\n\t\t\t\t\t\t\t\"opacity\": 0\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tswitch (orientacion) {\n\t\t\t\t\t\tcase \"bottom\":\n\t\t\t\t\t\t\torientacionFinal.top = coordenadas.bottom - 40;\n\t\t\t\t\t\t\torientacionFinal.left = coordenadas.left + (element.width() / 2);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase \"right\":\n\t\t\t\t\t\t\torientacionFinal.top = (coordenadas.top + (element.height() / 2)) - 10;\n\t\t\t\t\t\t\torientacionFinal.left = coordenadas.right - 35;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase \"left\":\n\t\t\t\t\t\t\torientacionFinal.top = (coordenadas.top + (element.height() / 2)) - 10;\n\t\t\t\t\t\t\torientacionFinal.left = (coordenadas.left - popPasoCreado.width()) + 25;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase \"top\":\n\t\t\t\t\t\t\torientacionFinal.top = coordenadas.top + 40;\n\t\t\t\t\t\t\torientacionFinal.left = coordenadas.left + (element.width() / 2);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tpopPasoCreado.css({\n\t\t\t\t\t\t\t\"top\": orientacionFinal.top,\n\t\t\t\t\t\t\t\"left\": orientacionFinal.left\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t$timeout(function () {\n\t\t\t\t\t\t\tpopPasoCreado.addClass(\"aparecer\");\n\t\t\t\t\t\t}, 300);\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tangular.element(\".pop-paso-ayuda\").remove();\n\t\t\t\t\t\tangular.element(\".pop-ayuda\").remove();\n\n\t\t\t\t\t}\n\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t}])\n\n\n\t.directive(\"mostrarPopAyuda\", [\"mostrarPopAyudaFactory\", function (mostrarPopAyudaFactory) {\n\t\treturn {\n\t\t\trestrict: \"AE\",\n\t\t\tlink: function (scope, element, attrs) {\n\t\t\t\telement.click(function () {\n\t\t\t\t\tif (!angular.isUndefined(attrs.reiniciar)) {\n\t\t\t\t\t\tangular.element(\"[mostrar-pop-ayuda]:not([mostrar-pop-ayuda=1])\").remove();\n\t\t\t\t\t}\n\t\t\t\t\tif (!angular.element(\"#cerrar-ayudas\").length) {\n\t\t\t\t\t\tangular.element(\"body\").append(\"<div><span>Cerrar Ayudas</span></div>\");\n\t\t\t\t\t}\n\t\t\t\t\tmostrarPopAyudaFactory(attrs.mostrarPopAyuda);\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t}])\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/directives/bazamAyuda.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/directives/bazamCarouseles.js":
/*!*******************************************************************!*\
  !*** ./public/creador-de-logos/app/directives/bazamCarouseles.js ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("angular.module(\"disenador-de-logos\")\n\n\t/*\n\n\t/////////////////////////////////////////////\n\t//////Carousel de logos//////////////////////\n\t/////////////////////////////////////////////\n\n\t.directive(\"carouselCombinaciones\", [function () {\n\n\t\treturn {\n\t\t\trestrict: \"E\",\n\t\t\ttemplateUrl: \"app/templates/carousel-combinaciones.tpl\",\n\t\t\tcontroller: [\"$scope\", \"$base64\", \"arrayToJsonMetasFactory\", function ($scope, $base64, arrayToJsonMetasFactory) {\n\n\t\t\t\tvar bz = this;\n\n\t\t\t\tbz.logos = $scope.logos;\n\n\t\t\t\tbz.largoArray = bz.logos.length;\n\n\t\t\t\tbz.nombre = $scope.nombre;\n\n\t\t\t\tbz.callback = $scope.callback;\n\n\t\t\t\tbz.actual = 0;\n\n\t\t\t\tif (bz.largoArray > 1) {\n\t\t\t\t\tbz.actual = 1;\n\t\t\t\t}\n\n\t\t\t\tbz.convertidor = arrayToJsonMetasFactory;\n\n\t\t\t\tbz.base64 = $base64;\n\n\t\t\t}],\n\t\t\tcontrollerAs: \"carouselCombinaciones\",\n\t\t\tscope: {\n\t\t\t\tcallback: \"<\",\n\t\t\t\tlogos: \"<\",\n\t\t\t\tnombre: \"<\"\n\t\t\t}\n\t\t};\n\n\n\t}])\n\n\t/////////////////////////////////////////////\n\t/////Carousel de destacados/////////////////////\n\t/////////////////////////////////////////////\n\n\t.directive(\"carouselDestacados\", [function () {\n\n\t\treturn {\n\t\t\trestrict: \"E\",\n\t\t\ttemplateUrl: \"app/templates/carousel-destacados.tpl\",\n\t\t\tcontroller: [\"$scope\", \"$base64\", \"arrayToJsonMetasFactory\", function ($scope, $base64, arrayToJsonMetasFactory) {\n\n\t\t\t\tvar bz = this;\n\n\t\t\t\tbz.callback = $scope.callback;\n\n\t\t\t\tbz.actual = 0;\n\n\t\t\t\tif ($scope.logos.length > 5) {\n\t\t\t\t\tbz.actual = 4;\n\t\t\t\t} else if ($scope.logos.length > 4) {\n\t\t\t\t\tbz.actual = 3;\n\t\t\t\t} else if ($scope.logos.length > 3) {\n\t\t\t\t\tbz.actual = 2;\n\t\t\t\t} else if ($scope.logos.length > 2) {\n\t\t\t\t\tbz.actual = 1;\n\t\t\t\t}\n\n\t\t\t\tbz.convertidor = arrayToJsonMetasFactory;\n\n\t\t\t\tbz.base64 = $base64;\n\n\t\t\t\tbz.avanzar = function () {\n\t\t\t\t\tif (bz.actual < ($scope.logos.length - 2)) {\n\t\t\t\t\t\tbz.actual = bz.actual + 2;\n\t\t\t\t\t}\n\t\t\t\t\tif (bz.actual == ($scope.logos.length - 6)) {\n\t\t\t\t\t\t$scope.callback[1]($scope.logos[$scope.logos.length - 1]);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\n\t\t\t}],\n\t\t\tcontrollerAs: \"carouselDestacados\",\n\t\t\tscope: {\n\t\t\t\tcallback: \"<\",\n\t\t\t\tlogos: \"<\"\n\t\t\t}\n\t\t};\n\n\n\t}])\n\t*/\n\n\t.directive(\"carouselMisLogos\", [function () {\n\n\t\treturn {\n\t\t\trestrict: \"E\",\n\t\t\ttemplateUrl: \"app/templates/carousel-mis-logos.tpl\",\n\t\t\tcontroller: [\"$scope\", \"$base64\", \"arrayToJsonMetasFactory\", \"logosService\", \"$mdToast\", \"$location\", function ($scope, $base64, arrayToJsonMetasFactory, logosService, $mdToast, $location) {\n\n\t\t\t\tvar bz = this;\n\n\t\t\t\tbz.callback = $scope.callback;\n\t\t\t\tbz.elegido = $scope.elegido;\n\t\t\t\tbz.logos = $scope.logos;\n\n\t\t\t\tbz.base64 = $base64;\n\n\t\t\t\tbz.actual = 0;\n\t\t\n\t\t\t\tif ($scope.logos.length) {\n\t\t\t\t\t$scope.elegido = bz.base64.decode(bz.logos[bz.actual].logo);\n\t\t\t\t}\n\n\t\t\t\tif ($scope.logos.length > 1) {\n\t\t\t\t\tbz.actual = 1;\n\t\t\t\t\t$scope.actual = bz.actual;\n\t\t\t\t\t$scope.elegido = bz.base64.decode(bz.logos[bz.actual].logo);\n\t\t\t\t}\n\n\t\t\t\tbz.convertidor = arrayToJsonMetasFactory;\n\n\t\t\t\tbz.mover = function (accion) {\n\n\t\t\t\t\tif (accion) {\n\t\t\t\t\t\tbz.actual = bz.actual == (bz.logos.length - 1) ? 0 : bz.actual + 1;\n\t\t\t\t\t\t$scope.actual = bz.actual;\n\t\t\t\t\t\t$scope.elegido = bz.base64.decode(bz.logos[bz.actual].logo);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbz.actual = bz.actual == 0 ? bz.logos.length - 1 : bz.actual - 1;\n\t\t\t\t\t\t$scope.actual = bz.actual;\n\t\t\t\t\t\t$scope.elegido = bz.base64.decode(bz.logos[bz.actual].logo);\n\t\t\t\t\t}\n\n\t\t\t\t};\n\n\t\t\t\tbz.borrarSlider = function (idLogo) {\n\t\t\t\t\tbz.callback[4](idLogo).then(function(){\n\t\t\t\t\t\t\n\t\t\t\t\t\tbz.logos = $scope.logos;\n\t\t\t\t\t\n\t\t\t\t\t\tif (bz.logos.length && bz.actual == bz.logos.length) {\n\t\t\t\t\t\t\tbz.actual = bz.logos.length - 1;\n\t\t\t\t\t\t\t$scope.elegido = bz.base64.decode(bz.logos[bz.actual].logo);\n\t\t\t\t\t\t\t$scope.actual = bz.actual;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}).catch(function(){\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t});\n\n\t\t\t\t\t\n\t\t\t\t};\n\n\n\n\t\t\t\t\n\t\t\t\tvar dominio = $location.port() != \"80\" ? $location.protocol() + \"://\" + $location.host() + \":\" + $location.port() : $location.protocol() + \"://\" + $location.host();\n\n\t\t\t\tbz.completadoCompartir = true;\n\t\t\t\tbz.compartirPorEmail = function (email, logo, valido) {\n\n\t\t\t\t\tif (valido && bz.completadoCompartir) {\n\n\t\t\t\t\t\tbz.completadoCompartir = false;\n\t\t\n\t\t\t\t\t\tlogosService.enviarPorEmail(logo.idLogo, email, dominio)\n\t\t\t\t\t\t\t.then(function () {\n\t\t\t\t\t\t\t\t$mdToast.show($mdToast.base({\n\t\t\t\t\t\t\t\t\targs: {\n\t\t\t\t\t\t\t\t\t\tmensaje: \"Su logo ha sido enviado!\",\n\t\t\t\t\t\t\t\t\t\tclase: \"success\"\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}));\n\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch(function () {\n\t\t\t\t\t\t\t\t$mdToast.show($mdToast.base({\n\t\t\t\t\t\t\t\t\targs: {\n\t\t\t\t\t\t\t\t\t\tmensaje: \"Un error ha ocurrido\",\n\t\t\t\t\t\t\t\t\t\tclase: \"danger\"\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.finally(function () {\n\t\t\t\t\t\t\t\tbz.completadoCompartir = true;\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t}],\n\t\t\tcontrollerAs: \"carouselMisLogos\",\n\t\t\tscope: {\n\t\t\t\tcallback: \"<\",\n\t\t\t\tlogos: \"<\",\n\t\t\t\telegido: \"=\",\n\t\t\t\tactual: \"=?bind\"\n\t\t\t}\n\t\t};\n\n\n\t}]);\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/directives/bazamCarouseles.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/directives/bazamColorPicker.js":
/*!********************************************************************!*\
  !*** ./public/creador-de-logos/app/directives/bazamColorPicker.js ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("angular.module(\"disenador-de-logos\")\n\n\n\t.directive(\"bazamColorPicker\", [function () {\n\t\treturn {\n\t\t\ttemplate: \"<div class='bazam-color-picker'>\\\n\t\t\t\t\t\t\t<div class='background-selector' ng-style='jsonColor(color)' ng-click='mostrarPicker = !mostrarPicker'>\\\n\t\t\t\t\t\t\t</div>\\\n\t\t\t\t\t\t\t<div class='background-color-picker' id='background-color-picker' ng-show='mostrarPicker'>\\\n\t\t\t\t\t\t\t\t\t<div class='title'>\\\n\t\t\t\t\t\t\t\t\t\t{{tituloPicker}}\\\n\t\t\t\t\t\t\t\t\t\t<span class='close-color-picker' ng-click='mostrarPicker = !mostrarPicker'>\\\n\t\t\t\t\t\t\t\t\t\t\t<i class='material-icons cerrar'>clear</i>\\\n\t\t\t\t\t\t\t\t\t\t</span>\\\n\t\t\t\t\t\t\t\t\t</div>\\\n\t\t\t\t\t\t\t\t\t<div ng-repeat='paletaColor in paletaColores track by $index' class='color' ng-style='jsonColor(paletaColor)' ng-click='$parent.cambiarColor(paletaColor)'></div>\\\n\t\t\t\t\t\t\t\t</div>\\\n\t\t\t\t\t\t</div>\",\n\t\t\tscope: {\n\t\t\t\tcolor: \"=\",\n\t\t\t\tcallback: \"=\",\n\t\t\t\tctx: \"=\",\n\t\t\t\targs: \"=\",\n\t\t\t\ttitulo:\"=\"\n\t\t\t},\n\t\t\tcontroller: [\"$scope\", \"coloresPaletaValue\", \"$timeout\", function ($scope, coloresPaletaValue, $timeout) {\n\t\t\t\t$scope.paletaColores = coloresPaletaValue;\n\n\t\t\t\t$scope.tituloPicker = $scope.titulo ? 'Color' : 'FONDO';\n\n\t\t\t\t$scope.jsonColor = function (color) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t\"background-color\": color\n\t\t\t\t\t};\n\t\t\t\t};\n\n\t\t\t\t$scope.cambiarColor = function (colorNuevo) {\n\t\t\t\t\t$scope.color = colorNuevo;\n\t\t\t\t\t$timeout(function() {\n\t\t\t\t\t\tif ($scope.callback) {\n\t\t\t\t\t\t\t$scope.callback(...$scope.args);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t}\n\n\t\t\t\t$scope.mostrarPicker = false;\n\n\t\t\t\t$scope.$on(\"editor:cerrarColorPickers\", function () {\n\n\t\t\t\t\t$scope.mostrarPicker = false;\n\n\t\t\t\t});\n\n\t\t\t\tangular.element(\"#background-color-picker\").draggable({\n\t\t\t\t\trevert: false\n\t\t\t\t});\n\n\t\t\t}]\n\t\t};\n\t}]);\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/directives/bazamColorPicker.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/directives/bazamFormLogin.js":
/*!******************************************************************!*\
  !*** ./public/creador-de-logos/app/directives/bazamFormLogin.js ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("angular.module(\"disenador-de-logos\")\n\n\t.directive(\"bazamFormLogin\", [function () {\n\n\t\treturn {\n\t\t\trestrict: \"E\",\n\t\t\ttemplateUrl: \"app/templates/bazamFormLogin.tpl\",\n\t\t\tcontroller: [\"$scope\", \"clientesService\", \"$mdToast\", \"paisesValue\", \"$rootScope\", \"socialAuth\", \"$state\", function ($scope, clientesService, $mdToast, paisesValue, $rootScope, socialAuth, $state) {\n\n\t\t\t\tvar bz = this;\n\n\n\t\t\t\tbz.vistaActual = $state.current.name;\n\n\t\t\t\t$rootScope.$on('$stateChangeSuccess', function () {\n\n\t\t\t\t\tbz.vistaActual = $state.current.name;\n\n\t\t\t\t});\n\n\t\t\t\tbz.paisDefecto = null;\n\n\t\t\t\tbz.ingresar = true;\n\n\t\t\t\tclientesService.pais()\n\t\t\t\t\t.then(function (res) {\n\t\t\t\t\t\tbz.paisDefecto = res.iso;\n\t\t\t\t\t});\n\n\t\t\t\tbz.datosLogin = {};\n\n\t\t\t\tbz.completadoLogin = true;\n\n\t\t\t\tbz.login = function (datos, valido) {\n\n\t\t\t\t\tif (valido && bz.completadoLogin) {\n\n\t\t\t\t\t\tbz.loginForm.falloLogin = false;\n\t\t\t\t\t\tbz.completadoLogin = false;\n\n\t\t\t\t\t\tclientesService.login(datos).then(function () {\n\n\t\t\t\t\t\t\tif (clientesService.autorizado(true)) {\n\n\t\t\t\t\t\t\t\t$mdToast.show($mdToast.base({\n\t\t\t\t\t\t\t\t\targs: {\n\t\t\t\t\t\t\t\t\t\tmensaje: \"¡Bienvenido!\",\n\t\t\t\t\t\t\t\t\t\tclase: \"success\"\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t\t\t$rootScope.mostrarModalLogin = false;\n\n\t\t\t\t\t\t\t\tif ($rootScope.callbackLogin) {\n\n\t\t\t\t\t\t\t\t\t$rootScope.callbackLogin();\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}).catch(function () {\n\n\t\t\t\t\t\t\t$mdToast.show($mdToast.base({\n\t\t\t\t\t\t\t\targs: {\n\t\t\t\t\t\t\t\t\tmensaje: \"Su usuario o contraseña son erroneos por favor verifique los mismos y vuelva a ingresar\",\n\t\t\t\t\t\t\t\t\tclase: \"danger\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}));\n\n\t\t\t\t\t\t}).finally(function () {\n\n\t\t\t\t\t\t\tbz.completadoLogin = true;\n\n\t\t\t\t\t\t});\n\n\n\t\t\t\t\t}\n\n\t\t\t\t};\n\n\t\t\t\tbz.completadoRegistro = true;\n\n\t\t\t\tbz.registrar = function (datos, valido) {\n\n\t\t\t\t\tif (valido && bz.completadoRegistro) {\n\n\t\t\t\t\t\tbz.registroForm.falloRegistro = false;\n\t\t\t\t\t\tbz.completadoRegistro = false;\n\n\t\t\t\t\t\tclientesService.registrar(datos.nombreCliente, datos.correo, datos.pass, datos.telefono, datos.pais).then(function () {\n\n\t\t\t\t\t\t\tif (clientesService.autorizado(true)) {\n\n\t\t\t\t\t\t\t\t$mdToast.show($mdToast.base({\n\t\t\t\t\t\t\t\t\targs: {\n\t\t\t\t\t\t\t\t\t\tmensaje: \"¡Registro exitoso!\",\n\t\t\t\t\t\t\t\t\t\tclase: \"success\"\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}));\n\n\t\t\t\t\t\t\t\t$rootScope.mostrarModalLogin = false;\n\n\t\t\t\t\t\t\t\tif ($rootScope.callbackLogin) {\n\t\t\t\t\t\t\t\t\t$rootScope.callbackLogin();\n\t\t\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}).catch(function () {\n\n\t\t\t\t\t\t\tbz.registroForm.falloRegistro = true;\n\n\t\t\t\t\t\t}).finally(function () {\n\n\t\t\t\t\t\t\tbz.completadoRegistro = true;\n\t\t\t\t\t\t});\n\n\t\t\t\t\t}\n\n\t\t\t\t};\n\n\t\t\t\tbz.olvido = {\n\t\t\t\t\ttipo: \"cliente\"\n\t\t\t\t};\n\n\t\t\t\tbz.forgotPass = function (datos, v) {\n\t\t\t\t\tif (v) {\n\t\t\t\t\t\tbz.peticion = true;\n\t\t\t\t\t\tbz.loaderCargando2 = true;\n\t\t\t\t\t\tclientesService.forgotPass(datos).then(function () {\n\t\t\t\t\t\t\tbz.rc = 2;\n\t\t\t\t\t\t\tbz.loaderCargando2 = false;\n\t\t\t\t\t\t\t$mdToast.show($mdToast.base({\n\t\t\t\t\t\t\t\targs: {\n\t\t\t\t\t\t\t\t\tmensaje: \"Codigo enviado al correo.\",\n\t\t\t\t\t\t\t\t\tclase: \"success\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t}).catch(function () {\n\t\t\t\t\t\t\tbz.loaderCargando = false;\n\t\t\t\t\t\t}).finally(function () {\n\t\t\t\t\t\t\tbz.peticion = false;\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tbz.confirmarToken = function (opcion, val) {\n\t\t\t\t\tbz.peticion = true;\n\t\t\t\t\tif (opcion == true) {\n\t\t\t\t\t\tif (val) {\n\t\t\t\t\t\t\tclientesService.cambiarContrasena(bz.olvido).then(function () {\n\n\t\t\t\t\t\t\t\tbz.completadoLogin = true;\n\n\t\t\t\t\t\t\t\tvar datos = {\n\t\t\t\t\t\t\t\t\tcorreo: bz.olvido.correo,\n\t\t\t\t\t\t\t\t\tpass: bz.olvido.pass\n\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\tbz.loaderCargando2 = false;\n\t\t\t\t\t\t\t\tbz.login(datos, true);\n\n\t\t\t\t\t\t\t}).finally(function () {\n\t\t\t\t\t\t\t\tbz.peticion = false;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tclientesService.confirmarToken(bz.olvido.token).then(function (res) {\n\t\t\t\t\t\t\tif (res) {\n\t\t\t\t\t\t\t\tbz.rc = 3;\n\t\t\t\t\t\t\t\t$mdToast.show($mdToast.base({\n\t\t\t\t\t\t\t\t\targs: {\n\t\t\t\t\t\t\t\t\t\tmensaje: \"Codigo Confirmado.\",\n\t\t\t\t\t\t\t\t\t\tclase: \"success\"\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}).catch(function () {\n\t\t\t\t\t\t\t//console.log(res)\n\t\t\t\t\t\t}).finally(function () {\n\t\t\t\t\t\t\tbz.peticion = false;\n\t\t\t\t\t\t});\n\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t/* REDES SOCIALES */\n\n\t\t\t\tbz.social = function (op) {\n\n\t\t\t\t\tswitch (op) {\n\t\t\t\t\t\tcase \"fb\":\n\n\t\t\t\t\t\t\tsocialAuth.facebook().then(function (res) {\n\n\t\t\t\t\t\t\t\tif (clientesService.autorizado(true)) {\n\n\t\t\t\t\t\t\t\t\t$mdToast.show($mdToast.base({\n\t\t\t\t\t\t\t\t\t\targs: {\n\t\t\t\t\t\t\t\t\t\t\tmensaje: \"¡Bienvenido! \" + res.data.msg,\n\t\t\t\t\t\t\t\t\t\t\tclase: \"success\"\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}));\n\n\n\t\t\t\t\t\t\t\t\t$rootScope.mostrarModalLogin = false;\n\n\t\t\t\t\t\t\t\t\tif ($rootScope.callbackLogin) {\n\t\t\t\t\t\t\t\t\t\t$rootScope.callbackLogin();\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\t\t}).catch(function () {\n\t\t\t\t\t\t\t\t$mdToast.show($mdToast.base({\n\t\t\t\t\t\t\t\t\targs: {\n\t\t\t\t\t\t\t\t\t\tmensaje: \"Un error ha ocurrido\",\n\t\t\t\t\t\t\t\t\t\tclase: \"danger\"\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t\t}).finally(function () {\n\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase \"gg\":\n\n\t\t\t\t\t\t\tsocialAuth.google().then(function (res) {\n\t\t\t\t\t\t\t\tif (clientesService.autorizado(true)) {\n\n\t\t\t\t\t\t\t\t\t$mdToast.show($mdToast.base({\n\t\t\t\t\t\t\t\t\t\targs: {\n\t\t\t\t\t\t\t\t\t\t\tmensaje: \"¡Bienvenido! \" + res.data.msg,\n\t\t\t\t\t\t\t\t\t\t\tclase: \"success\"\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}));\n\n\n\t\t\t\t\t\t\t\t\t$rootScope.mostrarModalLogin = false;\n\n\t\t\t\t\t\t\t\t\tif ($rootScope.callbackLogin) {\n\t\t\t\t\t\t\t\t\t\t$rootScope.callbackLogin();\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}).catch(function () {\n\t\t\t\t\t\t\t\t$mdToast.show($mdToast.base({\n\t\t\t\t\t\t\t\t\targs: {\n\t\t\t\t\t\t\t\t\t\tmensaje: \"Un error ha ocurrido\",\n\t\t\t\t\t\t\t\t\t\tclase: \"danger\"\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t\t}).finally(function () {\n\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tbz.noLoguear = function () {\n\t\t\t\t\t$rootScope.mostrarModalLogin = false;\n\t\t\t\t\t$state.go('inicio');\n\t\t\t\t}\n\n\t\t\t}],\n\t\t\tcontrollerAs: \"bazamLogin\"\n\t\t};\n\n\n\t}])\n\n\t.directive(\"bazamModalLogin\", [function () {\n\t\treturn {\n\t\t\trestrict: \"E\",\n\t\t\ttemplateUrl: \"app/templates/bazamModalLogin.tpl\"\n\t\t};\n\n\t}]);\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/directives/bazamFormLogin.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/directives/bazamMail.js":
/*!*************************************************************!*\
  !*** ./public/creador-de-logos/app/directives/bazamMail.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("angular.module(\"disenador-de-logos\")\n\n    .directive(\"bazamMail\", [\"clientesService\", \"$q\", function (clientesService, $q) {\n        return {\n            require: \"ngModel\",\n            link: function (scope, element, attributes, ctrl) {\n\n                ctrl.$asyncValidators.disponible = function (modelValor) {\n\n                    var defered = $q.defer();\n                    var promise = defered.promise;\n\n                    if (ctrl.$isEmpty(modelValor)) {\n                        return defered.resolve();\n                    }\n\n                    clientesService.correoDisponible(modelValor)\n                        .then(function () {\n                            defered.resolve();\n                        })\n                        .catch(function () {\n                            defered.reject();\n                        });\n\n                    return promise;\n\n                };\n\n            }\n        };\n\n    }]);\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/directives/bazamMail.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/directives/bazamPalettePicker.js":
/*!**********************************************************************!*\
  !*** ./public/creador-de-logos/app/directives/bazamPalettePicker.js ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("angular.module(\"disenador-de-logos\")\n\t.directive(\"bazamPalettePicker\", [function(){\n\t\treturn {\n\t\t\trestrict: \"AE\",\n\t\t\tscope: true,\n\t\t\ttemplateUrl: \"app/templates/bazamPalettePicker.tpl\",\n\t\t\tcontroller: [\"$scope\", \"coloresPaletteValue\", function ($scope, coloresPaletteValue){\n\n\t\t\t\tvar bz = $scope.$parent.inicio;\n\n\t\t\t\tbz.palettes = coloresPaletteValue;\n\n\t\t\t\tif (bz.palettesCopy == undefined) {\n\n\t\t\t\t\tbz.palettesCopy = [];\n\n\t\t\t\t\tangular.forEach(bz.palettes, function (palette, index) {\n\n\t\t\t\t\t\tbz.palettesCopy.push([]);\n\t\t\t\t\t\tvar i;\n\t\t\t\t\t\tfor (i = 0; i < palette.length; i++) {\n\t\t\t\t\t\t\tbz.palettesCopy[index].push(false);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\n\t\t\t\t$scope.seleccionarColor= function($event){\n\n\t\t\t\t\tvar indiceArrays;\n                    \n\t\t\t\t\tvar pathSVG = $event.target;\n\n\t\t\t\t\t\n\t\t\t\t\tif(pathSVG.classList.contains(\"linea-1\")){\n\t\t\t\t\t\tindiceArrays = 0;\n\t\t\t\t\t} else if(pathSVG.classList.contains(\"linea-2\")){\n\t\t\t\t\t\tindiceArrays = 1;\n\t\t\t\t\t} else if(pathSVG.classList.contains(\"linea-3\")){\n\t\t\t\t\t\tindiceArrays = 2;\n\t\t\t\t\t} else if(pathSVG.classList.contains(\"linea-4\")){\n\t\t\t\t\t\tindiceArrays = 3;\n\t\t\t\t\t}\n\n\n\t\t\t\t\tvar indicePalettes = parseInt(angular.element(pathSVG).data(\"index\")) - 1;\n                    \n\t\t\t\t\tvar valor = bz.palettesCopy[indiceArrays][indicePalettes];\n                    \n\t\t\t\t\tbz.palettesCopy[indiceArrays][indicePalettes] = !valor;\n\n\t\t\t\t\t!valor ? pathSVG.classList.add(\"color-checked\") : pathSVG.classList.remove(\"color-checked\");\n\n\t\t\t\t};\n                \n\n\t\t\t\t$scope.checkRequired = function(){\n\n\t\t\t\t\tvar requerir = true;\n\t\t\t\t\tangular.forEach(bz.palettesCopy, function(palettes){\n\t\t\t\t\t\tangular.forEach(palettes, function(palette){\n\t\t\t\t\t\t\tif(palette){\n\t\t\t\t\t\t\t\trequerir = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n                    \n\t\t\t\t\treturn requerir;\n\t\t\t\t};\n\n\t\t\t}],\n\t\t\tlink: function (scope, element) {\n\n\t\t\t\telement.find(\"[data-index]\").each(function(index, el){\n\n\t\t\t\t\tvar bz = scope.$parent.inicio;\n\n\t\t\t\t\tvar indiceArrays;\n\n\t\t\t\t\tswitch (el.className.baseVal){\n\t\t\t\t\tcase \"linea-1\":\n\t\t\t\t\t\tindiceArrays = 0;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"linea-2\":\n\t\t\t\t\t\tindiceArrays = 1;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"linea-3\":\n\t\t\t\t\t\tindiceArrays = 2;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"linea-4\":\n\t\t\t\t\t\tindiceArrays = 3;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar indicePalettes = parseInt(angular.element(el).data(\"index\")) - 1;\n\n\t\t\t\t\tvar valor = bz.palettesCopy[indiceArrays][indicePalettes];\n\n\t\t\t\t\tvalor ? el.classList.add(\"color-checked\") : el.classList.remove(\"color-checked\");\n\t\t\t\t\tel.style.fill = bz.palettes[indiceArrays][indicePalettes][0];\n\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t}]);\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/directives/bazamPalettePicker.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/directives/bazamRedireccionar.js":
/*!**********************************************************************!*\
  !*** ./public/creador-de-logos/app/directives/bazamRedireccionar.js ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("angular.module(\"disenador-de-logos\")\n\n\t/////////////////////////////////////////////\n\t//////REDIRECCIONAR EN CAMBIO DE TAMAÑO//////\n\t/////////////////////////////////////////////\n\n\t.directive(\"bazamRedireccionar\", function ($window, $location) {\n\n\t\treturn {\n\t\t\trestrict: \"AE\",\n\t\t\tlink: function () {\n\n\t\t\t\tif ($window.innerWidth < 1024) {\n\t\t\t\t\t$window.location = \"/m\" + $location.url();\n\t\t\t\t}\n\n\t\t\t\tangular.element(window).resize(function () {\n\t\t\t\t\tif ($window.innerWidth < 1024) {\n\t\t\t\t\t\t$window.location = \"/m\" + $location.url();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t}\n\t\t};\n\n\t});\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/directives/bazamRedireccionar.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/directives/bazamScroll.js":
/*!***************************************************************!*\
  !*** ./public/creador-de-logos/app/directives/bazamScroll.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("angular.module(\"disenador-de-logos\")\n\n\t.directive(\"bazamScroll\", [function () {\n\t\treturn {\n\t\t\trestrict: \"AE\",\n\t\t\tlink: function (scope, element) {\n\n\t\t\t\telement.find('a.link-scroll').click(function (e) {\n\t\t\t\t\t\t\n\t\t\t\t\tvar irA = element.find(e.target.attributes.href.value);\n\n\t\t\t\t\tangular.element('body').animate({\n\t\t\t\t\t\tscrollTop: irA[0].offsetTop\n\t\t\t\t\t}, 1000);\n\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\n\t\t\t}\n\t\t};\n\n\t}]);\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/directives/bazamScroll.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/directives/bazamSvg.js":
/*!************************************************************!*\
  !*** ./public/creador-de-logos/app/directives/bazamSvg.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("angular.module(\"disenador-de-logos\")\n\n\n\t//////////////////////////////\n\t//////EDICION DEL SVG/////////\n\t//////////////////////////////\n\n\t.directive(\"bazamSvg\", [\"$rootScope\", \"fontService\", \"$timeout\", \"$q\", \"coloresPaletaValue\", function ($rootScope, fontService, $timeout, $q, coloresPaletaValue) {\n\t\treturn {\n\t\t\trestrict: \"AE\",\n\t\t\tscope: {\n\n\t\t\t\tsvg: \"=svg\",\n\t\t\t\ttexto: \"=texto\",\n\t\t\t\tfuente: \"=fuente\",\n\t\t\t\tsvgFinal: \"=svgFinal\",\n\t\t\t\tidLogo: \"=idLogo\",\n\t\t\t\tidPadre: \"=idPadre\",\n\t\t\t\teslogan: \"=eslogan\",\n\t\t\t\tcolorIcono: \"=colorIcono\",\n\t\t\t\tcolorTexto: \"=colorTexto\"\n\n\n\t\t\t},\n\t\t\tcontroller: function ($scope)\n\n\t\t\t{\n\n\t\t\t\t$scope.svgPreparado = $q.defer();\n\n\t\t\t\tif (!$scope.idLogo && !$scope.idPadre) { //si no es un logo previamente guardado\n\n\t\t\t\t\t$scope.fuenteCargada = fontService.preparar($scope.fuente.nombre, $scope.fuente.url);\n\n\t\t\t\t\t$scope.svgSaneado = $scope.svg.trim();\n\n\t\t\t\t\tvar posicion1 = $scope.svgSaneado.search(\">\");\n\n\t\t\t\t\t//svg tag\n\t\t\t\t\t$scope.svgTagIncompleto = $scope.svgSaneado.substr(0, posicion1 + 1);\n\n\t\t\t\t\tvar posicion2 = $scope.svgSaneado.substr(posicion1 + 1).search(\"</svg>\");\n\n\t\t\t\t\t//contenido del svg\n\t\t\t\t\t$scope.seccionInterna = $scope.svgSaneado.substr(posicion1 + 1).substr(0, posicion2);\n\n\t\t\t\t\t//recipiente de secciones del svg original\n\t\t\t\t\t$scope.seccionInternaElementos = [];\n\n\t\t\t\t\t//indices del elemento\n\t\t\t\t\t$scope.elementosIndices = [];\n\n\t\t\t\t\t//division en partes del svg\n\t\t\t\t\t$scope.seccionInterna.trim().split(\">\").forEach(function (parte, index) {\n\t\t\t\t\t\tvar indiceParte = \" data-indice='\" + index + \"'\";\n\t\t\t\t\t\tif (parte != \"\") { //si no es un tag de cerrar\n\t\t\t\t\t\t\tif (parte.search(\"</\") == -1) {\n\t\t\t\t\t\t\t\t//si es un tag compuesto, ej: \n\t\t\t\t\t\t\t\tif (parte.search(\"/\") == -1) {\n\t\t\t\t\t\t\t\t\t$scope.seccionInternaElementos.push(parte + indiceParte + \">\");\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t//si no es un tag compuesto, ej: path\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\t$scope.seccionInternaElementos.push(parte.replace(\"/\", \"\") + indiceParte + \"/>\");\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t//si es un tag de cerrar\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$scope.seccionInternaElementos.push(parte + \">\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$scope.elementosIndices.push(false);\n\t\t\t\t\t});\n\t\t\t\t\t//union del nuevo contenido\n\t\t\t\t\t$scope.seccionInterna = $scope.seccionInternaElementos.join(\"\");\n\n\t\t\t\t\t$scope.svgTag = $scope.svgTagIncompleto + $scope.seccionInterna + \"</svg>\";\n\n\t\t\t\t} else if ($scope.idLogo || $scope.idPadre) { //si es un logo previamente guardado\n\n\t\t\t\t\t$scope.elementosIndices = [];\n\n\t\t\t\t}\n\n\t\t\t},\n\t\t\tlink: {\n\t\t\t\tpre: function (scope, element) {\n\n\t\t\t\t\tvar tamanoBase = 100;\n\n\t\t\t\t\tif (!scope.idLogo && !scope.idPadre) { // si no es un logo guardado previamente\n\n\t\t\t\t\t\tscope.fuenteCargada\n\t\t\t\t\t\t\t.then(function () {})\n\t\t\t\t\t\t\t.catch(function () {})\n\t\t\t\t\t\t\t.finally(function () {\n\n\n\t\t\t\t\t\t\t\t////////////////////////////////////////////////////////////\n\t\t\t\t\t\t\t\t//////Insertamos el SVG del icono dentro del SVG padre//////\n\t\t\t\t\t\t\t\t////////////////////////////////////////////////////////////\n\n\t\t\t\t\t\t\t\telement[0].innerHTML = \"<svg viewBox='0 0 \" + tamanoBase + \" \" + tamanoBase + \"'><g class='contenedor-icono'>\" + scope.svgTag + \"</g></svg>\";\n\n\t\t\t\t\t\t\t\tvar relacion = element[0].children[0].getClientRects()[0].height / tamanoBase;\n\n\t\t\t\t\t\t\t\tvar svgIcono = element[0].children[0].children[0].children[0];\n\n\t\t\t\t\t\t\t\tsvgIcono.setAttribute(\"height\", (tamanoBase / 2) + \"px\");\n\t\t\t\t\t\t\t\tsvgIcono.setAttribute(\"fill\", scope.colorIcono);\n\n\t\t\t\t\t\t\t\t/////////////////////////////////////////\n\t\t\t\t\t\t\t\t////////creamos el elemento Text/////////\n\t\t\t\t\t\t\t\t/////////////////////////////////////////\n\n\t\t\t\t\t\t\t\tvar texto = document.createElementNS(\"http://www.w3.org/2000/svg\", \"text\");\n\n\t\t\t\t\t\t\t\ttexto.setAttributeNS(null, \"x\", (tamanoBase / 2));\n\n\t\t\t\t\t\t\t\tvar textoNode = document.createTextNode(scope.texto);\n\n\t\t\t\t\t\t\t\ttexto.appendChild(textoNode);\n\n\t\t\t\t\t\t\t\telement[0].children[0].appendChild(texto);\n\n\t\t\t\t\t\t\t\tvar svgTexto = element[0].children[0].children[1];\n\n\n\t\t\t\t\t\t\t\tsvgTexto.style.fill = scope.colorTexto;\n\t\t\t\t\t\t\t\tsvgTexto.style.fontSize = (tamanoBase / 2) + \"px\";\n\t\t\t\t\t\t\t\tsvgTexto.setAttribute(\"text-anchor\", \"middle\");\n\t\t\t\t\t\t\t\tsvgTexto.setAttribute(\"font-family\", scope.fuente.nombre);\n\t\t\t\t\t\t\t\tsvgTexto.setAttribute(\"class\", \"textoPrincipal\");\n\n\t\t\t\t\t\t\t\t//////////////////////////////////////////////////////////////////////\n\t\t\t\t\t\t\t\t////ajustamos el tamaño del texto en relacion al tamaño del icono/////\n\t\t\t\t\t\t\t\t//////////////////////////////////////////////////////////////////////\n\n\t\t\t\t\t\t\t\twhile (svgTexto.getComputedTextLength() > (1.6 * svgIcono.height.baseVal.value)) {\n\n\t\t\t\t\t\t\t\t\tsvgTexto.style.fontSize = (parseFloat(svgTexto.style.fontSize) - 1) + \"px\";\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t///////////////////////////////////\n\t\t\t\t\t\t\t\t/////centramos los elementos///////\n\t\t\t\t\t\t\t\t///////////////////////////////////\n\n\t\t\t\t\t\t\t\tvar paddingTopIcono = ((tamanoBase - (svgIcono.height.baseVal.value + (svgTexto.getClientRects()[0].height / relacion))) / 2);\n\n\t\t\t\t\t\t\t\tsvgIcono.setAttribute(\"y\", paddingTopIcono);\n\n\t\t\t\t\t\t\t\tvar paddingTopText = (paddingTopIcono + parseFloat(svgIcono.getAttribute(\"height\")) + ((svgTexto.getClientRects()[0].height / relacion) / 1.3)) + \"px\";\n\n\t\t\t\t\t\t\t\tsvgTexto.setAttribute(\"y\", paddingTopText);\n\n\t\t\t\t\t\t\t\tif (((svgTexto.getClientRects()[0].height / relacion) + svgIcono.height.baseVal.value) >= tamanoBase) {\n\n\t\t\t\t\t\t\t\t\twhile (((svgTexto.getClientRects()[0].height / relacion) + svgIcono.height.baseVal.value) >= tamanoBase) {\n\n\t\t\t\t\t\t\t\t\t\tsvgIcono.setAttribute(\"height\", (parseFloat(svgIcono.getAttribute(\"height\")) * 0.95) + \"px\");\n\n\t\t\t\t\t\t\t\t\t\tsvgTexto.style.fontSize = (parseFloat(svgTexto.style.fontSize) * 0.95) + \"px\";\n\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tpaddingTopIcono = ((tamanoBase - (svgIcono.height.baseVal.value + (svgTexto.getClientRects()[0].height / relacion))) / 2);\n\n\t\t\t\t\t\t\t\t\tsvgIcono.setAttribute(\"y\", paddingTopIcono);\n\n\t\t\t\t\t\t\t\t\tpaddingTopText = (paddingTopIcono + parseFloat(svgIcono.getAttribute(\"height\")) + ((svgTexto.getClientRects()[0].height / relacion) / 1.3)) + \"px\";\n\n\t\t\t\t\t\t\t\t\tsvgTexto.setAttribute(\"y\", paddingTopText);\n\n\t\t\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\t\t\t//agregamos el Style Tag al svg\n\t\t\t\t\t\t\t\telement.children().prepend(\"<style> @font-face { font-family: '\" + scope.fuente.nombre + \"'; src: url('\" + scope.fuente.url + \"')}  </style>\");\n\n\t\t\t\t\t\t\t\tscope.svgPreparado.resolve();\n\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t} else if (scope.idLogo || scope.idPadre) { // si es un logo previamenteguardado\n\n\t\t\t\t\t\telement.html(scope.svg);\n\n\t\t\t\t\t\telement.find(\"g.contenedor-icono > svg [data-indice]\").each(function () {\n\n\t\t\t\t\t\t\tscope.elementosIndices[parseInt(this.getAttribute(\"data-indice\"))] = false;\n\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tscope.texto = element.find(\"text.textoPrincipal\").text();\n\n\t\t\t\t\t\tif (element.find(\"text.eslogan\").length) {\n\n\n\t\t\t\t\t\t\tscope.eslogan = element.find(\"text.eslogan\").text();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tscope.svgPreparado.resolve();\n\n\t\t\t\t\t}\n\n\n\n\n\t\t\t\t},\n\t\t\t\tpost: function (scope, element) {\n\n\t\t\t\t\t//esperamos a que la fuente haya cargado\n\t\t\t\t\tscope.svgPreparado.promise.finally(function () {\n\n\t\t\t\t\t\t//reinsertamos el svg para permitir que se muestre\n\t\t\t\t\t\telement.html(element.html());\n\n\t\t\t\t\t\tscope.svgFinal = element.html();\n\n\t\t\t\t\t\tvar fuentes = {\n\t\t\t\t\t\t\tprincipal: scope.fuente,\n\t\t\t\t\t\t\teslogan: null\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tvar paletaColores = coloresPaletaValue;\n\n\t\t\t\t\t\t//evento para los hijos directos de seccion-icono\n\t\t\t\t\t\tangular.element(\"bazam-svg\").on(\"click\", \"g.contenedor-icono > svg :not(g), .textoPrincipal, .eslogan\", function (e) {\n\n\t\t\t\t\t\t\t/* COLOPICKER */\n\t\t\t\t\t\t\tvar coordenadasCon = angular.element(\".svg-container\")[0].getBoundingClientRect();\n\n\t\t\t\t\t\t\tvar titulo = \"\";\n\t\t\t\t\t\t\tvar id = \"\";\n\n\t\t\t\t\t\t\t\n\n\t\t\t\t\t\t\tvar crearPicker = function (id) {\n\n\t\t\t\t\t\t\t\tif (angular.element(\"#\" + id).length) {\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tvar posicionPicker;\n\n\t\t\t\t\t\t\t\tswitch (id) {\n\n\t\t\t\t\t\t\t\tcase \"color-picker-icono\":\n\t\t\t\t\t\t\t\t\tposicionPicker = {\n\t\t\t\t\t\t\t\t\t\t\"position\": \"fixed\",\n\t\t\t\t\t\t\t\t\t\t\"left\": coordenadasCon.right + 10,\n\t\t\t\t\t\t\t\t\t\t\"top\": coordenadasCon.top - 10,\n\t\t\t\t\t\t\t\t\t\t\"width\": coordenadasCon.width / 1.6,\n\t\t\t\t\t\t\t\t\t\t\"height\": coordenadasCon.height / 2,\n\t\t\t\t\t\t\t\t\t\t\"background-color\": \"white\",\n\t\t\t\t\t\t\t\t\t\t\"z-index\": \"2\"\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tcase \"color-picker-texto\":\n\t\t\t\t\t\t\t\t\tposicionPicker = {\n\t\t\t\t\t\t\t\t\t\t\"position\": \"fixed\",\n\t\t\t\t\t\t\t\t\t\t\"left\": coordenadasCon.left - (coordenadasCon.width / 2) - 10,\n\t\t\t\t\t\t\t\t\t\t\"top\": coordenadasCon.top - 40,\n\t\t\t\t\t\t\t\t\t\t\"width\": coordenadasCon.width / 1.6,\n\t\t\t\t\t\t\t\t\t\t\"height\": coordenadasCon.height / 2,\n\t\t\t\t\t\t\t\t\t\t\"background-color\": \"white\",\n\t\t\t\t\t\t\t\t\t\t\"z-index\": \"2\"\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tcase \"color-picker-eslogan\":\n\t\t\t\t\t\t\t\t\tposicionPicker = {\n\t\t\t\t\t\t\t\t\t\t\"position\": \"fixed\",\n\t\t\t\t\t\t\t\t\t\t\"left\": coordenadasCon.left - (coordenadasCon.width / 2) - 10,\n\t\t\t\t\t\t\t\t\t\t\"top\": coordenadasCon.top + 10 + (coordenadasCon.height / 2),\n\t\t\t\t\t\t\t\t\t\t\"width\": coordenadasCon.width / 1.6,\n\t\t\t\t\t\t\t\t\t\t\"height\": coordenadasCon.height / 2,\n\t\t\t\t\t\t\t\t\t\t\"background-color\": \"white\",\n\t\t\t\t\t\t\t\t\t\t\"z-index\": \"2\"\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tvar colorPicker = angular.element(\"<div class='element-color-picker'><div class='title'>\" + titulo + \" <span class='close-color-picker'><i class='material-icons cerrar'>clear</i></span></div></div>\");\n\n\t\t\t\t\t\t\t\tcolorPicker.attr(\"id\", id);\n\n\t\t\t\t\t\t\t\tcolorPicker.css(posicionPicker);\n\n\t\t\t\t\t\t\t\tangular.forEach(paletaColores, function (color) {\n\n\t\t\t\t\t\t\t\t\tvar colorIndividual = angular.element(\"<div></div>\");\n\n\t\t\t\t\t\t\t\t\tcolorIndividual.addClass(\"color\");\n\n\t\t\t\t\t\t\t\t\tcolorIndividual.attr(\"data-color\", color);\n\n\t\t\t\t\t\t\t\t\tcolorIndividual.css({\n\t\t\t\t\t\t\t\t\t\t\"background-color\": color,\n\t\t\t\t\t\t\t\t\t\t\"width\": \"4.2%\",\n\t\t\t\t\t\t\t\t\t\t\"height\": \"6.7%\",\n\t\t\t\t\t\t\t\t\t\t\"display\": \"inline-block\"\n\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\tcolorPicker.append(colorIndividual);\n\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\tangular.element(\".principal-container.editor\").append(colorPicker);\n\n\t\t\t\t\t\t\t\tcolorPicker.draggable({\n\t\t\t\t\t\t\t\t\trevert:false\n\t\t\t\t\t\t\t\t  });\n\n\t\t\t\t\t\t\t};\n\n\n\n\t\t\t\t\t\t\tvar clicked = angular.element(e.target);\n\n\t\t\t\t\t\t\tif (clicked.hasClass(\"textoPrincipal\")) {\n\n\t\t\t\t\t\t\t\ttitulo = \"NOMBRE\";\n\t\t\t\t\t\t\t\tid = \"color-picker-texto\";\n\n\t\t\t\t\t\t\t} else if (clicked.hasClass(\"eslogan\")) {\n\n\t\t\t\t\t\t\t\ttitulo = \"ESLOGAN\";\n\t\t\t\t\t\t\t\tid = \"color-picker-eslogan\";\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\ttitulo = \"ICONO\";\n\t\t\t\t\t\t\t\tid = \"color-picker-icono\";\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tcrearPicker(id);\n\n\t\t\t\t\t\t\tif (clicked.hasClass(\"textoPrincipal\") || clicked.hasClass(\"eslogan\")) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t//angular.element(\"body\").append(\"<div style='position:fixed; left: 50%; top: 50%; background: white; width: 200px; height: 200px'> hola </div>\")\n\n\t\t\t\t\t\t\tangular.element(\".seleccionado\").removeClass(\"seleccionado\");\n\t\t\t\t\t\t\tangular.element(this).addClass(\"seleccionado\");\n\n\t\t\t\t\t\t\t//obtenemos el indice que es espejo del array\n\t\t\t\t\t\t\tvar indiceParte = angular.element(this).attr(\"data-indice\");\n\n\t\t\t\t\t\t\t//definimos en false todos los valores del array\n\t\t\t\t\t\t\tscope.elementosIndices.forEach(function (valor, indice) {\n\n\t\t\t\t\t\t\t\tscope.elementosIndices[indice] = false;\n\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t//definimos en true la seccion objetivo\n\t\t\t\t\t\t\tscope.elementosIndices[indiceParte] = true;\n\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tangular.element(\".principal-container.editor\").on(\"click\", \"#color-picker-icono, #color-picker-texto, #color-picker-eslogan\", function (e) {\n\n\t\t\t\t\t\t\tvar contenedorColor = angular.element(e.target);\n\n\t\t\t\t\t\t\tvar color = contenedorColor.data(\"color\");\n\n\t\t\t\t\t\t\tvar colorPicker = contenedorColor.parent();\n\n\t\t\t\t\t\t\tswitch (colorPicker.attr(\"id\")) {\n\n\t\t\t\t\t\t\tcase \"color-picker-icono\":\n\n\t\t\t\t\t\t\t\tvar indice = scope.elementosIndices.indexOf(true);\n\t\t\t\t\t\t\t\t//cambiamos el color al correcto\n\t\t\t\t\t\t\t\telement.find(\"[data-indice=\" + indice + \"]\").css(\"fill\", color);\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase \"color-picker-texto\":\n\t\t\t\t\t\t\t\telement.find(\"text.textoPrincipal\").css(\"fill\", color);\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase \"color-picker-eslogan\":\n\t\t\t\t\t\t\t\telement.find(\"text.eslogan\").css(\"fill\", color);\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t});\n\n\n\t\t\t\t\t\tangular.element(\".principal-container.editor\").on(\"click\", \".close-color-picker\", function () {\n\n\t\t\t\t\t\t\tvar colorPicker = angular.element(this).parents(\".element-color-picker\");\n\n\t\t\t\t\t\t\tif (colorPicker.attr(\"id\") == \"color-picker-icono\") {\n\t\t\t\t\t\t\t\tangular.element(\".seleccionado\").removeClass(\"seleccionado\");\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tcolorPicker.remove();\n\n\n\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tscope.$on(\"editor:cerrarColorPickers\", function () {\n\n\t\t\t\t\t\t\tangular.element(\".color-picker-bazam:not(#color-picker-fondo)\").remove();\n\t\t\t\t\t\t\tangular.element(\".seleccionado\").removeClass(\"seleccionado\");\n\n\t\t\t\t\t\t});\n\n\n\t\t\t\t\t\t////////////////////////////////////////////\n\t\t\t\t\t\t////////vigilamos el cambio de texto////////\n\t\t\t\t\t\t////////////////////////////////////////////\n\n\t\t\t\t\t\tscope.$on(\"editor:texto\", function (evento, texto) {\n\n\t\t\t\t\t\t\tvar textoFinal = texto.texto;\n\n\t\t\t\t\t\t\tvar selector = !texto.eslogan ? \".textoPrincipal\" : \".eslogan\";\n\n\t\t\t\t\t\t\telement.find(selector).text(textoFinal);\n\t\t\t\t\t\t\tobtenerSVGFinal();\n\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tscope.$on(\"editor:eliminarEslogan\", function () {\n\n\t\t\t\t\t\t\telement.find(\".eslogan\").remove();\n\t\t\t\t\t\t\tobtenerSVGFinal();\n\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t/////////////////////////////////////////////\n\t\t\t\t\t\t///vigilamos el cambio de fuente del texto///\n\t\t\t\t\t\t/////////////////////////////////////////////\n\n\t\t\t\t\t\tscope.$on(\"editor:fuente\", function (evento, datos) {\n\n\n\t\t\t\t\t\t\tvar selector = datos.objetivo == \"texto\" ? \"text.textoPrincipal\" : \"text.eslogan\";\n\t\t\t\t\t\t\tvar keyFuente = datos.objetivo == \"texto\" ? \"principal\" : \"eslogan\";\n\n\t\t\t\t\t\t\tfuentes[keyFuente] = datos.fuente;\n\n\t\t\t\t\t\t\tvar htmlStyle = \"\";\n\n\n\n\t\t\t\t\t\t\tif (fuentes.principal && fuentes.eslogan) {\n\n\t\t\t\t\t\t\t\thtmlStyle = \"@font-face { font-family: '\" + fuentes.principal.nombre + \"'; src: url('\" + fuentes.principal.url + \"')}\\n @font-face { font-family: '\" + fuentes.eslogan.nombre + \"'; src: url('\" + fuentes.eslogan.url + \"')}\";\n\n\t\t\t\t\t\t\t} else if (fuentes.principal) {\n\n\t\t\t\t\t\t\t\thtmlStyle = \"@font-face { font-family: '\" + fuentes.principal.nombre + \"'; src: url('\" + fuentes.principal.url + \"')}\";\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t//cambiamos la font-family al correcto\n\n\t\t\t\t\t\t\telement.find(selector).attr(\"font-family\", datos.fuente.nombre);\n\n\t\t\t\t\t\t\telement.children().children(\"style\").html(htmlStyle);\n\n\t\t\t\t\t\t\tobtenerSVGFinal();\n\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t/////////////////////////////////////////////\n\t\t\t\t\t\t/////vigilamos las propiedades del texto/////\n\t\t\t\t\t\t/////////////////////////////////////////////\n\n\t\t\t\t\t\tscope.$on(\"editor:propiedad\", function (evento, propiedad) {\n\n\t\t\t\t\t\t\tvar selector = propiedad.eslogan ? \"text.eslogan\" : \"text.textoPrincipal\";\n\n\t\t\t\t\t\t\tif (propiedad.propiedad == \"bold\") {\n\n\t\t\t\t\t\t\t\tvar grosor = element.find(selector).attr(\"font-weight\") == \"bold\" ? \"normal\" : \"bold\";\n\n\t\t\t\t\t\t\t\t//cambiamos la font-weight al correcto\n\t\t\t\t\t\t\t\telement.find(selector).attr(\"font-weight\", grosor);\n\n\t\t\t\t\t\t\t} else if (propiedad.propiedad == \"cursive\") {\n\n\t\t\t\t\t\t\t\tvar estilo = element.find(selector)[0].style.fontStyle == \"oblique\" ? \"normal\" : \"oblique\";\n\n\t\t\t\t\t\t\t\t//cambiamos la font-weight al correcto\n\t\t\t\t\t\t\t\telement.find(selector).css(\"font-style\", estilo);\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tobtenerSVGFinal();\n\t\t\t\t\t\t});\n\n\n\t\t\t\t\t\t/////////////////////////////////////////////\n\t\t\t\t\t\t///////vigilamos el cambio de tamaño/////////\n\t\t\t\t\t\t/////////////////////////////////////////////\n\n\t\t\t\t\t\tscope.$on(\"editor:tamano\", function (evento, datos) {\n\n\n\t\t\t\t\t\t\tif (datos.objetivo == \"texto\" || datos.objetivo == \"eslogan\") {\n\n\n\t\t\t\t\t\t\t\tvar selector = datos.objetivo == \"eslogan\" ? \"text.eslogan\" : \"text.textoPrincipal\";\n\t\t\t\t\t\t\t\tvar texto = element.find(selector);\n\t\t\t\t\t\t\t\tvar tamano = \"\";\n\t\t\t\t\t\t\t\tif (datos.accion) {\n\n\t\t\t\t\t\t\t\t\ttamano = (parseFloat(texto.css(\"font-size\")) + 1) + \"px\";\n\n\t\t\t\t\t\t\t\t} else if (!datos.accion) {\n\n\t\t\t\t\t\t\t\t\ttamano = (parseFloat(texto.css(\"font-size\")) - 1) + \"px\";\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\ttexto.css(\"font-size\", tamano);\n\n\t\t\t\t\t\t\t} else if (datos.objetivo == \"icono\") {\n\n\t\t\t\t\t\t\t\tvar icono = element.find(\"g.contenedor-icono > svg\");\n\n\t\t\t\t\t\t\t\tvar alto = parseFloat(icono.attr(\"height\"));\n\t\t\t\t\t\t\t\tvar ancho = icono.attr(\"width\") ? parseFloat(icono.attr(\"width\")) : null;\n\t\t\t\t\t\t\t\tvar altoFinal = 0;\n\t\t\t\t\t\t\t\tvar anchoFinal = 0;\n\t\t\t\t\t\t\t\tif (datos.accion) {\n\n\t\t\t\t\t\t\t\t\taltoFinal = alto + 1;\n\t\t\t\t\t\t\t\t\tanchoFinal = ancho ? ancho + 1 : null;\n\n\t\t\t\t\t\t\t\t} else if (!datos.accion) {\n\n\t\t\t\t\t\t\t\t\taltoFinal = alto - 1;\n\t\t\t\t\t\t\t\t\tanchoFinal = ancho ? ancho - 1 : null;\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\ticono.attr(\"height\", altoFinal + \"px\");\n\n\t\t\t\t\t\t\t\tif (anchoFinal) {\n\n\t\t\t\t\t\t\t\t\ticono.attr(\"width\", anchoFinal + \"px\");\n\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tobtenerSVGFinal();\n\n\t\t\t\t\t\t});\n\n\n\n\t\t\t\t\t\t/////////////////////////////////////////////\n\t\t\t\t\t\t///////////vigilamos el movimiento///////////\n\t\t\t\t\t\t/////////////////////////////////////////////\n\n\t\t\t\t\t\tvar currentX = 0;\n\t\t\t\t\t\tvar currentY = 0;\n\t\t\t\t\t\tvar currentMatrix = 0;\n\n\t\t\t\t\t\tangular.element(\"bazam-svg\").on(\"mousedown\", \"text.eslogan, text.textoPrincipal, g.contenedor-icono svg\", function (evento) {\n\n\t\t\t\t\t\t\tvar selector = evento.currentTarget.tagName == \"svg\" ? \"g.contenedor-icono\" : this;\n\n\t\t\t\t\t\t\tif (!angular.element(selector).attr(\"transform\")) {\n\n\t\t\t\t\t\t\t\tangular.element(selector).attr(\"transform\", \"matrix(1 0 0 1 0 0)\");\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tangular.element(selector).attr(\"movimiento-bz\", true);\n\n\t\t\t\t\t\t\tcurrentX = evento.clientX;\n\n\t\t\t\t\t\t\tcurrentY = evento.clientY;\n\n\t\t\t\t\t\t\tcurrentMatrix = angular.element(selector).attr(\"transform\").slice(7, -1).split(\" \");\n\n\t\t\t\t\t\t\tfor (var i = 0; i < currentMatrix.length; i++) {\n\n\t\t\t\t\t\t\t\tcurrentMatrix[i] = parseFloat(currentMatrix[i]);\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t});\n\n\n\t\t\t\t\t\tangular.element(\"bazam-svg\").on(\"mousemove\", \"text.eslogan[movimiento-bz], text.textoPrincipal[movimiento-bz], g.contenedor-icono[movimiento-bz]\", function (evento) {\n\n\n\t\t\t\t\t\t\tif (angular.element(\"[movimiento-bz]\").length) {\n\n\t\t\t\t\t\t\t\tvar dx = evento.clientX - currentX;\n\t\t\t\t\t\t\t\tvar dy = evento.clientY - currentY;\n\n\t\t\t\t\t\t\t\tvar svgPadre = element[0].children[0];\n\n\t\t\t\t\t\t\t\tvar relacionX = (svgPadre.getClientRects()[0].width / parseFloat(element.children().attr(\"viewBox\").split(\" \")[2]));\n\n\t\t\t\t\t\t\t\tvar relacionY = (svgPadre.getClientRects()[0].height / parseFloat(element.children().attr(\"viewBox\").split(\" \")[3]));\n\n\t\t\t\t\t\t\t\tcurrentMatrix[4] += (dx / relacionY);\n\t\t\t\t\t\t\t\tcurrentMatrix[5] += (dy / relacionX);\n\n\t\t\t\t\t\t\t\tvar newMatrix = \"matrix(\" + currentMatrix.join(\" \") + \")\";\n\n\t\t\t\t\t\t\t\tangular.element(this).attr(\"transform\", newMatrix);\n\t\t\t\t\t\t\t\tcurrentX = evento.clientX;\n\t\t\t\t\t\t\t\tcurrentY = evento.clientY;\n\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tangular.element(document.querySelector(\"body\")).mouseup(function () {\n\n\t\t\t\t\t\t\tangular.element(\"text.textoPrincipal, g.contenedor-icono, text.eslogan\").removeAttr(\"movimiento-bz\");\n\n\t\t\t\t\t\t\tvar clon = angular.element(document.querySelector(\"bazam-svg\")).clone();\n\n\t\t\t\t\t\t\tclon.find(\".seleccionado\").removeClass(\"seleccionado\");\n\n\t\t\t\t\t\t\tscope.$apply(function () {\n\t\t\t\t\t\t\t\tscope.svgFinal = clon.html();\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t/*\n\t\t\t\t\t\tangular.element(document.querySelector(\".editor *\")).mouseup(function () {\n\n\t\t\t\t\t\t\tif (intermediador) {\n\n\t\t\t\t\t\t\t\telement.find(\".seleccionado\").removeClass(\"seleccionado\");\n\t\t\t\t\t\t\t\tconsole.log(\"hola\")\n\t\t\t\t\t\t\t\tangular.element(\"#color-picker-icono\").remove();\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t});\n\t\t\t\t\t\t*/\n\n\n\t\t\t\t\t\t///////////////////////////////////////////\n\t\t\t\t\t\t//////////////COMPARACION//////////////////\n\t\t\t\t\t\t///////////////////////////////////////////\n\n\n\t\t\t\t\t\tscope.$on(\"editor:comparar\", function () {\n\n\t\t\t\t\t\t\t$rootScope.$broadcast(\"directiva:comparar\", {\n\t\t\t\t\t\t\t\tsvg: element.html(),\n\t\t\t\t\t\t\t\tcreacion: Date.now()\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t});\n\n\n\t\t\t\t\t\t/////////////////////////////////////////\n\t\t\t\t\t\t//////////////ORIENTACION////////////////\n\t\t\t\t\t\t/////////////////////////////////////////\n\n\n\n\t\t\t\t\t\tscope.$on(\"editor:orientacion\", function (evento, orientacion) {\n\n\t\t\t\t\t\t\tvar tamanoBase = 100;\n\t\t\t\t\t\t\tvar svgIcono;\n\t\t\t\t\t\t\tvar svgTexto;\n\t\t\t\t\t\t\tvar eslogan;\n\n\t\t\t\t\t\t\tvar relacion = element[0].children[0].getClientRects()[0].height / tamanoBase;\n\n\t\t\t\t\t\t\tif (orientacion == \"horizontal\") {\n\n\t\t\t\t\t\t\t\tvar alturaSVG = tamanoBase;\n\t\t\t\t\t\t\t\tvar anchoSVG = tamanoBase;\n\n\t\t\t\t\t\t\t\tsvgIcono = element.find(\"g.contenedor-icono > svg\")[0];\n\n\t\t\t\t\t\t\t\tsvgIcono.setAttribute(\"height\", (alturaSVG * 0.75) + \"px\");\n\t\t\t\t\t\t\t\tsvgIcono.setAttribute(\"width\", (alturaSVG * 0.75) + \"px\");\n\t\t\t\t\t\t\t\tsvgIcono.parentElement.setAttribute(\"transform\", \"\");\n\n\n\t\t\t\t\t\t\t\t/////////////////////////////////////////\n\t\t\t\t\t\t\t\t////////creamos el elemento Text/////////\n\t\t\t\t\t\t\t\t/////////////////////////////////////////\n\n\t\t\t\t\t\t\t\tsvgTexto = element.find(\"text.textoPrincipal\")[0];\n\n\t\t\t\t\t\t\t\tsvgTexto.style.fontSize = ((alturaSVG * 0.75) / 2) + \"px\";\n\t\t\t\t\t\t\t\tsvgTexto.setAttribute(\"text-anchor\", \"left\");\n\t\t\t\t\t\t\t\tsvgTexto.setAttribute(\"transform\", \"\");\n\t\t\t\t\t\t\t\t//////////////////////////////////////////////////////////////////////\n\t\t\t\t\t\t\t\t////ajustamos el tamaño del texto en relacion al tamaño del icono/////\n\t\t\t\t\t\t\t\t//////////////////////////////////////////////////////////////////////\n\n\t\t\t\t\t\t\t\tvar anchoViewBox = parseInt(element[0].children[0].getAttribute(\"viewBox\").split(\" \")[3]);\n\n\t\t\t\t\t\t\t\twhile ((svgIcono.width.baseVal.value + (anchoSVG * 0.05) + svgTexto.getComputedTextLength()) > (anchoViewBox * 0.80)) {\n\n\t\t\t\t\t\t\t\t\tsvgTexto.style.fontSize = (parseFloat(svgTexto.style.fontSize) * 0.95) + \"px\";\n\t\t\t\t\t\t\t\t\tsvgIcono.setAttribute(\"width\", (svgIcono.width.baseVal.value * 0.95) + \"px\");\n\t\t\t\t\t\t\t\t\tsvgIcono.setAttribute(\"height\", (svgIcono.height.baseVal.value * 0.95) + \"px\");\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t///////////////////////////////////\n\t\t\t\t\t\t\t\t/////centramos los elementos///////\n\t\t\t\t\t\t\t\t///////////////////////////////////\n\n\t\t\t\t\t\t\t\t//anchoSVG - (svgIcono.width.baseVal.value + (anchoSVG * 0.05) + svgTexto.getComputedTextLength())\n\n\t\t\t\t\t\t\t\tvar totalEspacioIconoFuente = (svgIcono.width.baseVal.value + (anchoSVG * 0.05) + svgTexto.getComputedTextLength());\n\n\t\t\t\t\t\t\t\tvar paddingLeft = (anchoSVG - totalEspacioIconoFuente) / 2;\n\n\t\t\t\t\t\t\t\tsvgIcono.setAttribute(\"y\", (alturaSVG / 2) - (svgIcono.height.baseVal.value / 2));\n\t\t\t\t\t\t\t\tsvgIcono.setAttribute(\"x\", paddingLeft);\n\n\t\t\t\t\t\t\t\tsvgTexto.setAttribute(\"x\", paddingLeft + (svgIcono.width.baseVal.value + (anchoSVG * 0.05)));\n\t\t\t\t\t\t\t\tsvgTexto.setAttribute(\"y\", (alturaSVG / 2) + ((svgTexto.getClientRects()[0].height / relacion) / 4));\n\n\t\t\t\t\t\t\t\t//SI EXISTE EL ESLOGAN\n\n\t\t\t\t\t\t\t\tif (element.find(\"text.eslogan\").length) {\n\n\t\t\t\t\t\t\t\t\teslogan = element.find(\"text.eslogan\")[0];\n\n\t\t\t\t\t\t\t\t\teslogan.setAttribute(\"transform\", \"\");\n\t\t\t\t\t\t\t\t\teslogan.setAttribute(\"text-anchor\", \"left\");\n\t\t\t\t\t\t\t\t\teslogan.style.fontSize = svgTexto.style.fontSize;\n\n\t\t\t\t\t\t\t\t\teslogan.setAttribute(\"x\", svgTexto.getAttribute(\"x\"));\n\t\t\t\t\t\t\t\t\t/*\n\t\t\t\t\t\t\t\t\twhile ((eslogan.getComputedTextLength() > (svgTexto.getComputedTextLength() * 0.8))) {\n\n\t\t\t\t\t\t\t\t\t\teslogan.style.fontSize = (parseFloat(eslogan.style.fontSize) * 0.95) + \"px\";\n\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t*/\n\n\t\t\t\t\t\t\t\t\tsvgTexto.setAttribute(\"y\", (alturaSVG / 2) + ((svgTexto.getClientRects()[0].height / relacion) / 4) * 0.5);\n\n\n\n\t\t\t\t\t\t\t\t\t//AJUSTAR ALTURA ESLOGAN AQUI\n\t\t\t\t\t\t\t\t\t//eslogan.setAttribute(\"y\", (alturaSVG / 1.65));\n\n\n\n\t\t\t\t\t\t\t\t\twhile (((eslogan.getClientRects()[0].height / relacion) * 1.5) >= (svgTexto.getClientRects()[0].height / relacion)) {\n\t\t\t\t\t\t\t\t\t\teslogan.style.fontSize = (parseFloat(eslogan.style.fontSize) * 0.95) + \"px\";\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\teslogan.setAttribute(\"y\", ((alturaSVG / 2) + ((svgTexto.getClientRects()[0].height / relacion) / 4) * 0.5) + ((eslogan.getClientRects()[0].height / relacion) * 0.9));\n\n\t\t\t\t\t\t\t\t}\n\n\n\n\t\t\t\t\t\t\t} else if (orientacion == \"vertical\") {\n\n\n\t\t\t\t\t\t\t\t////////////////////////////////////////////////////////////\n\t\t\t\t\t\t\t\t//////Insertamos el SVG del icono dentro del SVG padre//////\n\t\t\t\t\t\t\t\t////////////////////////////////////////////////////////////\n\n\t\t\t\t\t\t\t\tsvgIcono = element.find(\"g.contenedor-icono > svg\")[0];\n\n\t\t\t\t\t\t\t\tsvgIcono.setAttribute(\"height\", (tamanoBase / 2) + \"px\");\n\t\t\t\t\t\t\t\tsvgIcono.removeAttribute(\"width\");\n\t\t\t\t\t\t\t\tsvgIcono.removeAttribute(\"x\");\n\t\t\t\t\t\t\t\tsvgIcono.parentElement.setAttribute(\"transform\", \"\");\n\n\t\t\t\t\t\t\t\t/////////////////////////////////////////\n\t\t\t\t\t\t\t\t////////creamos el elemento Text/////////\n\t\t\t\t\t\t\t\t/////////////////////////////////////////\n\n\t\t\t\t\t\t\t\tsvgTexto = element.find(\"text.textoPrincipal\")[0];\n\n\t\t\t\t\t\t\t\tsvgTexto.style.fontSize = (tamanoBase / 2) + \"px\";\n\t\t\t\t\t\t\t\tsvgTexto.setAttribute(\"text-anchor\", \"middle\");\n\n\t\t\t\t\t\t\t\tsvgTexto.setAttribute(\"transform\", \"\");\n\t\t\t\t\t\t\t\tsvgTexto.setAttribute(\"x\", tamanoBase / 2);\n\n\t\t\t\t\t\t\t\t//////////////////////////////////////////////////////////////////////\n\t\t\t\t\t\t\t\t////ajustamos el tamaño del texto en relacion al tamaño del icono/////\n\t\t\t\t\t\t\t\t//////////////////////////////////////////////////////////////////////\n\n\t\t\t\t\t\t\t\twhile (svgTexto.getComputedTextLength() > (1.6 * svgIcono.height.baseVal.value)) {\n\n\t\t\t\t\t\t\t\t\tsvgTexto.style.fontSize = (parseFloat(svgTexto.style.fontSize) - 1) + \"px\";\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t///////////////////////////////////\n\t\t\t\t\t\t\t\t/////centramos los elementos///////\n\t\t\t\t\t\t\t\t///////////////////////////////////\n\n\t\t\t\t\t\t\t\tvar paddingTopIcono = ((tamanoBase - (svgIcono.height.baseVal.value + (svgTexto.getClientRects()[0].height / relacion))) / 2);\n\n\t\t\t\t\t\t\t\tsvgIcono.setAttribute(\"y\", paddingTopIcono);\n\n\t\t\t\t\t\t\t\tvar paddingTopText = (paddingTopIcono + parseFloat(svgIcono.getAttribute(\"height\")) + ((svgTexto.getClientRects()[0].height / relacion) / 1.3)) + \"px\";\n\n\t\t\t\t\t\t\t\tsvgTexto.setAttribute(\"y\", paddingTopText);\n\n\t\t\t\t\t\t\t\tif (((svgTexto.getClientRects()[0].height / relacion) + svgIcono.height.baseVal.value) >= tamanoBase) {\n\n\t\t\t\t\t\t\t\t\twhile (((svgTexto.getClientRects()[0].height / relacion) + svgIcono.height.baseVal.value) >= tamanoBase) {\n\n\t\t\t\t\t\t\t\t\t\tsvgIcono.setAttribute(\"height\", (parseFloat(svgIcono.getAttribute(\"height\")) * 0.95) + \"px\");\n\n\t\t\t\t\t\t\t\t\t\tsvgTexto.style.fontSize = (parseFloat(svgTexto.style.fontSize) * 0.95) + \"px\";\n\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tpaddingTopIcono = ((tamanoBase - (svgIcono.height.baseVal.value + (svgTexto.getClientRects()[0].height / relacion))) / 2);\n\n\n\t\t\t\t\t\t\t\t\tsvgIcono.setAttribute(\"y\", paddingTopIcono);\n\n\t\t\t\t\t\t\t\t\tpaddingTopText = (paddingTopIcono + parseFloat(svgIcono.getAttribute(\"height\")) + ((svgTexto.getClientRects()[0].height / relacion) / 1.3)) + \"px\";\n\n\t\t\t\t\t\t\t\t\tsvgTexto.setAttribute(\"y\", paddingTopText);\n\n\t\t\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\t\t\tif (element.find(\"text.eslogan\").length) {\n\n\t\t\t\t\t\t\t\t\teslogan = element.find(\"text.eslogan\")[0];\n\t\t\t\t\t\t\t\t\teslogan.setAttribute(\"transform\", \"\");\n\t\t\t\t\t\t\t\t\teslogan.setAttribute(\"text-anchor\", \"middle\");\n\n\t\t\t\t\t\t\t\t\teslogan.style.fontSize = svgTexto.style.fontSize;\n\n\t\t\t\t\t\t\t\t\teslogan.setAttribute(\"x\", (tamanoBase / 2));\n\n\t\t\t\t\t\t\t\t\twhile (((eslogan.getClientRects()[0].height / relacion) * 2.5) >= (svgTexto.getClientRects()[0].height / relacion)) {\n\t\t\t\t\t\t\t\t\t\teslogan.style.fontSize = (parseFloat(eslogan.style.fontSize) * 0.95) + \"px\";\n\t\t\t\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\t\t\t\t//verificamos que los elementos no superen el alto del lienzo\n\n\t\t\t\t\t\t\t\t\twhile ((svgIcono.height.baseVal.value + (svgTexto.getClientRects()[0].height / relacion) + (eslogan.getClientRects()[0].height / relacion) * 1.3 >= tamanoBase)) {\n\n\t\t\t\t\t\t\t\t\t\tsvgIcono.setAttribute(\"height\", (parseFloat(svgIcono.getAttribute(\"height\")) * 0.95) + \"px\");\n\n\t\t\t\t\t\t\t\t\t\tsvgTexto.style.fontSize = (parseFloat(svgTexto.style.fontSize) * 0.95) + \"px\";\n\n\t\t\t\t\t\t\t\t\t\teslogan.style.fontSize = (parseFloat(eslogan.style.fontSize) * 0.95) + \"px\";\n\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tvar espacioSobrante = tamanoBase - ((svgIcono.getClientRects()[0].height + svgTexto.getClientRects()[0].height + eslogan.getClientRects()[0].height) / relacion);\n\n\n\t\t\t\t\t\t\t\t\t//AJUSTAR AQUI EL ESLOGAN\n\t\t\t\t\t\t\t\t\tsvgIcono.setAttribute(\"y\", (espacioSobrante / 2) + \"px\");\n\n\t\t\t\t\t\t\t\t\tsvgTexto.setAttribute(\"y\", (espacioSobrante / 2) + ((svgIcono.getClientRects()[0].height + svgTexto.getClientRects()[0].height) / relacion) + \"px\");\n\n\t\t\t\t\t\t\t\t\teslogan.setAttribute(\"y\", ((espacioSobrante / 2) + ((svgIcono.getClientRects()[0].height + svgTexto.getClientRects()[0].height + eslogan.getClientRects()[0].height) / relacion)) + \"px\");\n\n\n\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tobtenerSVGFinal();\n\t\t\t\t\t\t});\n\n\n\t\t\t\t\t\t////////////////////////////////\n\t\t\t\t\t\t///////////REEMPLAZAR///////////\n\t\t\t\t\t\t////////////////////////////////\n\n\t\t\t\t\t\tscope.$on(\"editor:reemplazar\", function (evento, icono) {\n\n\t\t\t\t\t\t\tvar iconoSVG = element.find(\"g.contenedor-icono > svg\");\n\n\t\t\t\t\t\t\tvar x = iconoSVG.attr(\"x\");\n\t\t\t\t\t\t\tvar y = iconoSVG.attr(\"y\");\n\n\n\t\t\t\t\t\t\tvar heightIcono = iconoSVG.attr(\"height\");\n\t\t\t\t\t\t\tvar widthIcono = iconoSVG.attr(\"width\");\n\t\t\t\t\t\t\tvar transform = iconoSVG.attr(\"transform\");\n\n\t\t\t\t\t\t\ticonoSVG.parent().html(icono);\n\n\t\t\t\t\t\t\tvar iconoSVGcambiado = element.find(\"g.contenedor-icono > svg\");\n\n\t\t\t\t\t\t\ticonoSVGcambiado.attr(\"x\", x);\n\t\t\t\t\t\t\ticonoSVGcambiado.attr(\"y\", y);\n\t\t\t\t\t\t\ticonoSVGcambiado.attr(\"height\", heightIcono);\n\n\t\t\t\t\t\t\tif (widthIcono) {\n\n\t\t\t\t\t\t\t\ticonoSVGcambiado.attr(\"width\", widthIcono);\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (transform) {\n\n\t\t\t\t\t\t\t\ticonoSVGcambiado.attr(\"transform\", transform);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tvar indices = [];\n\t\t\t\t\t\t\tvar seccionInternaElementos = [];\n\n\t\t\t\t\t\t\t//division en partes del svg\n\t\t\t\t\t\t\ticonoSVGcambiado.html().trim().split(\">\").forEach(function (parte, index) {\n\t\t\t\t\t\t\t\tvar indiceParte = \" data-indice='\" + index + \"'\";\n\t\t\t\t\t\t\t\tif (parte != \"\") { //si no es un tag de cerrar\n\t\t\t\t\t\t\t\t\tif (parte.search(\"</\") == -1) {\n\t\t\t\t\t\t\t\t\t\t//si es un tag compuesto, ej: \n\t\t\t\t\t\t\t\t\t\tif (parte.search(\"/\") == -1) {\n\t\t\t\t\t\t\t\t\t\t\tseccionInternaElementos.push(parte + indiceParte + \">\");\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t//si no es un tag compuesto, ej: path\n\t\t\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\t\t\tseccionInternaElementos.push(parte.replace(\"/\", \"\") + indiceParte + \"/>\");\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t//si es un tag de cerrar\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tseccionInternaElementos.push(parte + \">\");\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tseccionInternaElementos.push(false);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t//union del nuevo contenido\n\t\t\t\t\t\t\ticonoSVGcambiado.html(seccionInternaElementos.join(\"\"));\n\n\t\t\t\t\t\t\tscope.elementosIndices = indices;\n\n\t\t\t\t\t\t\tobtenerSVGFinal();\n\n\t\t\t\t\t\t});\n\n\n\t\t\t\t\t\t////////////////////////////////\n\t\t\t\t\t\t///////////RESTAURAR////////////\n\t\t\t\t\t\t////////////////////////////////\n\n\t\t\t\t\t\tscope.$on(\"editor:restaurar\", function (evento, svg) {\n\n\t\t\t\t\t\t\telement.html(svg);\n\n\t\t\t\t\t\t\tvar indices = [];\n\n\t\t\t\t\t\t\t//division en partes del svg\n\t\t\t\t\t\t\telement.find(\"g.contenedor-icono > svg [data-indice]\").each(function () {\n\n\t\t\t\t\t\t\t\tindices[parseInt(this.getAttribute(\"data-indice\"))] = false;\n\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\telement.find(\".seleccionado\").removeClass(\"seleccionado\");\n\t\t\t\t\t\t\tangular.element(\".color-picker-bazam\").remove();\n\n\t\t\t\t\t\t\tscope.elementosIndices = indices;\n\n\t\t\t\t\t\t\tvar texto = element.find(\"text.textoPrincipal\");\n\t\t\t\t\t\t\tscope.texto = texto.text();\n\n\t\t\t\t\t\t\tif (element.find(\"text.eslogan\").length) {\n\t\t\t\t\t\t\t\tvar eslogan = element.find(\"text.eslogan\");\n\t\t\t\t\t\t\t\tscope.eslogan = eslogan.text();\n\t\t\t\t\t\t\t\t$rootScope.$broadcast(\"directiva:restaurarEslogan\", {\n\t\t\t\t\t\t\t\t\taccion: true,\n\t\t\t\t\t\t\t\t\tfuente: eslogan.attr(\"font-family\")\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$rootScope.$broadcast(\"directiva:restaurarEslogan\", {\n\t\t\t\t\t\t\t\t\taccion: false\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tobtenerSVGFinal();\n\n\t\t\t\t\t\t});\n\n\n\t\t\t\t\t\tscope.$on(\"editor:planes\", function () {\n\n\t\t\t\t\t\t\t$rootScope.$broadcast(\"directiva:planes\", {\n\t\t\t\t\t\t\t\tsvg: scope.svgFinal,\n\t\t\t\t\t\t\t\tcolores: obtenerColores()\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t});\n\n\n\t\t\t\t\t\tscope.$on(\"editor:agregarEslogan\", function (evento, datos) {\n\n\t\t\t\t\t\t\tif (!element.find(\".eslogan\").length) {\n\n\n\t\t\t\t\t\t\t\tvar tamanoBase = 100;\n\t\t\t\t\t\t\t\tvar svgIcono;\n\t\t\t\t\t\t\t\tvar svgTexto;\n\t\t\t\t\t\t\t\tvar eslogan;\n\n\t\t\t\t\t\t\t\tvar relacion = element[0].children[0].getClientRects()[0].height / tamanoBase;\n\n\t\t\t\t\t\t\t\t////////////////////////////////////////////////////////////\n\t\t\t\t\t\t\t\t//////Insertamos el SVG del icono dentro del SVG padre//////\n\t\t\t\t\t\t\t\t////////////////////////////////////////////////////////////\n\n\t\t\t\t\t\t\t\tsvgIcono = element.find(\"g.contenedor-icono > svg\")[0];\n\n\t\t\t\t\t\t\t\tsvgIcono.setAttribute(\"height\", (tamanoBase / 2) + \"px\");\n\t\t\t\t\t\t\t\tsvgIcono.removeAttribute(\"width\");\n\t\t\t\t\t\t\t\tsvgIcono.removeAttribute(\"x\");\n\t\t\t\t\t\t\t\tsvgIcono.parentElement.setAttribute(\"transform\", \"\");\n\n\t\t\t\t\t\t\t\t/////////////////////////////////////////\n\t\t\t\t\t\t\t\t////////creamos el elemento Text/////////\n\t\t\t\t\t\t\t\t/////////////////////////////////////////\n\n\t\t\t\t\t\t\t\tsvgTexto = element.find(\"text.textoPrincipal\")[0];\n\n\t\t\t\t\t\t\t\tsvgTexto.style.fontSize = (tamanoBase / 2) + \"px\";\n\t\t\t\t\t\t\t\tsvgTexto.setAttribute(\"text-anchor\", \"middle\");\n\n\t\t\t\t\t\t\t\tsvgTexto.setAttribute(\"transform\", \"\");\n\t\t\t\t\t\t\t\tsvgTexto.setAttribute(\"x\", tamanoBase / 2);\n\n\t\t\t\t\t\t\t\t//////////////////////////////////////////////////////////////////////\n\t\t\t\t\t\t\t\t////ajustamos el tamaño del texto en relacion al tamaño del icono/////\n\t\t\t\t\t\t\t\t//////////////////////////////////////////////////////////////////////\n\n\t\t\t\t\t\t\t\twhile (svgTexto.getComputedTextLength() > (1.6 * svgIcono.height.baseVal.value)) {\n\n\t\t\t\t\t\t\t\t\tsvgTexto.style.fontSize = (parseFloat(svgTexto.style.fontSize) - 1) + \"px\";\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t///////////////////////////////////\n\t\t\t\t\t\t\t\t/////centramos los elementos///////\n\t\t\t\t\t\t\t\t///////////////////////////////////\n\n\t\t\t\t\t\t\t\tvar paddingTopIcono = ((tamanoBase - (svgIcono.height.baseVal.value + (svgTexto.getClientRects()[0].height / relacion))) / 2);\n\n\t\t\t\t\t\t\t\tsvgIcono.setAttribute(\"y\", paddingTopIcono);\n\n\t\t\t\t\t\t\t\tvar paddingTopText = (paddingTopIcono + parseFloat(svgIcono.getAttribute(\"height\")) + ((svgTexto.getClientRects()[0].height / relacion) / 1.3)) + \"px\";\n\n\t\t\t\t\t\t\t\tsvgTexto.setAttribute(\"y\", paddingTopText);\n\n\t\t\t\t\t\t\t\tif (((svgTexto.getClientRects()[0].height / relacion) + svgIcono.height.baseVal.value) >= tamanoBase) {\n\n\t\t\t\t\t\t\t\t\twhile (((svgTexto.getClientRects()[0].height / relacion) + svgIcono.height.baseVal.value) >= tamanoBase) {\n\n\t\t\t\t\t\t\t\t\t\tsvgIcono.setAttribute(\"height\", (parseFloat(svgIcono.getAttribute(\"height\")) * 0.95) + \"px\");\n\n\t\t\t\t\t\t\t\t\t\tsvgTexto.style.fontSize = (parseFloat(svgTexto.style.fontSize) * 0.95) + \"px\";\n\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tpaddingTopIcono = ((tamanoBase - (svgIcono.height.baseVal.value + (svgTexto.getClientRects()[0].height / relacion))) / 2);\n\n\n\t\t\t\t\t\t\t\t\tsvgIcono.setAttribute(\"y\", paddingTopIcono);\n\n\t\t\t\t\t\t\t\t\tpaddingTopText = (paddingTopIcono + parseFloat(svgIcono.getAttribute(\"height\")) + ((svgTexto.getClientRects()[0].height / relacion) / 1.3)) + \"px\";\n\n\t\t\t\t\t\t\t\t\tsvgTexto.setAttribute(\"y\", paddingTopText);\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tvar textoEslogan = document.createElementNS(\"http://www.w3.org/2000/svg\", \"text\");\n\n\t\t\t\t\t\t\t\ttextoEslogan.setAttributeNS(null, \"x\", tamanoBase / 2);\n\t\t\t\t\t\t\t\ttextoEslogan.setAttributeNS(null, \"y\", tamanoBase * 0.9);\n\n\t\t\t\t\t\t\t\tvar textoNodeEslogan = document.createTextNode(datos.eslogan);\n\n\t\t\t\t\t\t\t\ttextoEslogan.appendChild(textoNodeEslogan);\n\n\t\t\t\t\t\t\t\telement.children()[0].appendChild(textoEslogan);\n\n\t\t\t\t\t\t\t\tvar eslogan = element.children()[0].children[3];\n\n\t\t\t\t\t\t\t\teslogan.setAttribute(\"text-anchor\", \"middle\");\n\t\t\t\t\t\t\t\teslogan.setAttribute(\"font-family\", datos.fuente.nombre);\n\t\t\t\t\t\t\t\teslogan.setAttribute(\"class\", \"eslogan\");\n\n\t\t\t\t\t\t\t\teslogan.setAttribute(\"transform\", \"\");\n\t\t\t\t\t\t\t\teslogan.setAttribute(\"text-anchor\", \"middle\");\n\n\t\t\t\t\t\t\t\teslogan.style.fontSize = svgTexto.style.fontSize;\n\n\t\t\t\t\t\t\t\teslogan.setAttribute(\"x\", (tamanoBase / 2));\n\n\t\t\t\t\t\t\t\twhile (((eslogan.getClientRects()[0].height / relacion) * 2.5) >= (svgTexto.getClientRects()[0].height / relacion)) {\n\t\t\t\t\t\t\t\t\teslogan.style.fontSize = (parseFloat(eslogan.style.fontSize) * 0.95) + \"px\";\n\t\t\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\t\t\t//verificamos que los elementos no superen el alto del lienzo\n\n\t\t\t\t\t\t\t\twhile ((svgIcono.height.baseVal.value + (svgTexto.getClientRects()[0].height / relacion) + (eslogan.getClientRects()[0].height / relacion) * 1.3 >= tamanoBase)) {\n\n\t\t\t\t\t\t\t\t\tsvgIcono.setAttribute(\"height\", (parseFloat(svgIcono.getAttribute(\"height\")) * 0.95) + \"px\");\n\n\t\t\t\t\t\t\t\t\tsvgTexto.style.fontSize = (parseFloat(svgTexto.style.fontSize) * 0.95) + \"px\";\n\n\t\t\t\t\t\t\t\t\teslogan.style.fontSize = (parseFloat(eslogan.style.fontSize) * 0.95) + \"px\";\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tvar espacioSobrante = tamanoBase - ((svgIcono.getClientRects()[0].height + svgTexto.getClientRects()[0].height + eslogan.getClientRects()[0].height) / relacion);\n\n\n\t\t\t\t\t\t\t\t//AJUSTAR AQUI EL ESLOGAN\n\t\t\t\t\t\t\t\tsvgIcono.setAttribute(\"y\", (espacioSobrante / 2) + \"px\");\n\n\t\t\t\t\t\t\t\tsvgTexto.setAttribute(\"y\", (espacioSobrante / 2) + ((svgIcono.getClientRects()[0].height + svgTexto.getClientRects()[0].height) / relacion) + \"px\");\n\n\t\t\t\t\t\t\t\teslogan.setAttribute(\"y\", ((espacioSobrante / 2) + ((svgIcono.getClientRects()[0].height + svgTexto.getClientRects()[0].height + eslogan.getClientRects()[0].height) / relacion)) + \"px\");\n\n\n\n\n\n\n\n\t\t\t\t\t\t\t\t/*\n\t\t\t\t\t\t\t\tvar tamanoBase = 100;\n\n\t\t\t\t\t\t\t\tvar textoEslogan = document.createElementNS(\"http://www.w3.org/2000/svg\", \"text\");\n\n\t\t\t\t\t\t\t\ttextoEslogan.setAttributeNS(null, \"x\", tamanoBase / 2);\n\t\t\t\t\t\t\t\ttextoEslogan.setAttributeNS(null, \"y\", tamanoBase * 0.9);\n\n\t\t\t\t\t\t\t\tvar textoNodeEslogan = document.createTextNode(datos.eslogan);\n\n\t\t\t\t\t\t\t\ttextoEslogan.appendChild(textoNodeEslogan);\n\n\t\t\t\t\t\t\t\telement.children()[0].appendChild(textoEslogan);\n\n\t\t\t\t\t\t\t\tvar svgEslogan = element.children()[0].children[3];\n\n\t\t\t\t\t\t\t\t//var textoPrincipal = element.find(\"text.textoPrincipal\");\n\n\t\t\t\t\t\t\t\tsvgEslogan.style.fontSize = (tamanoBase * 0.1) + \"px\";\n\t\t\t\t\t\t\t\tsvgEslogan.setAttribute(\"text-anchor\", \"middle\");\n\t\t\t\t\t\t\t\tsvgEslogan.setAttribute(\"font-family\", datos.fuente.nombre);\n\t\t\t\t\t\t\t\tsvgEslogan.setAttribute(\"class\", \"eslogan\");\n\t\t\t\t\t\t\t\t*/\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tobtenerSVGFinal();\n\n\t\t\t\t\t\t});\n\n\n\t\t\t\t\t\tvar obtenerSVGFinal = function () {\n\n\t\t\t\t\t\t\tvar elemento = element.clone();\n\n\t\t\t\t\t\t\t//elemento.find(\"[data-indice]\").removeAttr(\"data-indice\");\n\t\t\t\t\t\t\telemento.find(\".seleccionado\").removeClass(\"seleccionado\");\n\n\n\t\t\t\t\t\t\t//scope.$apply(function() {\n\t\t\t\t\t\t\tscope.svgFinal = elemento.html();\n\t\t\t\t\t\t\t//});\n\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tvar obtenerColores = function () {\n\n\t\t\t\t\t\t\tvar parteSVG = null;\n\t\t\t\t\t\t\tvar tamañoPivote = 0;\n\t\t\t\t\t\t\tvar color = {\n\t\t\t\t\t\t\t\ticono: \"\",\n\t\t\t\t\t\t\t\tnombre: \"\",\n\t\t\t\t\t\t\t\teslogan: \"\"\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\telement.find(\"g.contenedor-icono > svg [data-indice]:not(g)\").each(function () {\n\n\t\t\t\t\t\t\t\tvar elemento = angular.element(this)[0].getBoundingClientRect();\n\n\t\t\t\t\t\t\t\tvar tamanoElemento = elemento.width * elemento.height;\n\n\t\t\t\t\t\t\t\tif (tamanoElemento >= tamañoPivote) {\n\t\t\t\t\t\t\t\t\ttamañoPivote = tamanoElemento;\n\t\t\t\t\t\t\t\t\tparteSVG = angular.element(this);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t});\n\n\n\t\t\t\t\t\t\tif (parteSVG.css(\"fill\")) {\n\n\t\t\t\t\t\t\t\tcolor.icono = parteSVG.css(\"fill\");\n\n\t\t\t\t\t\t\t} else if (parteSVG.attr(\"fill\")) {\n\n\t\t\t\t\t\t\t\tcolor.icono = parteSVG.attr(\"fill\");\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tcolor.icono = \"#fff\";\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tcolor.nombre = element.find(\"text.textoPrincipal\").css(\"fill\");\n\n\t\t\t\t\t\t\tcolor.eslogan = element.find(\"text.eslogan\").length ? element.find(\"text.eslogan\").css(\"fill\") : \"\";\n\n\t\t\t\t\t\t\treturn color;\n\n\t\t\t\t\t\t};\n\n\t\t\t\t\t});\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t};\n\t}]);\n\n\n\t\t/*\n\t.directive(\"fondoContraste\", [\"coloresFactory\", function (coloresFactory) {\n\t\treturn {\n\t\t\trestrict: \"AE\",\n\t\t\tscope: {\n\t\t\t\tcolor: \"<color\"\n\t\t\t},\n\t\t\tlink: function (scope, element) {\n\n\t\t\t\telement.css({\n\t\t\t\t\t\"background-color\": coloresFactory(scope.color)\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t}])\n\n\t*/\n\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/directives/bazamSvg.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/directives/bazamSvgText.js":
/*!****************************************************************!*\
  !*** ./public/creador-de-logos/app/directives/bazamSvgText.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("angular.module(\"disenador-de-logos\")\n\n\t.directive(\"bazamSvgText\", [\"fontService\", \"$timeout\", function (fontService, $timeout) {\n\t\treturn {\n\t\t\trestrict: \"AE\",\n\t\t\tscope: {\n\t\t\t\tsvg: \"<\",\n\t\t\t\ttexto: \"<\",\n\t\t\t\tcolorTexto: \"<colorTexto\",\n\t\t\t\tcolorIcono: \"<colorIcono\",\n\t\t\t\tfuente: \"<\",\n\t\t\t\turl: \"<\",\n\t\t\t\tcallback: \"=\"\n\t\t\t},\n\t\t\tlink: function (scope, element) {\n\n\t\t\t\telement.append('<svg class=\"background-svg\" viewbox=\"0 0 400 400\"></svg>');\n\n\t\t\t\tfontService.preparar(scope.fuente, scope.url)\n\n\t\t\t\t\t.then(function () {})\n\t\t\t\t\t.catch(function () {})\n\t\t\t\t\t.finally(function () {\n\t\t\t\t\t\t{\n\n\t\t\t\t\t\t\telement.find('.background-svg').remove();\n\t\t\t\t\t\t\n\t\t\t\t\t\t\tvar tamanoBase = 100;\n\t\t\t\t\t\t\t/*\n\t\t\t\t\t\t\t////////////////////////////////////////////////////////////\n\t\t\t\t\t\t\t//////Insertamos el SVG del icono dentro del SVG padre//////\n\t\t\t\t\t\t\t////////////////////////////////////////////////////////////\n\n\t\t\t\t\t\t\telement[0].innerHTML = \"<svg  viewBox='0 0 \" + tamanoBase + \" \" + tamanoBase + \"'>\" + scope.icono + \"</svg>\";\n\n\t\t\t\t\t\t\tvar relacion = element[0].children[0].getClientRects()[0].height / tamanoBase;\n\t\t\t\t\t\t\tvar svgIcono = element[0].children[0].children[0];\n\n\t\t\t\t\t\t\tsvgIcono.setAttribute(\"height\", (tamanoBase / 2) + \"px\");\n\t\t\t\t\t\t\tsvgIcono.setAttribute(\"fill\", scope.colorIcono);\n\n\t\t\t\t\t\t\t/////////////////////////////////////////\n\t\t\t\t\t\t\t////////creamos el elemento Text/////////\n\t\t\t\t\t\t\t/////////////////////////////////////////\n\n\t\t\t\t\t\t\tvar texto = document.createElementNS(\"http://www.w3.org/2000/svg\", \"text\");\n\n\t\t\t\t\t\t\ttexto.setAttributeNS(null, \"x\", (tamanoBase / 2));\n\n\t\t\t\t\t\t\tvar textoNode = document.createTextNode(scope.texto);\n\n\t\t\t\t\t\t\ttexto.appendChild(textoNode);\n\n\t\t\t\t\t\t\telement[0].children[0].appendChild(texto);\n\n\t\t\t\t\t\t\tvar svgTexto = element[0].children[0].children[1];\n\n\t\t\t\t\t\t\tsvgTexto.style.fontSize = (tamanoBase / 2) + \"px\";\n\n\t\t\t\t\t\t\tif (scope.colorTexto) {\n\t\t\t\t\t\t\t\tsvgTexto.style.fill = scope.colorTexto;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tsvgTexto.setAttribute(\"text-anchor\", \"middle\");\n\t\t\t\t\t\t\tsvgTexto.setAttribute(\"font-family\", scope.fuente);\n\n\t\t\t\t\t\t\t//////////////////////////////////////////////////////////////////////\n\t\t\t\t\t\t\t////ajustamos el tamaño del texto en relacion al tamaño del icono/////\n\t\t\t\t\t\t\t//////////////////////////////////////////////////////////////////////\n\n\n\t\t\t\t\t\t\twhile (svgTexto.getComputedTextLength() > (1.6 * svgIcono.height.baseVal.value)) {\n\n\t\t\t\t\t\t\t\tsvgTexto.style.fontSize = (parseFloat(svgTexto.style.fontSize) - 1) + \"px\";\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t///////////////////////////////////\n\t\t\t\t\t\t\t/////centramos los elementos///////\n\t\t\t\t\t\t\t///////////////////////////////////\n\n\t\t\t\t\t\t\tvar paddingTopIcono = ((tamanoBase - (svgIcono.height.baseVal.value + (svgTexto.getClientRects()[0].height / relacion))) / 2);\n\n\t\t\t\t\t\t\tsvgIcono.y.baseVal.value = paddingTopIcono;\n\n\t\t\t\t\t\t\tvar paddingTopText = (paddingTopIcono + parseFloat(svgIcono.getAttribute(\"height\")) + (svgTexto.getClientRects()[0].height / relacion)) + \"px\";\n\n\t\t\t\t\t\t\tsvgTexto.setAttribute(\"y\", paddingTopText);\n\n\n\t\t\t\t\t\t\tif ((((svgTexto.getClientRects()[0].height / relacion) + svgIcono.height.baseVal.value) * 1.5) >= tamanoBase) {\n\n\t\t\t\t\t\t\t\twhile ((((svgTexto.getClientRects()[0].height / relacion) + svgIcono.height.baseVal.value) * 1.5) >= tamanoBase) {\n\n\t\t\t\t\t\t\t\t\tsvgIcono.setAttribute(\"height\", (parseFloat(svgIcono.getAttribute(\"height\")) * 0.95) + \"px\");\n\n\t\t\t\t\t\t\t\t\tsvgTexto.style.fontSize = (parseFloat(svgTexto.style.fontSize) * 0.95) + \"px\";\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tpaddingTopIcono = ((tamanoBase - (svgIcono.height.baseVal.value + (svgTexto.getClientRects()[0].height / relacion))) / 2);\n\n\t\t\t\t\t\t\t\tsvgIcono.y.baseVal.value = paddingTopIcono;\n\n\t\t\t\t\t\t\t\tpaddingTopText = (paddingTopIcono + parseFloat(svgIcono.getAttribute(\"height\")) + ((svgTexto.getClientRects()[0].height / relacion) / 1.3)) + \"px\";\n\n\t\t\t\t\t\t\t\tsvgTexto.setAttribute(\"y\", paddingTopText);\n\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t*/\n\n\n\t\t\t\t\t\t\tscope.svgSaneado = scope.svg.trim();\n\n\t\t\t\t\t\t\tvar posicion1 = scope.svgSaneado.search(\">\");\n\n\t\t\t\t\t\t\t//svg tag\n\t\t\t\t\t\t\tscope.svgTagIncompleto = scope.svgSaneado.substr(0, posicion1 + 1);\n\n\t\t\t\t\t\t\tvar posicion2 = scope.svgSaneado.substr(posicion1 + 1).search(\"</svg>\");\n\n\t\t\t\t\t\t\t//contenido del svg\n\t\t\t\t\t\t\tscope.seccionInterna = scope.svgSaneado.substr(posicion1 + 1).substr(0, posicion2);\n\n\t\t\t\t\t\t\t//recipiente de secciones del svg original\n\t\t\t\t\t\t\tscope.seccionInternaElementos = [];\n\n\t\t\t\t\t\t\t//indices del elemento\n\t\t\t\t\t\t\tscope.elementosIndices = [];\n\n\t\t\t\t\t\t\t//division en partes del svg\n\t\t\t\t\t\t\tscope.seccionInterna.trim().split(\">\").forEach(function (parte, index) {\n\t\t\t\t\t\t\t\tvar indiceParte = \" data-indice='\" + index + \"'\";\n\t\t\t\t\t\t\t\tif (parte != \"\") { //si no es un tag de cerrar\n\t\t\t\t\t\t\t\t\tif (parte.search(\"</\") == -1) {\n\t\t\t\t\t\t\t\t\t\t//si es un tag compuesto, ej: \n\t\t\t\t\t\t\t\t\t\tif (parte.search(\"/\") == -1) {\n\t\t\t\t\t\t\t\t\t\t\tscope.seccionInternaElementos.push(parte + indiceParte + \">\");\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t//si no es un tag compuesto, ej: path\n\t\t\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\t\t\tscope.seccionInternaElementos.push(parte.replace(\"/\", \"\") + indiceParte + \"/>\");\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t//si es un tag de cerrar\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tscope.seccionInternaElementos.push(parte + \">\");\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tscope.elementosIndices.push(false);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t//union del nuevo contenido\n\t\t\t\t\t\t\tscope.seccionInterna = scope.seccionInternaElementos.join(\"\");\n\n\t\t\t\t\t\t\tscope.svgTag = scope.svgTagIncompleto + scope.seccionInterna + \"</svg>\";\n\n\t\t\t\t\t\t\t////////////////////////////////////////////////////////////\n\t\t\t\t\t\t\t//////Insertamos el SVG del icono dentro del SVG padre//////\n\t\t\t\t\t\t\t////////////////////////////////////////////////////////////\n\n\t\t\t\t\t\t\telement[0].innerHTML = \"<svg viewBox='0 0 \" + tamanoBase + \" \" + tamanoBase + \"'><g class='contenedor-icono'>\" + scope.svgTag + \"</g></svg>\";\n\n\t\t\t\t\t\t\tvar relacion = element[0].children[0].getClientRects()[0].height / tamanoBase;\n\n\t\t\t\t\t\t\tvar svgIcono = element[0].children[0].children[0].children[0];\n\n\t\t\t\t\t\t\tsvgIcono.setAttribute(\"height\", (tamanoBase / 2) + \"px\");\n\t\t\t\t\t\t\tsvgIcono.setAttribute(\"fill\", scope.colorIcono);\n\n\t\t\t\t\t\t\t/////////////////////////////////////////\n\t\t\t\t\t\t\t////////creamos el elemento Text/////////\n\t\t\t\t\t\t\t/////////////////////////////////////////\n\n\t\t\t\t\t\t\tvar texto = document.createElementNS(\"http://www.w3.org/2000/svg\", \"text\");\n\n\t\t\t\t\t\t\ttexto.setAttributeNS(null, \"x\", (tamanoBase / 2));\n\n\t\t\t\t\t\t\tvar textoNode = document.createTextNode(scope.texto);\n\n\t\t\t\t\t\t\ttexto.appendChild(textoNode);\n\n\t\t\t\t\t\t\telement[0].children[0].appendChild(texto);\n\n\t\t\t\t\t\t\tvar svgTexto = element[0].children[0].children[1];\n\n\n\t\t\t\t\t\t\tsvgTexto.style.fill = scope.colorTexto;\n\t\t\t\t\t\t\tsvgTexto.style.fontSize = (tamanoBase / 2) + \"px\";\n\t\t\t\t\t\t\tsvgTexto.setAttribute(\"text-anchor\", \"middle\");\n\t\t\t\t\t\t\tsvgTexto.setAttribute(\"font-family\", scope.fuente);\n\t\t\t\t\t\t\tsvgTexto.setAttribute(\"class\", \"textoPrincipal\");\n\n\t\t\t\t\t\t\t//////////////////////////////////////////////////////////////////////\n\t\t\t\t\t\t\t////ajustamos el tamaño del texto en relacion al tamaño del icono/////\n\t\t\t\t\t\t\t//////////////////////////////////////////////////////////////////////\n\n\t\t\t\t\t\t\twhile (svgTexto.getComputedTextLength() > (1.6 * svgIcono.height.baseVal.value)) {\n\n\t\t\t\t\t\t\t\tsvgTexto.style.fontSize = (parseFloat(svgTexto.style.fontSize) - 1) + \"px\";\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t///////////////////////////////////\n\t\t\t\t\t\t\t/////centramos los elementos///////\n\t\t\t\t\t\t\t///////////////////////////////////\n\n\t\t\t\t\t\t\tvar paddingTopIcono = ((tamanoBase - (svgIcono.height.baseVal.value + (svgTexto.getClientRects()[0].height / relacion))) / 2);\n\n\t\t\t\t\t\t\tsvgIcono.setAttribute(\"y\", paddingTopIcono);\n\n\t\t\t\t\t\t\tvar paddingTopText = (paddingTopIcono + parseFloat(svgIcono.getAttribute(\"height\")) + ((svgTexto.getClientRects()[0].height / relacion) / 1.3)) + \"px\";\n\n\t\t\t\t\t\t\tsvgTexto.setAttribute(\"y\", paddingTopText);\n\n\t\t\t\t\t\t\tif (((svgTexto.getClientRects()[0].height / relacion) + svgIcono.height.baseVal.value) >= tamanoBase) {\n\n\t\t\t\t\t\t\t\twhile (((svgTexto.getClientRects()[0].height / relacion) + svgIcono.height.baseVal.value) >= tamanoBase) {\n\n\t\t\t\t\t\t\t\t\tsvgIcono.setAttribute(\"height\", (parseFloat(svgIcono.getAttribute(\"height\")) * 0.95) + \"px\");\n\n\t\t\t\t\t\t\t\t\tsvgTexto.style.fontSize = (parseFloat(svgTexto.style.fontSize) * 0.95) + \"px\";\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tpaddingTopIcono = ((tamanoBase - (svgIcono.height.baseVal.value + (svgTexto.getClientRects()[0].height / relacion))) / 2);\n\n\t\t\t\t\t\t\t\tsvgIcono.setAttribute(\"y\", paddingTopIcono);\n\n\t\t\t\t\t\t\t\tpaddingTopText = (paddingTopIcono + parseFloat(svgIcono.getAttribute(\"height\")) + ((svgTexto.getClientRects()[0].height / relacion) / 1.3)) + \"px\";\n\n\t\t\t\t\t\t\t\tsvgTexto.setAttribute(\"y\", paddingTopText);\n\n\t\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\t\t//agregamos el Style Tag al svg\n\t\t\t\t\t\t\telement.children().prepend(\"<style> @font-face { font-family: '\" + scope.fuente + \"'; src: url('\" + scope.url + \"')}  </style>\");\n\n\t\t\t\t\t\t\t$timeout(function () {\n\t\t\t\t\t\t\t\tscope.callback = element[0].innerHTML;\n\t\t\t\t\t\t\t}, 1000);\n\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t}]);\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/directives/bazamSvgText.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/directives/bazamVisualizar.js":
/*!*******************************************************************!*\
  !*** ./public/creador-de-logos/app/directives/bazamVisualizar.js ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("angular.module(\"disenador-de-logos\")\n\n\n\t//////////////////////////////////////////\n\t////VISUALIZA EL SVG SIN ACCION ALGUNA////\n\t//////////////////////////////////////////\n\t.directive(\"bazamVisualizar\", function () {\n\n\t\treturn {\n\t\t\trestrict: \"AE\",\n\t\t\tscope: {\n\n\t\t\t\tsvg: \"=svg\"\n\n\t\t\t},\n\t\t\tlink: function (scope, element) {\n\t\t\t\telement.html(scope.svg);\n\t\t\t\telement.html(element.html());\n\t\t\t}\n\t\t};\n\n\t})\n\n\t.directive(\"bazamActualizar\", function () {\n\n\t\treturn {\n\t\t\trestrict: \"AE\",\n\t\t\tscope: {\n\n\t\t\t\tsvg: \"<svg\"\n\n\t\t\t},\n\t\t\tlink: function (scope, element) {\n\n\t\t\t\telement.html(scope.svg);\n\t\t\t\telement.html(element.html());\n\n\t\t\t\tscope.$watch(\"svg\", function () {\n\t\t\t\t\telement.html(scope.svg);\n\t\t\t\t\telement.html(element.html());\n\t\t\t\t});\n\n\n\n\t\t\t}\n\t\t};\n\n\t});\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/directives/bazamVisualizar.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/directives/index.js":
/*!*********************************************************!*\
  !*** ./public/creador-de-logos/app/directives/index.js ***!
  \*********************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _bazamAyuda_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bazamAyuda.js */ \"./public/creador-de-logos/app/directives/bazamAyuda.js\");\n/* harmony import */ var _bazamAyuda_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_bazamAyuda_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _bazamCarouseles_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./bazamCarouseles.js */ \"./public/creador-de-logos/app/directives/bazamCarouseles.js\");\n/* harmony import */ var _bazamCarouseles_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_bazamCarouseles_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _bazamColorPicker_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./bazamColorPicker.js */ \"./public/creador-de-logos/app/directives/bazamColorPicker.js\");\n/* harmony import */ var _bazamColorPicker_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_bazamColorPicker_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _bazamFormLogin_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./bazamFormLogin.js */ \"./public/creador-de-logos/app/directives/bazamFormLogin.js\");\n/* harmony import */ var _bazamFormLogin_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_bazamFormLogin_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _bazamMail_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./bazamMail.js */ \"./public/creador-de-logos/app/directives/bazamMail.js\");\n/* harmony import */ var _bazamMail_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_bazamMail_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _bazamPalettePicker_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./bazamPalettePicker.js */ \"./public/creador-de-logos/app/directives/bazamPalettePicker.js\");\n/* harmony import */ var _bazamPalettePicker_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_bazamPalettePicker_js__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _bazamRedireccionar_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./bazamRedireccionar.js */ \"./public/creador-de-logos/app/directives/bazamRedireccionar.js\");\n/* harmony import */ var _bazamRedireccionar_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_bazamRedireccionar_js__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _bazamScroll_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./bazamScroll.js */ \"./public/creador-de-logos/app/directives/bazamScroll.js\");\n/* harmony import */ var _bazamScroll_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_bazamScroll_js__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _bazamSvg_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./bazamSvg.js */ \"./public/creador-de-logos/app/directives/bazamSvg.js\");\n/* harmony import */ var _bazamSvg_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_bazamSvg_js__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _bazamSvgText_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./bazamSvgText.js */ \"./public/creador-de-logos/app/directives/bazamSvgText.js\");\n/* harmony import */ var _bazamSvgText_js__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_bazamSvgText_js__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _bazamVisualizar_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./bazamVisualizar.js */ \"./public/creador-de-logos/app/directives/bazamVisualizar.js\");\n/* harmony import */ var _bazamVisualizar_js__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_bazamVisualizar_js__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _jquery_ui_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./jquery-ui.js */ \"./public/creador-de-logos/app/directives/jquery-ui.js\");\n/* harmony import */ var _jquery_ui_js__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_jquery_ui_js__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _planes_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./planes.js */ \"./public/creador-de-logos/app/directives/planes.js\");\n/* harmony import */ var _planes_js__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_planes_js__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _stripePaymentForm_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./stripePaymentForm.js */ \"./public/creador-de-logos/app/directives/stripePaymentForm.js\");\n/* harmony import */ var _stripePaymentForm_js__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_stripePaymentForm_js__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var _papeleria_bazamCrearPapeleria_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./papeleria/bazamCrearPapeleria.js */ \"./public/creador-de-logos/app/directives/papeleria/bazamCrearPapeleria.js\");\n/* harmony import */ var _papeleria_bazamCrearPapeleria_js__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(_papeleria_bazamCrearPapeleria_js__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var _papeleria_bazamMenuPapeleria_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./papeleria/bazamMenuPapeleria.js */ \"./public/creador-de-logos/app/directives/papeleria/bazamMenuPapeleria.js\");\n/* harmony import */ var _papeleria_bazamMenuPapeleria_js__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(_papeleria_bazamMenuPapeleria_js__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _papeleria_bazamPapeleria_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./papeleria/bazamPapeleria.js */ \"./public/creador-de-logos/app/directives/papeleria/bazamPapeleria.js\");\n/* harmony import */ var _papeleria_bazamPapeleria_js__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(_papeleria_bazamPapeleria_js__WEBPACK_IMPORTED_MODULE_16__);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//Papeleria\n\n\n\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/directives/index.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/directives/jquery-ui.js":
/*!*************************************************************!*\
  !*** ./public/creador-de-logos/app/directives/jquery-ui.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("angular.module(\"disenador-de-logos\")\n.directive('draggable', function() {\n  return {\n    // A = attribute, E = Element, C = Class and M = HTML Comment\n    restrict:'A',\n    //The link function is responsible for registering DOM listeners as well as updating the DOM.\n    link: function(scope, element, attrs) {\n      element.draggable({\n        revert:true\n      });\n    }\n  };\n})\n\n.directive('resizable', function() {\n  return {\n    // A = attribute, E = Element, C = Class and M = HTML Comment\n    restrict:'A',\n    //The link function is responsible for registering DOM listeners as well as updating the DOM.\n    link: function(scope, element, attrs) {\n        element.resizable();\n    }\n  };\n});\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/directives/jquery-ui.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/directives/papeleria/bazamCrearPapeleria.js":
/*!*********************************************************************************!*\
  !*** ./public/creador-de-logos/app/directives/papeleria/bazamCrearPapeleria.js ***!
  \*********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("angular.module(\"disenador-de-logos\")\n\n    .directive(\"bazamCrearPapeleria\", [function () {\n        return {\n            restrict: \"AE\",\n            scope: {\n                estado: \"=\",\n                idLogo: \"<\",\n                papelerias: \"=\",\n                tiene: \"=\"\n\t\t\t},\n            controller: [\"$scope\", \"$mdToast\", \"$sce\", \"$stateParams\", \"$state\", function ($scope, $mdToast, $sce, $stateParams, $state) {\n                var bz = this;\n\n                bz.sce = $sce;\n\n                bz.idLogo = $scope.idLogo;\n\n                $scope.papeleriaActiva = $scope.papelerias[0].tipo;\n\n                bz.enviarEditor = function(indicePapeleria, indiceModelo){\n\n                    var papeleria = angular.copy($scope.papelerias[indicePapeleria]);\n                    delete papeleria.modelos;\n\n                    var modelo = angular.copy($scope.papelerias[indicePapeleria].modelos[indiceModelo]);\n                    if(modelo.piezas){\n                        delete modelo.piezas;\n                    }\n\n                    var datos = {papeleria: papeleria, modelo: modelo};\n\n                    $state.go('papeleriaEditor', { id: bz.idLogo, papeleria: datos});\n                }\n\n            }],\n            controllerAs: \"crearPapeleria\",\n            templateUrl: 'app/templates/bazamCrearPapeleria.tpl'\n        }\n    }])\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/directives/papeleria/bazamCrearPapeleria.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/directives/papeleria/bazamMenuPapeleria.js":
/*!********************************************************************************!*\
  !*** ./public/creador-de-logos/app/directives/papeleria/bazamMenuPapeleria.js ***!
  \********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("angular.module(\"disenador-de-logos\")\n\n    .directive(\"bazamMenuPapeleria\", [function () {\n        return {\n            restrict: \"AE\",\n            scope: false,\n            controller: [\"$scope\", \"$mdToast\", \"$sce\", function ($scope, $mdToast, $sce) {\n                var bz = this;\n\n                bz.sce = $sce;\n\n                /* Colocamos predefinida la primera cara del modelo que posea contenedores */\n\n                bz.menuActivo = $scope.papeleriaEditor.papeleria.modelo.caras[0].nombre;\n\n                /* Funcion para agregar un elemento al contenedor */\n\n                $scope.agregarElementoHook = function (indiceCara, indiceHook, indiceElemento) {\n                    if (!$scope.papeleriaEditor.agregarElemento) return;\n                    var hook = $scope.papeleriaEditor.papeleria.modelo.caras[indiceCara].hooks[indiceHook];\n\n                    var item = $scope.papeleriaEditor.papeleria.items[indiceElemento];\n\n                    var itemAgregar = $scope.papeleriaEditor.papeleria.modelo.itemsDefaults[item.nombre];\n\n                    itemAgregar.tag = item.tag;\n                    itemAgregar.tipo = item.tipo;\n                    itemAgregar.nombre = item.nombre;\n\n                    /* Si el contenedor esta al limite de su capacidad de elemento detenemos la funcion */\n\n                    if (hook.items.length == hook.limite) return $mdToast.show($mdToast.base({\n                        args: {\n                            mensaje: \"El contenedor ha llegado al limite de elementos. Elimine alguno o elija otro contenedor.\",\n                            clase: \"danger\"\n                        }\n                    }));\n\n                    /* Si el contenedor ya posee un elemento igual detenemos la funcion */\n\n                    for (var i = 0; i < hook.items.length; i++) {\n                        if (hook.items[i].nombre == item.nombre) return $mdToast.show($mdToast.base({\n                            args: {\n                                mensaje: \"El contenedor ya contiene un elemento \" + item.nombre + \", Elija otro elemento.\",\n                                clase: \"danger\"\n                            }\n                        }));\n                    }\n\n                    /* Agregamos el elemento y actualizamos el scope */\n                    $scope.papeleriaEditor.papeleria.modelo.caras[indiceCara].hooks[indiceHook].items.push(itemAgregar);\n                    $scope.papeleriaEditor.modificarHook(indiceCara, indiceHook)\n                    $scope.$apply();\n\n                }\n\n                bz.eliminarItemHook = function (indiceCara, indiceHook, indiceItem) {\n                    var hook = $scope.papeleriaEditor.papeleria.modelo.caras[indiceCara].hooks[indiceHook];\n\n                    hook.items.splice(indiceItem, 1);\n                    $scope.papeleriaEditor.modificarHook(indiceCara, indiceHook);\n                }\n\n                bz.move = function (accion, indiceCara, indiceHook, indiceElemento) {\n\n                    var nuevoIndice = indiceElemento + accion;\n\n                    var elementos = $scope.papeleriaEditor.papeleria.modelo.caras[indiceCara].hooks[indiceHook].items;\n\n                    if (nuevoIndice < 0 || nuevoIndice == elementos.length) return;\n\n                    var indexes = [indiceElemento, nuevoIndice].sort();\n\n                    elementos.splice(indexes[0], 2, elementos[indexes[1]], elementos[indexes[0]]);\n                    $scope.papeleriaEditor.modificarHook(indiceCara, indiceHook);\n\n                }\n\n\n                /* Funcion para cambiar la direccion de un elemento en el contenedor o del contenedor propio */\n\n                bz.cambiarDireccionElemento = function (elemento, indiceCara, indiceHook) {\n\n                    var cambio = function (direccion) {\n                        if (elemento.items.length > 0) {\n                            angular.forEach(elemento.items, function (item) {\n                                if (item.icono != null) {\n                                    item.icono.orientacion = direccion;\n                                }\n                            })\n                        }\n                    }\n\n                    if (elemento.orientacion == 'right') {\n                        elemento.orientacion = 'left';\n                        if (elemento.id) {\n                            cambio('left');\n                        }\n                    } else {\n                        elemento.orientacion = 'right';\n                        if (elemento.id) {\n                            cambio('right');\n                        }\n                    }\n\n                    $scope.papeleriaEditor.modificarHook(indiceCara, indiceHook);\n                }\n\n                $scope.papeleriaEditor.selectorfuentes = false;\n\n                bz.cambiarFuente = function (mostrar, fuente, indiceCara, indiceHook) {\n                    if (mostrar) {\n\n                        bz.hookActivo = {\n                            indiceCara: indiceCara,\n                            indiceHook: indiceHook\n                        };\n                        return $scope.papeleriaEditor.selectorfuentes = !$scope.papeleriaEditor.selectorfuentes;\n\n                    }\n\n                    var hook = $scope.papeleriaEditor.papeleria.modelo.caras[bz.hookActivo.indiceCara].hooks[bz.hookActivo.indiceHook];\n\n                    hook.fuente.nombre = fuente.nombre;\n                    hook.fuente.url = fuente.url;\n\n                    $scope.papeleriaEditor.modificarHook(bz.hookActivo.indiceCara, bz.hookActivo.indiceHook, true);\n                }\n\n                bz.cambiarColor = function (indiceCara, indiceHook) {\n\n                    $scope.papeleriaEditor.cambiarColorHook(indiceCara, indiceHook, true);\n\n                }\n            }],\n            controllerAs: \"menuPapeleria\",\n            templateUrl: 'app/templates/bazamMenuPapeleria.tpl'\n        }\n    }])\n\n    .directive('droppableHookPapeleria', function () {\n        return {\n            restrict: 'A',\n            link: function (scope, element) {\n                element.droppable({\n                    drop: function (event) {\n                        scope.agregarElementoHook(scope.$parent.$index, scope.$index, parseInt(event.originalEvent.target.getAttribute('indice')));\n                    }\n                })\n            }\n        };\n    })\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/directives/papeleria/bazamMenuPapeleria.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/directives/papeleria/bazamPapeleria.js":
/*!****************************************************************************!*\
  !*** ./public/creador-de-logos/app/directives/papeleria/bazamPapeleria.js ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("angular.module(\"disenador-de-logos\")\n\n\t.directive(\"bazamPapeleria\", [\"fontService\", \"$document\", \"$q\", \"papeleriaService\", \"$mdToast\", \"coloresPaletaValue\", \"$http\", function (fontService, $document, $q, papeleriaService, $mdToast, coloresPaletaValue, $http) {\n\t\treturn {\n\t\t\trestrict: \"AE\",\n\t\t\tscope: true,\n\t\t\tcontroller: [\"$scope\", function ($scope) {\n\n\t\t\t}],\n\t\t\tlink: function (scope, element) {\n\n\t\t\t\t//obtenemos el controlador padre\n\t\t\t\tvar bz = scope.$parent.papeleriaEditor;\n\n\n\t\t\t\tvar logoColors = [\n\t\t\t\t\t\"color-primario\",\n\t\t\t\t\t\"total-blanco\",\n\t\t\t\t\t\"total-negro\",\n\t\t\t\t\t\"total-gris\"\n\t\t\t\t];\n\n\n\n\t\t\t\t///////////////////////////\n\t\t\t\t///////MIRROR RECTS////////\n\t\t\t\t///////////////////////////\n\n\t\t\t\tfunction crearMirrorRect(elementoData, identidad) {\n\n\t\t\t\t\tvar caraSvg = angular.element(\"svg.cara[data-index=\" + identidad.data.cara + \"]\");\n\n\t\t\t\t\tvar mirrorRect = angular.element($document[0].createElementNS('http://www.w3.org/2000/svg', \"rect\"));\n\n\t\t\t\t\tmirrorRect.addClass(\"mirror-rect\");\n\t\t\t\t\tmirrorRect.attr(\"data-identidad\", angular.toJson(identidad))\n\t\t\t\t\tvar coordenadasElemento;\n\n\t\t\t\t\tif (identidad.tipo == \"item\") {\n\n\t\t\t\t\t\tvar itemSvg = caraSvg.find(\".hook#\" + identidad.data.hook + \" > svg > g[data-index=\" + identidad.data.item + \"]\");\n\n\t\t\t\t\t\tcoordenadasElemento = itemSvg[0].getBBox();\n\n\t\t\t\t\t\tvar padreSvg = itemSvg.parents(\".hook\");\n\n\t\t\t\t\t\tmirrorRect.attr(\"y\", coordenadasElemento.y + parseFloat(padreSvg.attr(\"y\")));\n\t\t\t\t\t\tmirrorRect.attr(\"x\", coordenadasElemento.x + parseFloat(padreSvg.attr(\"x\")));\n\n\t\t\t\t\t\taplicarAlteraciones(elementoData, identidad.data.item, \"mirror\", mirrorRect);\n\n\t\t\t\t\t} else if (identidad.tipo == \"logo\") {\n\n\t\t\t\t\t\tvar logoSvg = caraSvg.find(\".contenedor-logo[data-index='\" + identidad.data.logo + \"']\");\n\n\t\t\t\t\t\tcoordenadasElemento = logoSvg[0].getBBox();\n\n\t\t\t\t\t\tmirrorRect.attr(\"y\", coordenadasElemento.y);\n\t\t\t\t\t\tmirrorRect.attr(\"x\", coordenadasElemento.x);\n\t\t\t\t\t\taplicarAlteraciones(elementoData, identidad.data.logo, \"mirror\", mirrorRect);\n\n\t\t\t\t\t}\n\n\t\t\t\t\tmirrorRect.css(\"fill\", \"transparent\");\n\t\t\t\t\tmirrorRect.attr(\"height\", coordenadasElemento.height);\n\t\t\t\t\tmirrorRect.attr(\"width\", coordenadasElemento.width);\n\n\t\t\t\t\tcaraSvg.append(mirrorRect);\n\t\t\t\t}\n\n\n\t\t\t\t////////////////////////////\n\t\t\t\t//////COLOREAR LOS SVG//////\n\t\t\t\t////////////////////////////\n\n\t\t\t\tfunction pintarLienzo(lienzo) {\n\n\t\t\t\t\tlienzo.find(\".color-primario\").css({\n\t\t\t\t\t\t\"fill\": bz.logo.atributos[\"color-icono\"]\n\t\t\t\t\t});\n\n\t\t\t\t\t//si el icono y el texto tienen el mismo color, se agrega como color secundario ele mismo con 0.5 opacity\n\t\t\t\t\tif (bz.logo.atributos[\"color-icono\"] === bz.logo.atributos[\"color-nombre\"]) {\n\n\t\t\t\t\t\tlienzo.find(\".color-secundario\").css(\"fill\", lienzo.find(\".color-primario\").css(\"fill\").replace(\"rgb\", \"rgba\").replace(\")\", \", 0.5)\"));\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tlienzo.find(\".color-secundario\").css(\"fill\", bz.logo.atributos[\"color-nombre\"]);\n\n\t\t\t\t\t}\n\t\t\t\t}\n\n\n\t\t\t\t/////////////////////////////////////////\n\t\t\t\t////APLICAR ALTERACIONES A LOS ITEMS/////\n\t\t\t\t/////////////////////////////////////////\n\t\t\t\t// color, posicion, tamano\n\t\t\t\tfunction aplicarAlteraciones(elementoData, indice, elemento, elementoSvg) {\n\n\t\t\t\t\tvar elementoDOM;\n\n\t\t\t\t\tif (elemento == \"item\") {\n\t\t\t\t\t\telementoDOM = elementoSvg.find(\"g[data-index=\" + indice + \"]\");\n\t\t\t\t\t} else if (elemento == \"logo\" || elemento == \"mirror\") {\n\t\t\t\t\t\telementoDOM = elementoSvg;\n\t\t\t\t\t};\n\n\t\t\t\t\tnewTransform = \"\";\n\n\t\t\t\t\tangular.forEach(elementoData.alteraciones, function (alteracion, llave) {\n\n\t\t\t\t\t\tswitch (llave) {\n\n\t\t\t\t\t\t\tcase \"matrix\":\n\t\t\t\t\t\t\t\tvar matrix = alteracion;\n\n\t\t\t\t\t\t\t\tfor (var i = 0; i < matrix.length; i++) {\n\t\t\t\t\t\t\t\t\tmatrix[i] = parseFloat(matrix[i]);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tvar newMatrix = \"matrix(\" + matrix.join(\" \") + \")\";\n\t\t\t\t\t\t\t\t//elementoDOM.attr(\"transform\", newMatrix);\n\n\t\t\t\t\t\t\t\tnewTransform = newTransform + \" \" + newMatrix;\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase \"scale\":\n\t\t\t\t\t\t\t\tvar scale = alteracion;\n\n\t\t\t\t\t\t\t\tvar newScale = \"scale(\" + scale + \")\";\n\t\t\t\t\t\t\t\tnewTransform = newTransform + \" \" + newScale;\n\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t});\n\n\t\t\t\t\telementoDOM.attr(\"transform\", newTransform);\n\n\n\t\t\t\t}\n\n\t\t\t\t/////////////////////////////////////////\n\t\t\t\t//////AGREGAR LOS HOOKS A LAS CARAS//////\n\t\t\t\t/////////////////////////////////////////\n\n\t\t\t\tfunction agregarHook(hook, caraSvg) {\n\n\t\t\t\t\tvar defered = $q.defer();\n\t\t\t\t\tvar promise = defered.promise;\n\n\t\t\t\t\tfontService.preparar(hook.fuente.nombre, hook.fuente.url)\n\t\t\t\t\t\t.finally(function () {\n\n\t\t\t\t\t\t\tvar hookSvg = angular.element($document[0].createElementNS('http://www.w3.org/2000/svg', \"foreignObject\"));\n\n\t\t\t\t\t\t\thookSvg.attr(\"id\", hook.id);\n\n\t\t\t\t\t\t\thookSvg.addClass(\"hook\");\n\n\t\t\t\t\t\t\thookSvg.css({\n\t\t\t\t\t\t\t\t\"font-family\": hook.fuente.nombre,\n\t\t\t\t\t\t\t\t\"fill\": hook.fuente.fill\n\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\thookSvg.append(\"<svg style='width:100%; height: 100%;'></svg>\");\n\n\t\t\t\t\t\t\tcaraSvg.append(hookSvg);\n\n\t\t\t\t\t\t\tangular.forEach(hook.caracteristicas, function (caracteristica, llave) {\n\t\t\t\t\t\t\t\thookSvg.attr(llave, caracteristica);\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tangular.forEach(hook.items, function (item, indice) {\n\t\t\t\t\t\t\t\tagregarItem(item, indice, hook, hookSvg);\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tangular.forEach(hook.items, function (item, indice) {\n\t\t\t\t\t\t\t\taplicarAlteraciones(item, indice, \"item\", hookSvg)\n\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\tdefered.resolve();\n\t\t\t\t\t\t})\n\n\t\t\t\t\treturn promise;\n\n\t\t\t\t};\n\n\t\t\t\t/////////////////////////////////////////\n\t\t\t\t//////AGREGAR LOS ITEMS A LOS HOOKS//////\n\t\t\t\t/////////////////////////////////////////\n\t\t\t\tfunction agregarItem(item, indice, hook, hookSvg, conservarAlteraciones) {\n\n\t\t\t\t\tvar itemSvg = angular.element($document[0].createElementNS('http://www.w3.org/2000/svg', \"g\"));\n\n\t\t\t\t\tvar textSvg = angular.element($document[0].createElementNS('http://www.w3.org/2000/svg', item.tag))\n\n\t\t\t\t\titemSvg.append(textSvg);\n\n\t\t\t\t\titemSvg.attr(\"data-index\", indice);\n\n\t\t\t\t\t//REVISAR\n\t\t\t\t\thookSvg.children().append(itemSvg);\n\n\t\t\t\t\tvar iconoTexto;\n\t\t\t\t\tvar contenedorIconoSvg;\n\t\t\t\t\tvar iconoSvg;\n\n\t\t\t\t\tif (item.icono) {\n\n\t\t\t\t\t\tvar contenedorIconoSvg = angular.element($document[0].createElementNS('http://www.w3.org/2000/svg', \"foreignObject\"));\n\n\t\t\t\t\t\ticonoSvg = angular.element(item.icono.svg);\n\n\t\t\t\t\t\tcontenedorIconoSvg.append(iconoSvg);\n\n\t\t\t\t\t\tangular.forEach(item.icono.clases, function (clase) {\n\t\t\t\t\t\t\ticonoSvg.addClass(clase);\n\t\t\t\t\t\t})\n\n\t\t\t\t\t\tif (item.icono.orientacion == 'right') {\n\n\t\t\t\t\t\t\titemSvg.append(contenedorIconoSvg);\n\n\t\t\t\t\t\t} else if (item.icono.orientacion == 'left') {\n\n\t\t\t\t\t\t\titemSvg.prepend(contenedorIconoSvg);\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tvar multilineas = 0;\n\t\t\t\t\tvar tamanoLineas = 0;\n\n\t\t\t\t\tif (Array.isArray(item.valor)) { //con saltos de linea\n\n\t\t\t\t\t\tangular.forEach(item.valor, function (trozoText) {\n\n\t\t\t\t\t\t\ttrozoTextSvg = angular.element($document[0].createElementNS('http://www.w3.org/2000/svg', \"tspan\"));\n\t\t\t\t\t\t\ttrozoTextSvg.text(trozoText);\n\t\t\t\t\t\t\ttextSvg.append(trozoTextSvg);\n\n\t\t\t\t\t\t\ttamanoLineas += trozoTextSvg[0].getBBox().height;\n\t\t\t\t\t\t\tmultilineas++;\n\n\t\t\t\t\t\t})\n\n\n\t\t\t\t\t} else { //una sola linea de texto\n\n\t\t\t\t\t\ttextSvg.text(item.valor);\n\n\t\t\t\t\t}\n\n\t\t\t\t\tangular.forEach(item.caracteristicas, function (caracteristica, llave) {\n\n\t\t\t\t\t\ttextSvg.attr(llave, caracteristica);\n\n\t\t\t\t\t});\n\n\t\t\t\t\tif (multilineas) {\n\n\t\t\t\t\t\tif (multilineas <= 2) {\n\t\t\t\t\t\t\tvar tamanoTexto = hook.tamanoTexto;\n\t\t\t\t\t\t} else if (multilineas > 2) {\n\t\t\t\t\t\t\tvar tamanoTexto = (parseInt(hook.tamanoTexto) / multilineas) * 2;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\titemSvg.css({\n\t\t\t\t\t\t\t\"font-size\": tamanoTexto\n\t\t\t\t\t\t});\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\titemSvg.css({\n\t\t\t\t\t\t\t\"font-size\": hook.tamanoTexto\n\t\t\t\t\t\t});\n\n\t\t\t\t\t}\n\n\t\t\t\t\tvar coordenadasItem = itemSvg[0].getBBox();\n\t\t\t\t\tvar tamanoIcono = parseInt(hook.tamanoTexto) * 2;\n\t\t\t\t\tvar coordenadasHook = hookSvg[0].getBBox();\n\t\t\t\t\tvar coordenadasTexto = textSvg[0].getBBox();\n\t\t\t\t\tvar coordenadasContenedor;\n\n\n\t\t\t\t\tswitch (hook.orientacion) {\n\n\t\t\t\t\t\tcase \"right\":\n\n\t\t\t\t\t\t\ttextSvg.attr(\"text-anchor\", \"end\");\n\n\t\t\t\t\t\t\tif (item.icono) { //si tiene icono\n\n\t\t\t\t\t\t\t\tcontenedorIconoSvg.attr(\"height\", tamanoIcono);\n\t\t\t\t\t\t\t\tcontenedorIconoSvg.attr(\"width\", tamanoIcono);\n\n\t\t\t\t\t\t\t\ticonoSvg.attr(\"height\", \"100%\");\n\t\t\t\t\t\t\t\ticonoSvg.attr(\"width\", \"100%\");\n\n\t\t\t\t\t\t\t\tcoordenadasContenedor = contenedorIconoSvg[0].getBBox();\n\n\t\t\t\t\t\t\t\tif (item.icono.orientacion == 'right') {\n\n\t\t\t\t\t\t\t\t\tcontenedorIconoSvg.attr(\"x\", coordenadasHook.width - coordenadasContenedor.width)\n\n\t\t\t\t\t\t\t\t\tcoordenadasContenedor = contenedorIconoSvg[0].getBBox();\n\n\t\t\t\t\t\t\t\t\tif (multilineas) {\n\t\t\t\t\t\t\t\t\t\ttextSvg.children().attr(\"x\", (coordenadasContenedor.x * 0.95))\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\ttextSvg.attr(\"x\", (coordenadasContenedor.x * 0.95));\n\t\t\t\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\t\t\t} else if (item.icono.orientacion == 'left') {\n\n\t\t\t\t\t\t\t\t\tif (multilineas) {\n\t\t\t\t\t\t\t\t\t\ttextSvg.children().attr(\"x\", \"100%\")\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\ttextSvg.attr(\"x\", \"100%\");\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tcoordenadasTexto = textSvg[0].getBBox();\n\n\t\t\t\t\t\t\t\t\tcontenedorIconoSvg.attr(\"x\", coordenadasHook.width - coordenadasTexto.width - coordenadasContenedor.width)\n\n\t\t\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\t\t\tif (multilineas) { //si es multilinea\n\n\t\t\t\t\t\t\t\t\tcoordenadasContenedor = contenedorIconoSvg[0].getBBox();\n\n\t\t\t\t\t\t\t\t\tif (coordenadasContenedor.height > tamanoLineas) { //si el icono es mas grande que las lineas\n\n\t\t\t\t\t\t\t\t\t\tcontenedorIconoSvg.attr(\"y\", \"0\");\n\n\t\t\t\t\t\t\t\t\t\t//TODO: posicion del text guiado por el icono\n\n\n\t\t\t\t\t\t\t\t\t} else if (coordenadasContenedor.height <= tamanoLineas) { //si las lineas son mas grandes que el icono\n\n\t\t\t\t\t\t\t\t\t\tif (indice === 0) { //si es el primer item de este contenedor\n\n\t\t\t\t\t\t\t\t\t\t\tcoordenadasTexto = textSvg[0].getBBox();\n\n\t\t\t\t\t\t\t\t\t\t\ttextSvg.attr(\"y\", coordenadasTexto.height)\n\n\t\t\t\t\t\t\t\t\t\t\tvar alturaLinea = 0;\n\n\t\t\t\t\t\t\t\t\t\t\ttextSvg.children().each(function (indiceTrozo) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar trozoTextSvg = angular.element(this);\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (indiceTrozo === 0) { // primera linea de texto\n\t\t\t\t\t\t\t\t\t\t\t\t\ttrozoTextSvg.attr(\"dy\", \"0\");\n\t\t\t\t\t\t\t\t\t\t\t\t\talturaLinea = trozoTextSvg[0].getBBox().height;\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar coordenadasTrozo = trozoTextSvg[0].getBBox();\n\t\t\t\t\t\t\t\t\t\t\t\t\ttrozoTextSvg.attr(\"dy\", alturaLinea);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\t\t\t\t} else { //cualquier item despues del primero\n\n\t\t\t\t\t\t\t\t\t\t\tvar itemAnterior = hookSvg.children().find(\"g:nth-child(\" + (indice) + \")\");\n\n\t\t\t\t\t\t\t\t\t\t\tvar alturaAnterior = alturaAnterior = itemAnterior[0].getBBox().y + itemAnterior[0].getBBox().height;\n\n\t\t\t\t\t\t\t\t\t\t\ttextSvg.attr(\"y\", alturaAnterior + coordenadasTexto.height);\n\t\t\t\t\t\t\t\t\t\t\tvar alturaLinea = 0;\n\t\t\t\t\t\t\t\t\t\t\ttextSvg.children().each(function (indiceTrozo) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar trozoTextSvg = angular.element(this);\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (indiceTrozo === 0) { // primera linea de texto\n\t\t\t\t\t\t\t\t\t\t\t\t\ttrozoTextSvg.attr(\"dy\", \"0\");\n\t\t\t\t\t\t\t\t\t\t\t\t\talturaLinea = trozoTextSvg[0].getBBox().height;\n\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\ttrozoTextSvg.attr(\"dy\", alturaLinea);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tcoordenadasTexto = textSvg[0].getBBox();\n\n\t\t\t\t\t\t\t\t\t\tcontenedorIconoSvg.attr(\"y\", (coordenadasTexto.y + (coordenadasTexto.height / 2) - (coordenadasContenedor.height / 2)));\n\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t} else { //si es un texto de linea unica\n\n\t\t\t\t\t\t\t\t\tif (indice === 0) { //si es el primer item de este contenedor\n\n\t\t\t\t\t\t\t\t\t\tcontenedorIconoSvg.attr(\"y\", \"0\");\n\n\t\t\t\t\t\t\t\t\t} else { //cualquier item despues del primero\n\n\t\t\t\t\t\t\t\t\t\tvar itemAnterior = hookSvg.children().find(\"g:nth-child(\" + (indice) + \")\");\n\n\t\t\t\t\t\t\t\t\t\tvar alturaAnterior;\n\t\t\t\t\t\t\t\t\t\t/*\n\t\t\t\t\t\t\t\t\t\tif (hook.items[indice - 1].icono) { //SI HAY UN ICONO ANTERIOR\n\n\t\t\t\t\t\t\t\t\t\t\tvar contenedorIconoSvgAnterior = itemAnterior.find(\"foreignObject\");\n\n\t\t\t\t\t\t\t\t\t\t\tvar coordenadasContenedorIconoSvgAnterior = contenedorIconoSvgAnterior[0].getBBox();\n\n\t\t\t\t\t\t\t\t\t\t\talturaAnterior = coordenadasContenedorIconoSvgAnterior.height + coordenadasContenedorIconoSvgAnterior.y;\n\n\t\t\t\t\t\t\t\t\t\t} else { //SI NO HAY ICONO ANTERIOR\n\t\t\t\t\t\t\t\t\t\t\t*/\n\t\t\t\t\t\t\t\t\t\talturaAnterior = itemAnterior[0].getBBox().y + itemAnterior[0].getBBox().height;\n\n\t\t\t\t\t\t\t\t\t\t//}\n\n\t\t\t\t\t\t\t\t\t\t//SE POSICIONA EL ICONO ACTUAL\n\t\t\t\t\t\t\t\t\t\tcontenedorIconoSvg.attr(\"y\", alturaAnterior);\n\n\t\t\t\t\t\t\t\t\t\titemSvgAnterior = hookSvg.children().find(\"g:nth-child(\" + (indice) + \")\");\n\n\t\t\t\t\t\t\t\t\t\tvar coordenadasItemAnterior = itemSvgAnterior[0].getBBox();\n\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tcoordenadasContenedor = contenedorIconoSvg[0].getBBox();\n\n\t\t\t\t\t\t\t\t\ttextSvg.attr(\"y\", (coordenadasContenedor.y + (coordenadasContenedor.height / 2) + (coordenadasTexto.height / 4)));\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tif (multilineas) { //si es multilinea\n\n\t\t\t\t\t\t\t\t\ttextSvg.children().attr(\"x\", \"100%\")\n\n\t\t\t\t\t\t\t\t\tif (indice === 0) { //si es el primer item de este contenedor\n\n\t\t\t\t\t\t\t\t\t\tcoordenadasTexto = textSvg[0].getBBox();\n\n\t\t\t\t\t\t\t\t\t\ttextSvg.attr(\"y\", coordenadasTexto.height)\n\t\t\t\t\t\t\t\t\t\tvar alturaLinea = 0;\n\t\t\t\t\t\t\t\t\t\ttextSvg.children().each(function (indiceTrozo) {\n\n\t\t\t\t\t\t\t\t\t\t\tvar trozoTextSvg = angular.element(this);\n\n\t\t\t\t\t\t\t\t\t\t\tif (indiceTrozo === 0) { // primera linea de texto\n\t\t\t\t\t\t\t\t\t\t\t\ttrozoTextSvg.attr(\"dy\", \"0\");\n\t\t\t\t\t\t\t\t\t\t\t\talturaLinea = trozoTextSvg[0].getBBox().height;\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar coordenadasTrozo = trozoTextSvg[0].getBBox();\n\t\t\t\t\t\t\t\t\t\t\t\ttrozoTextSvg.attr(\"dy\", alturaLinea);\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\t\t\t} else { //cualquier item despues del primero\n\n\t\t\t\t\t\t\t\t\t\tvar itemAnterior = hookSvg.children().find(\"g:nth-child(\" + (indice) + \")\");\n\n\t\t\t\t\t\t\t\t\t\tvar alturaAnterior = alturaAnterior = itemAnterior[0].getBBox().y + itemAnterior[0].getBBox().height;\n\n\t\t\t\t\t\t\t\t\t\ttextSvg.attr(\"y\", alturaAnterior + coordenadasTexto.height);\n\t\t\t\t\t\t\t\t\t\tvar alturaLinea = 0;\n\t\t\t\t\t\t\t\t\t\ttextSvg.children().each(function (indiceTrozo) {\n\n\t\t\t\t\t\t\t\t\t\t\tvar trozoTextSvg = angular.element(this);\n\n\t\t\t\t\t\t\t\t\t\t\tif (indiceTrozo === 0) { // primera linea de texto\n\t\t\t\t\t\t\t\t\t\t\t\ttrozoTextSvg.attr(\"dy\", \"0\");\n\t\t\t\t\t\t\t\t\t\t\t\talturaLinea = trozoTextSvg[0].getBBox().height;\n\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t\ttrozoTextSvg.attr(\"dy\", alturaLinea);\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\t\t\t} else { // si no es multilinea\n\n\t\t\t\t\t\t\t\t\ttextSvg.attr(\"x\", \"100%\");\n\n\t\t\t\t\t\t\t\t\tif (indice === 0) { //si es el primer item de este contenedor\n\n\t\t\t\t\t\t\t\t\t\ttextSvg.attr(\"y\", coordenadasItem.height);\n\n\t\t\t\t\t\t\t\t\t} else { //cualquier item despues del primero\n\n\t\t\t\t\t\t\t\t\t\titemSvgAnterior = hookSvg.children().find(\"g:nth-child(\" + (indice) + \")\");\n\n\t\t\t\t\t\t\t\t\t\tvar coordenadasItemAnterior = itemSvgAnterior[0].getBBox();\n\n\t\t\t\t\t\t\t\t\t\ttextSvg.attr(\"y\", coordenadasItem.height + coordenadasItemAnterior.y + coordenadasItemAnterior.height);\n\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase \"left\":\n\n\t\t\t\t\t\t\ttextSvg.attr(\"text-anchor\", \"start\");\n\n\t\t\t\t\t\t\tif (item.icono) { //si tiene icono\n\n\t\t\t\t\t\t\t\tcontenedorIconoSvg.attr(\"height\", tamanoIcono);\n\t\t\t\t\t\t\t\tcontenedorIconoSvg.attr(\"width\", tamanoIcono);\n\n\t\t\t\t\t\t\t\ticonoSvg.attr(\"height\", \"100%\")\n\t\t\t\t\t\t\t\ticonoSvg.attr(\"width\", \"100%\")\n\n\t\t\t\t\t\t\t\tcoordenadasContenedor = contenedorIconoSvg[0].getBBox();\n\n\t\t\t\t\t\t\t\tif (item.icono.orientacion == 'right') {\n\n\t\t\t\t\t\t\t\t\t//contenedorIconoSvg.attr(\"x\", coordenadasHook.width - coordenadasContenedor.width)\n\n\t\t\t\t\t\t\t\t\tif (multilineas) {\n\t\t\t\t\t\t\t\t\t\ttextSvg.children().attr(\"x\", \"0\")\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\ttextSvg.attr(\"x\", \"0\");\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tcoordenadasTexto = textSvg[0].getBBox();\n\n\t\t\t\t\t\t\t\t\tcontenedorIconoSvg.attr(\"x\", coordenadasTexto.width);\n\n\t\t\t\t\t\t\t\t\t//coordenadasContenedor = contenedorIconoSvg[0].getBBox();\n\n\t\t\t\t\t\t\t\t} else if (item.icono.orientacion == 'left') {\n\n\t\t\t\t\t\t\t\t\tcontenedorIconoSvg.attr(\"x\", \"0\");\n\n\t\t\t\t\t\t\t\t\tcoordenadasContenedor = contenedorIconoSvg[0].getBBox();\n\n\t\t\t\t\t\t\t\t\tif (multilineas) {\n\t\t\t\t\t\t\t\t\t\ttextSvg.children().attr(\"x\", (coordenadasContenedor.width * 1.05))\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\ttextSvg.attr(\"x\", (coordenadasContenedor.width * 1.05));\n\t\t\t\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (multilineas) { //si es multilinea\n\n\n\t\t\t\t\t\t\t\t\tcoordenadasContenedor = contenedorIconoSvg[0].getBBox();\n\n\t\t\t\t\t\t\t\t\tif (coordenadasContenedor.height > tamanoLineas) { //si el icono es mas grande que las lineas\n\n\t\t\t\t\t\t\t\t\t\t//TODO:\n\n\t\t\t\t\t\t\t\t\t} else if (coordenadasContenedor.height <= tamanoLineas) { //si las lineas son mas grandes que el icono\n\t\t\t\t\t\t\t\t\t\tif (indice === 0) { //si es el primer item de este contenedor\n\n\t\t\t\t\t\t\t\t\t\t\tcoordenadasTexto = textSvg[0].getBBox();\n\n\t\t\t\t\t\t\t\t\t\t\ttextSvg.attr(\"y\", coordenadasTexto.height)\n\t\t\t\t\t\t\t\t\t\t\tvar alturaLinea = 0;\n\t\t\t\t\t\t\t\t\t\t\ttextSvg.children().each(function (indiceTrozo) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar trozoTextSvg = angular.element(this);\n\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (indiceTrozo === 0) { // primera linea de texto\n\n\t\t\t\t\t\t\t\t\t\t\t\t\ttrozoTextSvg.attr(\"dy\", \"0\");\n\t\t\t\t\t\t\t\t\t\t\t\t\talturaLinea = trozoTextSvg[0].getBBox().height;\n\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t//var coordenadasTrozoTextAnterior = trozoTextSvg.prev()[0].getBBox();\n\t\t\t\t\t\t\t\t\t\t\t\t\t//var coordenadasTrozo = trozoTextSvg[0].getBBox();\n\n\t\t\t\t\t\t\t\t\t\t\t\t\ttrozoTextSvg.attr(\"dy\", alturaLinea);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\t\t\t\t} else { //cualquier item despues del primero\n\n\t\t\t\t\t\t\t\t\t\t\tvar itemAnterior = hookSvg.children().find(\"g:nth-child(\" + (indice) + \")\");\n\n\t\t\t\t\t\t\t\t\t\t\tvar alturaAnterior = alturaAnterior = itemAnterior[0].getBBox().y + itemAnterior[0].getBBox().height;\n\n\t\t\t\t\t\t\t\t\t\t\ttextSvg.attr(\"y\", alturaAnterior + coordenadasTexto.height);\n\t\t\t\t\t\t\t\t\t\t\tvar alturaLinea = 0;\n\t\t\t\t\t\t\t\t\t\t\ttextSvg.children().each(function (indiceTrozo) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar trozoTextSvg = angular.element(this);\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (indiceTrozo === 0) { // primera linea de texto\n\t\t\t\t\t\t\t\t\t\t\t\t\ttrozoTextSvg.attr(\"dy\", \"0\");\n\t\t\t\t\t\t\t\t\t\t\t\t\talturaLinea = trozoTextSvg[0].getBBox().height;\n\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t\t\ttrozoTextSvg.attr(\"dy\", alturaLinea);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tcoordenadasTexto = textSvg[0].getBBox();\n\n\t\t\t\t\t\t\t\t\t\tcontenedorIconoSvg.attr(\"y\", (coordenadasTexto.y + (coordenadasTexto.height / 2) - (coordenadasContenedor.height / 2)));\n\t\t\t\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\t\t\t\t//si es el primer item de este contenedor\n\n\t\t\t\t\t\t\t\t} else { //si es un texto de una sola linea\n\n\t\t\t\t\t\t\t\t\tif (indice === 0) { //si es el primer item de este contenedor\n\n\t\t\t\t\t\t\t\t\t\tcontenedorIconoSvg.attr(\"y\", \"0\");\n\n\t\t\t\t\t\t\t\t\t} else { //cualquier item despues del primero\n\n\t\t\t\t\t\t\t\t\t\tvar itemAnterior = hookSvg.children().find(\"g:nth-child(\" + (indice) + \")\");\n\n\t\t\t\t\t\t\t\t\t\tvar alturaAnterior;\n\n\t\t\t\t\t\t\t\t\t\t/*if (hook.items[indice - 1].icono) { //SI HAY UN ICONO ANTERIOR\n\n\t\t\t\t\t\t\t\t\t\t\tvar contenedorIconoSvgAnterior = itemAnterior.find(\"foreignObject\");\n\n\t\t\t\t\t\t\t\t\t\t\tvar coordenadasContenedorIconoSvgAnterior = contenedorIconoSvgAnterior[0].getBBox();\n\n\t\t\t\t\t\t\t\t\t\t\talturaAnterior = coordenadasContenedorIconoSvgAnterior.height + coordenadasContenedorIconoSvgAnterior.y;\n\n\t\t\t\t\t\t\t\t\t\t} else { //SI NO HAY ICONO ANTEIOR */\n\n\t\t\t\t\t\t\t\t\t\talturaAnterior = itemAnterior[0].getBBox().y + itemAnterior[0].getBBox().height;\n\n\t\t\t\t\t\t\t\t\t\t//}\n\n\t\t\t\t\t\t\t\t\t\t//SE POSICIONA EL ICONO ACTUAL\n\t\t\t\t\t\t\t\t\t\tcontenedorIconoSvg.attr(\"y\", alturaAnterior);\n\n\t\t\t\t\t\t\t\t\t\titemSvgAnterior = hookSvg.children().find(\"g:nth-child(\" + (indice) + \")\");\n\n\t\t\t\t\t\t\t\t\t\tvar coordenadasItemAnterior = itemSvgAnterior[0].getBBox();\n\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tcoordenadasContenedor = contenedorIconoSvg[0].getBBox();\n\n\t\t\t\t\t\t\t\t\ttextSvg.attr(\"y\", (coordenadasContenedor.y + (coordenadasContenedor.height / 2) + (coordenadasTexto.height / 4)));\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t} else { //si no tiene icono\n\n\t\t\t\t\t\t\t\tif (multilineas) { //si es multilinea\n\n\t\t\t\t\t\t\t\t\ttextSvg.children().attr(\"x\", \"0\")\n\n\t\t\t\t\t\t\t\t\tif (indice === 0) { //si es el primer item de este contenedor\n\n\t\t\t\t\t\t\t\t\t\tcoordenadasTexto = textSvg[0].getBBox();\n\t\t\t\t\t\t\t\t\t\ttextSvg.attr(\"y\", coordenadasTexto.height)\n\t\t\t\t\t\t\t\t\t\tvar alturaLinea = 0;\n\n\t\t\t\t\t\t\t\t\t\ttextSvg.children().each(function (indiceTrozo) {\n\n\t\t\t\t\t\t\t\t\t\t\tvar trozoTextSvg = angular.element(this);\n\t\t\t\t\t\t\t\t\t\t\tif (indiceTrozo === 0) { // primera linea de texto\n\t\t\t\t\t\t\t\t\t\t\t\ttrozoTextSvg.attr(\"dy\", \"0\");\n\t\t\t\t\t\t\t\t\t\t\t\talturaLinea = trozoTextSvg[0].getBBox().height;\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t\tvar coordenadasTrozo = trozoTextSvg[0].getBBox();\n\t\t\t\t\t\t\t\t\t\t\t\ttrozoTextSvg.attr(\"dy\", alturaLinea);\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\t\t\t} else { //cualquier item despues del primero\n\n\t\t\t\t\t\t\t\t\t\tvar itemAnterior = hookSvg.children().find(\"g:nth-child(\" + (indice) + \")\");\n\n\t\t\t\t\t\t\t\t\t\tvar alturaAnterior = alturaAnterior = itemAnterior[0].getBBox().y + itemAnterior[0].getBBox().height;\n\n\t\t\t\t\t\t\t\t\t\ttextSvg.attr(\"y\", alturaAnterior + coordenadasTexto.height);\n\t\t\t\t\t\t\t\t\t\tvar alturaLinea = 0;\n\t\t\t\t\t\t\t\t\t\ttextSvg.children().each(function (indiceTrozo) {\n\n\t\t\t\t\t\t\t\t\t\t\tvar trozoTextSvg = angular.element(this);\n\n\t\t\t\t\t\t\t\t\t\t\tif (indiceTrozo === 0) { // primera linea de texto\n\t\t\t\t\t\t\t\t\t\t\t\ttrozoTextSvg.attr(\"dy\", \"0\");\n\t\t\t\t\t\t\t\t\t\t\t\talturaLinea = trozoTextSvg[0].getBBox().height;\n\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t\ttrozoTextSvg.attr(\"dy\", alturaLinea);\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\ttextSvg.attr(\"x\", \"0%\")\n\n\t\t\t\t\t\t\t\t\tif (indice === 0) { //si es el primer item de este contenedor\n\n\t\t\t\t\t\t\t\t\t\ttextSvg.attr(\"y\", coordenadasItem.height);\n\n\t\t\t\t\t\t\t\t\t} else { //cualquier item despues del primero\n\n\t\t\t\t\t\t\t\t\t\titemSvgAnterior = hookSvg.children().find(\"g:nth-child(\" + (indice) + \")\");\n\n\t\t\t\t\t\t\t\t\t\tvar coordenadasItemAnterior = itemSvgAnterior[0].getBBox();\n\n\t\t\t\t\t\t\t\t\t\ttextSvg.attr(\"y\", coordenadasItem.height + coordenadasItemAnterior.y + coordenadasItemAnterior.height);\n\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t/*if(iconoSvg){//si tiene icono\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\tcontenedorIconoSvg.attr(\"height\", tamanoIcono);\n\t\t\t\t\t\t\t\t\t\tcontenedorIconoSvg.attr(\"width\", tamanoIcono);\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\ticonoSvg.attr(\"height\", \"100%\")\n\t\t\t\t\t\t\t\t\t\ticonoSvg.attr(\"width\", \"100%\")\n\n\t\t\t\t\t\t\t\t\t\tcoordenadasContenedor = contenedorIconoSvg[0].getBBox();\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\tcontenedorIconoSvg.attr(\"x\", coordenadasHook.width - coordenadasContenedor.width)\n\n\t\t\t\t\t\t\t\t\t\tcoordenadasContenedor = contenedorIconoSvg[0].getBBox();\n\n\t\t\t\t\t\t\t\t\t\ttextSvg.attr(\"x\", (coordenadasContenedor.x * 0.95));\n\t\t\t\t\t\t\t\t\t\ttextSvg.attr(\"text-anchor\", \"end\");\n\n\t\t\t\t\t\t\t\t\t\tif(indice === 0){//si es el primer item de este contenedor\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\ttextSvg.attr(\"y\", coordenadasItem.height);\n\t\t\t\n\t\t\t\t\t\t\t\t\t\t} else {//cualquier item despues del primero\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\titemSvgAnterior = hookSvg.children().find(\"g:nth-child(\"+(indice)+\")\");\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tvar coordenadasItemAnterior = itemSvgAnterior[0].getBBox();\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\ttextSvg.attr(\"y\", coordenadasItem.height + coordenadasItemAnterior.y + coordenadasItemAnterior.height);\n\t\t\t\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\n\n\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t//textSvg.attr(\"x\", \"100%\");\n\t\t\t\t\t\t\t\t\t\t//textSvg.attr(\"text-anchor\", \"end\");\n\n\t\t\t\t\t\t\t\t\t\tif(indice === 0){//si es el primer item de este contenedor\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\ttextSvg.attr(\"y\", coordenadasItem.height);\n\t\t\t\n\t\t\t\t\t\t\t\t\t\t} else {//cualquier item despues del primero\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\titemSvgAnterior = hookSvg.children().find(\"g:nth-child(\"+(indice)+\")\");\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tvar coordenadasItemAnterior = itemSvgAnterior[0].getBBox();\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\ttextSvg.attr(\"y\", coordenadasItem.height + coordenadasItemAnterior.y + coordenadasItemAnterior.height);\n\t\t\t\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}*/\n\n\n\t\t\t\t\t};\n\t\t\t\t}\n\n\n\n\n\t\t\t\t/////////////////////////\n\t\t\t\t/////////COMIENZO////////\n\t\t\t\t/////////////////////////\n\n\n\t\t\t\tvar promesasHooks = [];\n\n\t\t\t\tvar loader = angular.element(\"<div><img style='width: 20%;' style='display: block; margin: auto' src='assets/images/gifs/c.gif'></div>\");\n\t\t\t\tloader.addClass(\"bazam-loader-papeleria\");\n\t\t\t\tangular.element(\"body\").append(loader);\n\n\n\n\t\t\t\tangular.forEach(bz.papeleria.modelo.caras, function (cara, index) {\n\n\t\t\t\t\tvar caraSvg = angular.element(cara.svg);\n\t\t\t\t\tcaraSvg.addClass(\"cara\");\n\t\t\t\t\tcaraSvg.attr(\"data-index\", index);\n\n\t\t\t\t\tif (index) {\n\t\t\t\t\t\tcaraSvg.css({\n\t\t\t\t\t\t\t\"visibiliy\": \"hidden\",\n\t\t\t\t\t\t\t\"z-index\": \"-1\"\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\n\t\t\t\t\tvar estilos = angular.element(\"<style></style>\");\n\t\t\t\t\testilos.addClass(\"estilos-cara\");\n\n\t\t\t\t\t$http.get(\"/creador-de-logos/app/directives/papeleria/bazamPapeleria.css\").then(function (res) {\n\t\t\t\t\t\testilos.text(res.data);\n\t\t\t\t\t})\n\n\t\t\t\t\tcaraSvg.prepend(estilos);\n\n\t\t\t\t\telement.append(caraSvg);\n\n\t\t\t\t\tangular.forEach(cara.logos, function (logo, indiceLogo) {\n\n\t\t\t\t\t\tvar logoSvg = angular.element(\"<g class='contenedor-logo' data-index=\" + indiceLogo + \">\" + bz.base64.decode(bz.logo.logo) + \"</g>\");\n\n\t\t\t\t\t\tangular.forEach(logo.caracteristicas, function (caracteristica, llave) {\n\t\t\t\t\t\t\tlogoSvg.children().attr(llave, caracteristica);\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tangular.forEach(logo.clases, function (clase) {\n\t\t\t\t\t\t\tlogoSvg.addClass(clase);\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\taplicarAlteraciones(logo, indiceLogo, \"logo\", logoSvg);\n\n\t\t\t\t\t\tcaraSvg.append(logoSvg);\n\n\t\t\t\t\t});\n\t\t\t\t\tangular.forEach(cara.hooks, function (hook) {\n\t\t\t\t\t\tpromesasHooks.push(agregarHook(hook, caraSvg));\n\t\t\t\t\t});\n\n\t\t\t\t});\n\n\t\t\t\t$q.all(promesasHooks)\n\t\t\t\t\t.finally(function () {\n\t\t\t\t\t\telement.html(element.html());\n\t\t\t\t\t\tpintarLienzo(element);\n\n\t\t\t\t\t\tangular.forEach(bz.papeleria.modelo.caras, function (cara, indiceCara) {\n\n\t\t\t\t\t\t\tangular.forEach(cara.logos, function (logo, indiceLogo) {\n\t\t\t\t\t\t\t\tvar identidadLogo = {\n\t\t\t\t\t\t\t\t\ttipo: \"logo\",\n\t\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\t\tcara: indiceCara,\n\t\t\t\t\t\t\t\t\t\tlogo: indiceLogo\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcrearMirrorRect(logo, identidadLogo);\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tangular.forEach(cara.hooks, function (hook, indiceHook) {\n\t\t\t\t\t\t\t\tangular.forEach(hook.items, function (item, indiceItem) {\n\t\t\t\t\t\t\t\t\tvar identidadItem = {\n\t\t\t\t\t\t\t\t\t\ttipo: \"item\",\n\t\t\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\t\t\tcara: indiceCara,\n\t\t\t\t\t\t\t\t\t\t\thook: hook.id,\n\t\t\t\t\t\t\t\t\t\t\titem: indiceItem\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tcrearMirrorRect(item, identidadItem);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tangular.element(\".bazam-loader-papeleria\").remove();\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\n\n\t\t\t\t\t})\n\n\n\t\t\t\tbz.modificarHook = function (indiceCara, indiceHook, preservarAlteraciones) {\n\n\t\t\t\t\tvar hook = bz.papeleria.modelo.caras[indiceCara].hooks[indiceHook];\n\n\t\t\t\t\tif (!preservarAlteraciones) {\n\t\t\t\t\t\tangular.forEach(hook.items, function (item, indice) {\n\t\t\t\t\t\t\tbz.papeleria.modelo.caras[indiceCara].hooks[indiceHook].items[indice].alteraciones = {};\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\n\n\t\t\t\t\tvar caraSvg = angular.element(\"bazam-papeleria svg:nth-child(\" + (indiceCara + 1) + \")\");\n\n\t\t\t\t\tvar hookSvg = caraSvg.find(\"foreignObject#\" + hook.id);\n\t\t\t\t\thookSvg.remove();\n\n\t\t\t\t\tagregarHook(hook, caraSvg).finally(function () {\n\t\t\t\t\t\tpintarLienzo(element);\n\t\t\t\t\t\tangular.forEach(hook.items, function (item, indiceItem) {\n\t\t\t\t\t\t\tvar identidadItem = {\n\t\t\t\t\t\t\t\ttipo: \"item\",\n\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\tcara: indiceCara,\n\t\t\t\t\t\t\t\t\thook: hook.id,\n\t\t\t\t\t\t\t\t\titem: indiceItem\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcrearMirrorRect(item, identidadItem);\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\n\n\t\t\t\t}\n\n\t\t\t\tbz.cambiarColorHook = function (indiceCara, indiceHook, preservarAlteraciones) {\n\t\t\t\t\tbz.decolorarHook(indiceCara, indiceHook);\n\t\t\t\t\tbz.modificarHook(indiceCara, indiceHook, preservarAlteraciones);\n\t\t\t\t}\n\n\t\t\t\tbz.decolorarHook = function (indiceCara, indiceHook) {\n\t\t\t\t\tvar hook = bz.papeleria.modelo.caras[indiceCara].hooks[indiceHook];\n\t\t\t\t\tangular.forEach(hook.items, function (item, indiceItem) {\n\n\t\t\t\t\t\tif (bz.papeleria.modelo.caras[indiceCara].hooks[indiceHook].items[indiceItem].caracteristicas.fill) {\n\t\t\t\t\t\t\tdelete bz.papeleria.modelo.caras[indiceCara].hooks[indiceHook].items[indiceItem].caracteristicas.fill;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t})\n\n\t\t\t\t}\n\n\t\t\t\tbz.cambiarCara = function (indiceCara) {\n\n\t\t\t\t\telement.find(\".cara[data-index]\").css(\"z-index\", \"-1\");\n\n\t\t\t\t\telement.find(\"[data-index=\" + indiceCara + \"]\").css(\"z-index\", \"1\");\n\t\t\t\t}\n\n\n\t\t\t\tbz.elementoFocus = function (indiceCara, indiceHook, accion) {\n\n\t\t\t\t\tvar hook = bz.papeleria.modelo.caras[indiceCara].hooks[indiceHook];\n\n\t\t\t\t\tvar caraSvg = angular.element(\"bazam-papeleria svg:nth-child(\" + (indiceCara + 1) + \")\");\n\n\t\t\t\t\tvar hookSvg = caraSvg.find(\"foreignObject#\" + hook.id);\n\n\t\t\t\t\tif (accion) { //si hace hover\n\n\t\t\t\t\t\tangular.element(\".hook-seleccionado\").removeClass(\"hook-seleccionado\");\n\t\t\t\t\t\thookSvg.addClass(\"hook-seleccionado\");\n\n\t\t\t\t\t} else { //si deja de hacer hover\n\n\t\t\t\t\t\thookSvg.removeClass(\"hook-seleccionado\");\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\n\t\t\t\tbz.guardar = function () {\n\n\t\t\t\t\tif (bz.peticion) return;\n\t\t\t\t\tbz.peticion = true;\n\n\t\t\t\t\tvar defered = $q.defer();\n\t\t\t\t\tvar promise = defered.promise;\n\n\n\t\t\t\t\tbz.datos.tipo = bz.papeleria.tipo;\n\t\t\t\t\tbz.datos.modelo = bz.papeleria.modelo.nombre;\n\t\t\t\t\tbz.datos.pieza.caras = [];\n\n\t\t\t\t\tvar caras = angular.copy(bz.papeleria.modelo.caras);\n\n\t\t\t\t\tangular.forEach(caras, function (cara, indice) {\n\n\t\t\t\t\t\tvar svgCara = angular.element(\".cara[data-index=\" + indice + \"]\")[0].outerHTML;\n\n\t\t\t\t\t\tvar nuevaCara = {\n\t\t\t\t\t\t\thooks: cara.hooks,\n\t\t\t\t\t\t\tnombre: cara.nombre,\n\t\t\t\t\t\t\tlogos: cara.logos,\n\t\t\t\t\t\t\tsvg: svgCara\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbz.datos.pieza.caras.push(nuevaCara)\n\t\t\t\t\t});\n\n\t\t\t\t\tpapeleriaService.piezas.guardar(bz.datos.tipo, bz.datos.modelo, bz.datos.pieza)\n\t\t\t\t\t\t.then(function (res) {\n\t\t\t\t\t\t\t$mdToast.show($mdToast.base({\n\t\t\t\t\t\t\t\targs: {\n\t\t\t\t\t\t\t\t\tmensaje: \"¡Ha guardado su pieza!\",\n\t\t\t\t\t\t\t\t\tclase: \"success\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}));\n\n\t\t\t\t\t\t\tif (res.insertId) {\n\t\t\t\t\t\t\t\tbz.datos.pieza._id = res.insertId._id;\n\t\t\t\t\t\t\t} else if (res.affectedRow) {\n\t\t\t\t\t\t\t\tbz.datos.pieza._id = res.affectedRow._id;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tdefered.resolve();\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(function () {\n\n\t\t\t\t\t\t\t$mdToast.show($mdToast.base({\n\t\t\t\t\t\t\t\targs: {\n\t\t\t\t\t\t\t\t\tmensaje: \"Un error ha ocurrido\",\n\t\t\t\t\t\t\t\t\tclase: \"danger\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}));\n\n\t\t\t\t\t\t\tdefered.reject();\n\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.finally(function () {\n\t\t\t\t\t\t\tbz.peticion = false;\n\t\t\t\t\t\t})\n\n\t\t\t\t\treturn promise;\n\t\t\t\t}\n\n\t\t\t\t/////////////////////////////////////////////\n\t\t\t\t///////////vigilamos el movimiento///////////\n\t\t\t\t/////////////////////////////////////////////\n\n\t\t\t\tvar currentX = 0;\n\t\t\t\tvar currentY = 0;\n\t\t\t\tvar currentMatrix = [];\n\n\t\t\t\t/*\n\t\t\t\tEventos sin mirror item\n\t\t\t\t*/\n\n\t\t\t\telement.on(\"mouseenter\", \".mirror-rect\", function (evento) {\n\t\t\t\t\tvar mirrorSvg = angular.element(this);\n\t\t\t\t\tmirrorSvg.attr(\"movimiento-bz\", \"\");\n\n\t\t\t\t\tvar identidad = mirrorSvg.data(\"identidad\");\n\t\t\t\t\tangular.element(\".cara[data-index=\" + identidad.data.cara + \"] .mirror-rect:not([movimiento-bz])\").remove();\n\t\t\t\t})\n\n\t\t\t\telement.on(\"mousedown\", \".mirror-rect[movimiento-bz]\", function (evento) {\n\t\t\t\t\tvar mirrorSvg = angular.element(this);\n\t\t\t\t\tmirrorSvg.attr(\"movimiento-bz\", \"true\");\n\n\t\t\t\t\tvar identidad = angular.fromJson(mirrorSvg.data(\"identidad\"));\n\n\t\t\t\t\t/*\n\t\t\t\t\tif (!mirrorSvg.attr(\"transform\")) {\n\t\t\t\t\t\tmirrorSvg.attr(\"transform\", \"matrix(1 0 0 1 0 0)\");\n\t\t\t\t\t};*/\n\n\t\t\t\t\tvar objetivo;\n\t\t\t\t\tvar matrix;\n\n\t\t\t\t\tif(identidad.tipo == \"logo\"){\n\t\t\t\t\t\tobjetivo = angular.element(\".cara[data-index=\"+identidad.data.cara+\"] .contenedor-logo[data-index=\"+identidad.data.logo+\"]\");\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(!bz.papeleria.modelo.caras[identidad.data.cara].logos[identidad.data.logo].alteraciones){\n\t\t\t\t\t\t\tbz.papeleria.modelo.caras[identidad.data.cara].logos[identidad.data.logo].alteraciones = {};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif(!bz.papeleria.modelo.caras[identidad.data.cara].logos[identidad.data.logo].alteraciones.matrix){ //si no existe una alteracion previa\n\t\t\t\t\t\t\tbz.papeleria.modelo.caras[identidad.data.cara].logos[identidad.data.logo].alteraciones.matrix = [1, 0, 0, 1, 0, 0];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmatrix = bz.papeleria.modelo.caras[identidad.data.cara].logos[identidad.data.logo].alteraciones.matrix;\n\t\t\t\t\t\t\n\n\t\t\t\t\t\t\n\t\t\t\t\t} else if(identidad.tipo == \"item\") {\n\n\t\t\t\t\t\tobjetivo = angular.element(\".cara[data-index=\"+identidad.data.cara+\"] .hook#\"+identidad.data.hook+\" g[data-index=\"+identidad.data.item+\"]\");\n\n\t\t\t\t\t\tvar indiceHook;\n\n\t\t\t\t\t\tangular.forEach(bz.papeleria.modelo.caras[identidad.data.cara].hooks, function (hookPapeleria, indice) {\n\n\t\t\t\t\t\t\tif (identidad.data.hook == hookPapeleria.id) {\n\t\t\t\t\t\t\t\tindiceHook = indice;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(!bz.papeleria.modelo.caras[identidad.data.cara].hooks[indiceHook].items[identidad.data.item].alteraciones){ //si no existe una alteracion previa\n\t\t\t\t\t\t\tbz.papeleria.modelo.caras[identidad.data.cara].hooks[indiceHook].items[identidad.data.item].alteraciones = {};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif(!bz.papeleria.modelo.caras[identidad.data.cara].hooks[indiceHook].items[identidad.data.item].alteraciones.matrix){\n\t\t\t\t\t\t\tbz.papeleria.modelo.caras[identidad.data.cara].hooks[indiceHook].items[identidad.data.item].alteraciones.matrix = [1, 0, 0, 1, 0, 0];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmatrix = bz.papeleria.modelo.caras[identidad.data.cara].hooks[indiceHook].items[identidad.data.item].alteraciones.matrix;\n\n\n\t\t\t\t\t}\n\t\t\t\t\t/*\n\t\t\t\t\tif(!objetivo.attr(\"transform\")){\n\t\t\t\t\t\tobjetivo.attr(\"transform\", \"matrix(1 0 0 1 0 0)\");\n\t\t\t\t\t}*/\n\n\t\t\t\t\tcurrentX = evento.clientX;\n\t\t\t\t\tcurrentY = evento.clientY;\n\n\t\t\t\t\t//currentMatrix = objetivo.attr(\"transform\").slice(7, -1).split(\" \");\n\t\t\t\t\tcurrentMatrix = matrix;\n\n\t\t\t\t\tfor (var i = 0; i < currentMatrix.length; i++) {\n\n\t\t\t\t\t\tcurrentMatrix[i] = parseFloat(currentMatrix[i]);\n\n\t\t\t\t\t}\n\n\t\t\t\t})\n\n\n\t\t\t\telement.on(\"mousemove\", \".mirror-rect[movimiento-bz=true]\", function (evento) {\n\n\t\t\t\t\tvar mirrorSvg = angular.element(this);\n\n\t\t\t\t\tvar identidad = angular.fromJson(mirrorSvg.data(\"identidad\"));\n\n\t\t\t\t\tangular.element(\".element-color-picker\").remove();\n\n\t\t\t\t\tvar objetivo;\n\n\t\t\t\t\tif (identidad.tipo == \"logo\") {\n\t\t\t\t\t\tobjetivo = angular.element(\".cara[data-index=\" + identidad.data.cara + \"] .contenedor-logo[data-index=\" + identidad.data.logo + \"]\");\n\n\t\t\t\t\t} else if (identidad.tipo == \"item\") {\n\t\t\t\t\t\tvar objetivo = angular.element(\".cara[data-index=\" + identidad.data.cara + \"] .hook#\" + identidad.data.hook + \" g[data-index=\" + identidad.data.item + \"]\");\n\t\t\t\t\t}\n\n\t\t\t\t\tvar dx = evento.clientX - currentX;\n\t\t\t\t\tvar dy = evento.clientY - currentY;\n\n\t\t\t\t\tvar caraSvg = element.find(\".cara[data-index=\" + identidad.data.cara + \"]\");\n\n\t\t\t\t\tvar relacionX = (caraSvg[0].getClientRects()[0].width / parseFloat(caraSvg.attr(\"viewBox\").split(\" \")[2]));\n\t\t\t\t\tvar relacionY = (caraSvg[0].getClientRects()[0].height / parseFloat(caraSvg.attr(\"viewBox\").split(\" \")[3]));\n\n\t\t\t\t\tcurrentMatrix[4] += (dx / relacionY);\n\t\t\t\t\tcurrentMatrix[5] += (dy / relacionX);\n\n\t\t\t\t\tvar newMatrix = \"matrix(\" + currentMatrix.join(\" \") + \")\";\n\n\t\t\t\t\tmirrorSvg.attr(\"transform\", newMatrix);\n\t\t\t\t\tobjetivo.attr(\"transform\", newMatrix);\n\t\t\t\t\tcurrentX = evento.clientX;\n\t\t\t\t\tcurrentY = evento.clientY;\n\n\n\t\t\t\t\tif (identidad.tipo == \"logo\") {\n\n\t\t\t\t\t\tif (!bz.papeleria.modelo.caras[identidad.data.cara].logos[identidad.data.logo].alteraciones) { //si no existe una alteracion previa\n\t\t\t\t\t\t\tbz.papeleria.modelo.caras[identidad.data.cara].logos[identidad.data.logo].alteraciones = {};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbz.papeleria.modelo.caras[identidad.data.cara].logos[identidad.data.logo].alteraciones.matrix = currentMatrix;\n\n\t\t\t\t\t} else if (identidad.tipo == \"item\") {\n\n\t\t\t\t\t\tvar indiceHook;\n\t\t\t\t\t\tangular.forEach(bz.papeleria.modelo.caras[identidad.data.cara].hooks, function (hookPapeleria, indice) {\n\n\t\t\t\t\t\t\tif (identidad.data.hook == hookPapeleria.id) {\n\t\t\t\t\t\t\t\tindiceHook = indice;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif (!bz.papeleria.modelo.caras[identidad.data.cara].hooks[indiceHook].items[identidad.data.item].alteraciones) { //si no existe una alteracion previa\n\t\t\t\t\t\t\tbz.papeleria.modelo.caras[identidad.data.cara].hooks[indiceHook].items[identidad.data.item].alteraciones = {};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbz.papeleria.modelo.caras[identidad.data.cara].hooks[indiceHook].items[identidad.data.item].alteraciones.matrix = currentMatrix;\n\n\t\t\t\t\t}\n\n\t\t\t\t})\n\n\t\t\t\tangular.element(\"body\").mouseup(function (evento) {\n\t\t\t\t\tvar mirrorSvg = element.find(\".mirror-rect[movimiento-bz=true]\");\n\t\t\t\t\tmirrorSvg.attr(\"movimiento-bz\", \"\");\n\t\t\t\t})\n\n\t\t\t\telement.on(\"mouseleave\", \".mirror-rect\", function (evento) {\n\t\t\t\t\tvar mirrorSvg = angular.element(this);\n\n\t\t\t\t\tvar identidad = angular.fromJson(mirrorSvg.data(\"identidad\"));\n\t\t\t\t\tmirrorSvg.remove();\n\n\t\t\t\t\tvar cara = bz.papeleria.modelo.caras[identidad.data.cara];\n\n\t\t\t\t\tangular.forEach(cara.logos, function (logo, indiceLogo) {\n\t\t\t\t\t\tvar identidadLogo = {\n\t\t\t\t\t\t\ttipo: \"logo\",\n\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\tcara: identidad.data.cara,\n\t\t\t\t\t\t\t\tlogo: indiceLogo\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcrearMirrorRect(logo, identidadLogo);\n\t\t\t\t\t});\n\n\t\t\t\t\tangular.forEach(cara.hooks, function (hook, indiceHook) {\n\t\t\t\t\t\tangular.forEach(hook.items, function (item, indiceItem) {\n\t\t\t\t\t\t\tvar identidadItem = {\n\t\t\t\t\t\t\t\ttipo: \"item\",\n\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\tcara: identidad.data.cara,\n\t\t\t\t\t\t\t\t\thook: hook.id,\n\t\t\t\t\t\t\t\t\titem: indiceItem\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcrearMirrorRect(item, identidadItem);\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t\t})\n\n\t\t\t\telement.on(\"contextmenu\", \".mirror-rect\", function (evento) {\n\n\t\t\t\t\tvar mirrorSvg = angular.element(this);\n\n\t\t\t\t\tvar coordenadasMirror = mirrorSvg[0].getBoundingClientRect();\n\n\t\t\t\t\tangular.element(\".element-color-picker\").remove();\n\n\t\t\t\t\tvar identidad = mirrorSvg.data(\"identidad\");\n\n\t\t\t\t\tvar colorPicker = angular.element(\"<div class='element-color-picker'><div class='title'>X</div>\");\n\n\t\t\t\t\tcolorPicker.attr(\"data-identidad\", angular.toJson(identidad));\n\n\t\t\t\t\tvar posicionPicker = {\n\t\t\t\t\t\t\"position\": \"fixed\",\n\t\t\t\t\t\t\"background-color\": \"white\",\n\t\t\t\t\t\t\"z-index\": \"2\",\n\t\t\t\t\t};\n\n\t\t\t\t\tif (identidad.tipo == \"item\") { //si es un item perteneciente a un Hook se agrega una paleta de colores\n\n\t\t\t\t\t\tcolorPicker.find(\".title\").html(\"Color<span class='close-color-picker'><i class='material-icons cerrar'>clear</i></span></div>\");\n\n\t\t\t\t\t\tposicionPicker.left = coordenadasMirror.right;\n\t\t\t\t\t\tposicionPicker.top = coordenadasMirror.top - 200;\n\t\t\t\t\t\tposicionPicker.width = \"200px\";\n\t\t\t\t\t\tposicionPicker.height = \"200px\";\n\n\t\t\t\t\t\tangular.forEach(coloresPaletaValue, function (color) {\n\n\t\t\t\t\t\t\tvar colorIndividual = angular.element(\"<div></div>\");\n\n\t\t\t\t\t\t\tcolorIndividual.addClass(\"color\");\n\n\t\t\t\t\t\t\tcolorIndividual.attr(\"data-color\", color);\n\n\t\t\t\t\t\t\tcolorIndividual.css({\n\t\t\t\t\t\t\t\t\"background-color\": color,\n\t\t\t\t\t\t\t\t\"width\": \"4.2%\",\n\t\t\t\t\t\t\t\t\"height\": \"6.7%\",\n\t\t\t\t\t\t\t\t\"display\": \"inline-block\"\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tcolorIndividual.click(function () {\n\n\t\t\t\t\t\t\t\tvar hooks = bz.papeleria.modelo.caras[identidad.data.cara].hooks;\n\t\t\t\t\t\t\t\tvar indexHook;\n\t\t\t\t\t\t\t\tangular.forEach(hooks, function (hook, indiceHook) {\n\n\t\t\t\t\t\t\t\t\tif (hook.id == identidad.data.hook) {\n\t\t\t\t\t\t\t\t\t\tindexHook = indiceHook;\n\t\t\t\t\t\t\t\t\t\tbz.papeleria.modelo.caras[identidad.data.cara].hooks[indiceHook].items[identidad.data.item].caracteristicas.fill = color;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t})\n\n\n\n\t\t\t\t\t\t\t\tbz.modificarHook(identidad.data.cara, indexHook, true);\n\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tcolorPicker.append(colorIndividual);\n\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if (identidad.tipo == \"logo\") {\n\n\t\t\t\t\t\tvar logoSvg = element.find(\".cara[data-index=\" + identidad.data.cara + \"] .contenedor-logo[data-index=\" + identidad.data.logo + \"]\");\n\n\t\t\t\t\t\tcolorPicker.find(\".title\").html(\"Estilos <span class='close-color-picker'><i class='material-icons cerrar'>clear</i></span></div>\");\n\n\t\t\t\t\t\t//Contenedor de logo en diferentes colores\n\t\t\t\t\t\tvar multiLogoContainer = angular.element(\"<div></div>\");\n\t\t\t\t\t\tmultiLogoContainer.addClass(\"multi-logo-color-container\");\n\n\t\t\t\t\t\tangular.forEach(logoColors, function (color, indiceColor) {\n\t\t\t\t\t\t\tvar logoContainer = angular.element(\"<div></div>\");\n\t\t\t\t\t\t\tlogoContainer.addClass(\"logo-color-container\");\n\t\t\t\t\t\t\tlogoContainer.addClass(color);\n\t\t\t\t\t\t\t//logoContainer.attr(\"data-clase\",color);\n\n\t\t\t\t\t\t\tlogoContainer.click(function () {\n\n\t\t\t\t\t\t\t\tvar colorAnterior;\n\n\t\t\t\t\t\t\t\tangular.forEach(logoColors, function (colorIter) {\n\t\t\t\t\t\t\t\t\tif (logoSvg.hasClass(colorIter)) {\n\t\t\t\t\t\t\t\t\t\tlogoSvg.removeClass(colorIter);\n\t\t\t\t\t\t\t\t\t\tcolorAnterior = colorIter;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\t\tlogoSvg.addClass(color);\n\n\t\t\t\t\t\t\t\tvar indiceClase = bz.papeleria.modelo.caras[identidad.data.cara].logos[identidad.data.logo].clases.indexOf(colorAnterior);\n\n\t\t\t\t\t\t\t\tindiceClase = indiceClase === -1 ? 0 : indiceClase;\n\n\t\t\t\t\t\t\t\tbz.papeleria.modelo.caras[identidad.data.cara].logos[identidad.data.logo].clases[indiceClase] = color;\n\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\tlogoContainer.append(bz.base64.decode(bz.logo.logo));\n\t\t\t\t\t\t\tmultiLogoContainer.append(logoContainer);\n\t\t\t\t\t\t})\n\n\t\t\t\t\t\tcolorPicker.append(multiLogoContainer);\n\n\n\t\t\t\t\t\tvar growthContainer = angular.element(\"<div></div>\");\n\n\t\t\t\t\t\tvar minusButton = angular.element(\"<div data-action='minus' class='minus'>-</div>\");\n\t\t\t\t\t\tvar plusButton = angular.element(\"<div data-action='plus' class='plus'>+</div>\");\n\n\t\t\t\t\t\tvar cambiarTamano = function () {\n\n\t\t\t\t\t\t\t//bz.papeleria.modelo.caras[identidad.data.cara].logos[identidad.data.logo].clases[indiceClase] = color;\n\n\t\t\t\t\t\t\tvar buttonAction = angular.element(this).data(\"action\");\n\n\n\t\t\t\t\t\t\tif (!bz.papeleria.modelo.caras[identidad.data.cara].logos[identidad.data.logo].alteraciones) {\n\t\t\t\t\t\t\t\tbz.papeleria.modelo.caras[identidad.data.cara].logos[identidad.data.logo].alteraciones = {};\n\t\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\t\tvar escalaAnterior = bz.papeleria.modelo.caras[identidad.data.cara].logos[identidad.data.logo].alteraciones.scale;\n\n\t\t\t\t\t\t\tvar escala;\n\n\t\t\t\t\t\t\tif (buttonAction == \"minus\") {\n\n\t\t\t\t\t\t\t\tescala = escalaAnterior ? escalaAnterior - 0.1 : 0.9;\n\n\t\t\t\t\t\t\t} else if (buttonAction == \"plus\") {\n\n\t\t\t\t\t\t\t\tescala = escalaAnterior ? escalaAnterior + 0.1 : 1.1;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tconsole.log(bz.papeleria.modelo.caras[identidad.data.cara].logos[identidad.data.logo])\n\n\t\t\t\t\t\t\tbz.papeleria.modelo.caras[identidad.data.cara].logos[identidad.data.logo].alteraciones.scale = escala;\n\n\t\t\t\t\t\t\tvar logoData = bz.papeleria.modelo.caras[identidad.data.cara].logos[identidad.data.logo];\n\n\t\t\t\t\t\t\taplicarAlteraciones(logoData, null, 'logo', logoSvg);\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tminusButton.click(cambiarTamano);\n\t\t\t\t\t\tplusButton.click(cambiarTamano);\n\n\n\t\t\t\t\t\tgrowthContainer.append(minusButton);\n\t\t\t\t\t\tgrowthContainer.append(plusButton);\n\n\t\t\t\t\t\tcolorPicker.append(growthContainer);\n\n\n\n\t\t\t\t\t\tposicionPicker[\"left\"] = coordenadasMirror.right;\n\t\t\t\t\t\tposicionPicker[\"top\"] = coordenadasMirror.top - 150;\n\t\t\t\t\t\tposicionPicker[\"width\"] = \"300px\";\n\t\t\t\t\t\tposicionPicker[\"height\"] = \"150px\";\n\n\t\t\t\t\t}\n\n\n\t\t\t\t\tcolorPicker.css(posicionPicker);\n\t\t\t\t\tcolorPicker.addClass(\"color-picker-activo\");\n\n\t\t\t\t\tcolorPicker.draggable({\n\t\t\t\t\t\trevert: false\n\t\t\t\t\t});\n\n\t\t\t\t\tcolorPicker.find(\".close-color-picker\").click(function () {\n\t\t\t\t\t\tcolorPicker.remove();\n\t\t\t\t\t});\n\n\t\t\t\t\t/*colorPicker.find(\".color\").click(function(){\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(identidad.tipo == \"item\"){\n\n\t\t\t\t\t\t\tconsole.log(\"item\");\n\t\t\t\t\t\t\t/*\n\t\t\t\t\t\t\tvar indiceHook;\n\t\t\t\t\t\t\tangular.forEach(bz.papeleria.modelo.caras[identidad.data.cara].hooks, function(hookPapeleria, indice){\n\n\t\t\t\t\t\t\t\tif(identidad.data.hook == hookPapeleria.id){\n\t\t\t\t\t\t\t\t\tindiceHook = indice;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\n\n\t\t\t\t\t\t} else if(identidad.tipo == \"logo\") {\n\t\t\t\t\t\t\tconsole.log(\"logo\");\n\t\t\t\t\t\t}\n\t\t\t\t\t})*/\n\n\n\t\t\t\t\telement.parent().append(colorPicker);\n\t\t\t\t\tevento.preventDefault();\n\t\t\t\t});\n\n\t\t\t}\n\t\t};\n\t}]);\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/directives/papeleria/bazamPapeleria.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/directives/planes.js":
/*!**********************************************************!*\
  !*** ./public/creador-de-logos/app/directives/planes.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("angular.module(\"disenador-de-logos\")\n    .directive(\"bazamListarPlanes\", [function () {\n        return {\n            templateUrl: \"app/templates/listar-planes.tpl\",\n            controllerAs: \"listarPlanes\",\n            scope: {\n                datos: \"=\",\n                verlogo: \"<\",\n                promocion: \"=\"\n            },\n            controller: [\"pedidosService\", \"$scope\", \"$state\", \"$base64\", \"$window\", \"$http\", \"$mdToast\", \"facebookService\", \"logosService\", \"$filter\", \"$timeout\", \"$q\", \"clientesService\", \"$rootScope\", \"$document\", function (pedidosService, $scope, $state, $base64, $window, $http, $mdToast, facebookService, logosService, $filter, $timeout, $q, clientesService, $rootScope, $document) {\n\n                var bz = this;\n\n                bz.base64 = $base64;\n\n                bz.estado = $scope.estado;\n\n                bz.promocion = $scope.promocion;\n\n                /* PLANES */\n\n                bz.monedas = {};\n                bz.moneda = {};\n                bz.monedaDefault = {};\n                bz.planes = [];\n                bz.impuesto = 0;\n\n                pedidosService.listarPlanes().then(function (res) {\n\n                    bz.monedaDefault = {\n                        simbolo: res.monedaDefault.codigo,\n                        idMoneda: res.monedaDefault.idMoneda\n                    };\n\n                    bz.impuesto = res.impuesto;\n\n                    bz.planes = res.planes;\n\n                    angular.forEach(res.planes, function (plan) {\n\n                        angular.forEach(plan.precios, function (precio) {\n\n                            if (!bz.monedas[precio.moneda]) {\n\n                                bz.monedas[precio.moneda] = {\n                                    simbolo: precio.moneda,\n                                    idMoneda: precio.idMoneda\n                                };\n\n                            }\n\n                        });\n\n                    });\n\n                    bz.moneda = bz.monedaDefault;\n\n                }).catch(function (res) {\n                    //console.log(res)\n                });\n\n                bz.precioSeleccionado = function (precios) {\n\n                    var precioFinal = \"\";\n\n                    angular.forEach(precios, function (valor) {\n\n                        if (valor.moneda == bz.moneda.simbolo) {\n\n                            precioFinal = valor.moneda + \" \" + valor.precio;\n                        }\n\n                    });\n\n                    return precioFinal;\n\n                };\n\n                bz.comprobarMonedas = function (plan) {\n\n                    var coincidencia = false;\n\n                    angular.forEach(plan.precios, function (valor) {\n\n                        if (valor.moneda == bz.moneda.simbolo) {\n\n                            coincidencia = true;\n                        }\n\n                    });\n\n                    return coincidencia;\n\n                };\n\n                bz.verificarLogin = function (plan) {\n                    bz.planElegido = plan;\n                    // Verificar si el usuario que esta logueado\n                    if (!clientesService.autorizado()) {\n                        $rootScope.mostrarModalLogin = true;\n                        $rootScope.callbackLogin = bz.avanzarCheckout;\n                        return;\n                    }\n\n                    bz.avanzarCheckout();\n                };\n\n\n                bz.avanzarCheckout = function () {\n\n                    var plan = bz.planElegido;\n\n                    bz.logo = $scope.datos.logo; //SVG del logo\n                    bz.idElemento = $scope.datos.idElemento;\n                    bz.fuentes = {\n                        principal: $scope.datos.fuentes.principal,\n                        eslogan: $scope.datos.fuentes.eslogan\n                    };\n                    bz.colores = $scope.datos.colores;\n\n                    if (plan === true) {\n                        angular.element(document.querySelector(\".overlay.full\")).fadeIn(1000);\n                        bz.peticion = true;\n                        var nombre = \"gratis\";\n                        var ancho = 80;\n\n                        bz.compatirFacebook({\n                            url: ''\n                        }).then(function (res) {\n\n                            if ($scope.datos.idLogo) {\n                                logosService.descargarLogo($scope.datos.idLogo, ancho, $filter(\"uppercase\")(nombre), nombre).then(function (res) {\n\n                                    //get the headers' content disposition\n                                    var cd = res.headers[\"content-disposition\"];\n\n                                    //get the file name with regex\n                                    var regex = /filename[^;=\\n]*=((['\"]).*?\\2|[^;\\n]*)/;\n                                    var match = regex.exec(cd);\n\n                                    //is there a fiel name?\n                                    var fileName = match[1] || \"myDefaultFileName.zip\";\n\n                                    //replace leading and trailing slashes that C# added to your file name\n                                    fileName = fileName.replace(/\\\"/g, \"\");\n                                    //determine the content type from the header or default to octect stream\n                                    var contentType = res.headers[\"content-type\"];\n\n                                    //finally, download it\n                                    var blob = new Blob([res.data], {\n                                        type: contentType\n                                    });\n\n                                    //downloading the file depends on the browser\n                                    //IE handles it differently than chrome/webkit\n                                    if ($window.navigator && $window.navigator.msSaveOrOpenBlob) {\n                                        $window.navigator.msSaveOrOpenBlob(blob, fileName);\n                                    } else {\n                                        var a = $document[0].createElement(\"a\");\n                                        $document[0].body.appendChild(a);\n                                        a.style = \"display:none\";\n                                        var url = $window.URL.createObjectURL(blob);\n                                        a.href = url;\n                                        a.download = fileName;\n                                        a.target = \"_blank\";\n                                        a.click();\n                                        $window.URL.revokeObjectURL(url);\n                                        a.remove();\n                                    }\n\n                                    bz.desabilitado = true;\n                                    bz.promocion = true;\n                                    bz.peticion = false;\n                                    angular.element(document.querySelector(\".overlay.full\")).fadeOut(1000);\n\n                                });\n                            } else {\n                                bz.guardarLogo(bz.logo, \"Logo y nombre\", $scope.datos.idElemento, $scope.datos.fuentes.principal, true).then(function (res) {\n\n                                    logosService.descargarLogo(res, ancho, $filter(\"uppercase\")(nombre), nombre).then(function (res) {\n\n                                        //get the headers' content disposition\n                                        var cd = res.headers[\"content-disposition\"];\n\n                                        //get the file name with regex\n                                        var regex = /filename[^;=\\n]*=((['\"]).*?\\2|[^;\\n]*)/;\n                                        var match = regex.exec(cd);\n\n                                        //is there a fiel name?\n                                        var fileName = match[1] || \"myDefaultFileName.zip\";\n\n                                        //replace leading and trailing slashes that C# added to your file name\n                                        fileName = fileName.replace(/\\\"/g, \"\");\n                                        //determine the content type from the header or default to octect stream\n                                        var contentType = res.headers[\"content-type\"];\n\n                                        //finally, download it\n                                        var blob = new Blob([res.data], {\n                                            type: contentType\n                                        });\n\n                                        //downloading the file depends on the browser\n                                        //IE handles it differently than chrome/webkit\n                                        if ($window.navigator && $window.navigator.msSaveOrOpenBlob) {\n                                            $window.navigator.msSaveOrOpenBlob(blob, fileName);\n\n                                        } else {\n\n                                            var a = $document[0].createElement(\"a\");\n                                            $document[0].body.appendChild(a);\n                                            a.style = \"display:none\";\n                                            var url = $window.URL.createObjectURL(blob);\n                                            a.href = url;\n                                            a.download = fileName;\n                                            a.target = \"_blank\";\n                                            a.click();\n                                            $window.URL.revokeObjectURL(url);\n                                            a.remove();\n                                        }\n\n                                        angular.element(document.querySelector(\".overlay.full\")).fadeOut(1000);\n\n                                    }).catch(function (res) {\n                                        console.log(res)\n                                        angular.element(document.querySelector(\".overlay.full\")).fadeOut(1000);\n                                    }).finally(function () {\n\n\n                                        bz.desabilitado = true;\n                                        bz.promocion = true;\n                                        bz.peticion = false;\n                                    });\n                                });\n                            }\n\n\n                        }).catch(function (res) {\n                            if (res === \"exceso\") {\n                                $mdToast.show($mdToast.base({\n                                    args: {\n                                        mensaje: \"Tiempo excedido, Debes compartir en facebook para obtener tu logo gratis.\",\n                                        clase: \"danger\"\n                                    }\n                                }));\n\n                                angular.element(document.querySelector(\".overlay.full\")).fadeOut(1000);\n\n                                return;\n\n                            }\n\n                            $mdToast.show($mdToast.base({\n                                args: {\n                                    mensaje: \"Debes compartir en facebook para obtener tu logo gratis.\",\n                                    clase: \"danger\"\n                                }\n                            }));\n\n                            bz.peticion = false;\n                            angular.element(document.querySelector(\".overlay.full\")).fadeOut(1000);\n\n\n                        }).finally(function () {\n                            bz.peticion = false;\n                        });\n\n\n                        return;\n                    }\n\n                    angular.forEach(plan.precios, function (precio) {\n\n                        if (precio.moneda == bz.moneda.simbolo) {\n\n                            var datosPago = {\n                                status: true,\n                                datos: {\n                                    logo: $scope.datos.logo,\n                                    idElemento: bz.idElemento,\n                                    tipo: \"Logo y nombre\",\n                                    plan: {\n                                        nombre: plan.plan,\n                                        idPlan: plan.idPlan\n                                    },\n                                    precio: {\n                                        moneda: {\n                                            simbolo: precio.moneda,\n                                            idMoneda: precio.idMoneda\n                                        },\n                                        monto: precio.precio,\n                                        idPrecio: precio.idPrecio\n                                    },\n                                    impuesto: bz.impuesto,\n                                    atributos: {\n                                        principal: bz.fuentes.principal,\n                                        \"color-nombre\": bz.colores.nombre,\n                                        \"color-icono\": bz.colores.icono\n                                    }\n\n                                }\n                            };\n\n\n                            if ($scope.datos.idPadre) {\n                                datosPago.datos.atributos.padre = $scope.datos.idPadre;\n                            }\n\n                            if (bz.fuentes.eslogan) {\n                                datosPago.datos.atributos.eslogan = bz.fuentes.eslogan;\n                            }\n\n                            if (bz.colores.eslogan) {\n                                datosPago.datos.atributos[\"color-eslogan\"] = bz.colores.eslogan;\n                            }\n\n                            $state.go(\"pago\", datosPago);\n\n                        }\n\n                    });\n\n                };\n\n                bz.compatirFacebook = function () {\n                    var defered = $q.defer();\n                    var promise = defered.promise;\n\n                    var promesas = [$timeout(function () {\n                        return \"exceso\";\n                    }, 60000), facebookService.compartir()];\n\n                    $q.race(promesas).then(function (res) {\n                        if (res === \"exceso\") {\n                            defered.reject(\"exceso\");\n                        } else {\n                            defered.resolve(res);\n                        }\n                    }).catch(function () {\n                        defered.reject();\n                    });\n                    return promise;\n\n                };\n\n\n                bz.guardarLogo = function (logo, tipoLogo, idElemento, idFuentePrincipal) {\n\n                    var defered = $q.defer();\n                    var promise = defered.promise;\n\n                    logosService.guardarLogo(bz.base64.encode(logo), tipoLogo, idElemento, idFuentePrincipal)\n\n                        .then(function (res) {\n                            defered.resolve(res);\n                        })\n                        .catch(function (res) {\n                            defered.reject(res);\n                        })\n\n                    return promise;\n\n                };\n\n            }]\n        };\n    }])\n\n    .directive(\"bazamPlanes\", [function () {\n        return {\n            templateUrl: \"app/templates/planes.tpl\",\n            controllerAs: \"planes\",\n            scope: {\n                datos: \"=\",\n                estado: \"=\"\n            }\n        };\n\n    }])\n\n    .directive(\"bazamPrevisualizarDos\", [function () {\n        return {\n            templateUrl: \"app/templates/ver-logo.tpl\",\n            scope: {\n                datos: \"=\",\n                estado: \"=\"\n            }\n        };\n    }]);\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/directives/planes.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/directives/stripePaymentForm.js":
/*!*********************************************************************!*\
  !*** ./public/creador-de-logos/app/directives/stripePaymentForm.js ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("angular.module(\"disenador-de-logos\")\n\n\t.directive(\"stripePaymentForm\", [\"$document\", function ($document) {\n\n\t\treturn {\n\t\t\ttemplateUrl: \"app/templates/stripePaymentsForm.tpl\",\n\t\t\tscope: {\n\t\t\t\ticono: \"<\",\n\t\t\t\tatributos: \"<\",\n\t\t\t\tsvg: \"<\",\n\t\t\t\tprecio: \"<\",\n\t\t\t\tpasarela: \"<\",\n\t\t\t\tlogo: \"<?\"\n\t\t\t},\n\t\t\tcontroller: [\"$scope\", \"pedidosService\", \"$q\", \"$state\", \"$window\", \"planesService\", function ($scope, pedidosService, $q, $state, $window, planesService) {\n\t\t\t\tvar defered = $q.defer();\n\n\t\t\t\tvar disenadorPromise = defered.promise;\n\n\t\t\t\t$scope.completadoPagar = true;\n\n\t\t\t\t$scope.pagar = function () {\n\t\t\t\t\tif (!$scope.completadoPagar) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t$scope.completadoPagar = false;\n\n\t\t\t\t\tvar stripePromise = $scope.stripe.createToken($scope.card);\n\n\t\t\t\t\tstripePromise\n\t\t\t\t\t\t.then(function (res) {\n\t\t\t\t\t\t\tif (res.error) {\n\n\t\t\t\t\t\t\t\t$scope.mensajeError(res.error.message);\n\t\t\t\t\t\t\t\tdefered.reject();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tif($scope.logo){//\n\n\t\t\t\t\t\t\t\t\tplanesService.aumentarPedidoPlan({\n\t\t\t\t\t\t\t\t\t\tidPasarela: $scope.pasarela, \n\t\t\t\t\t\t\t\t\t\tidPrecio: $scope.precio,\n\t\t\t\t\t\t\t\t\t\tidLogo: $scope.logo,\n\t\t\t\t\t\t\t\t\t\tstripeToken: res.token.id\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t.then(function () {\n\t\t\t\t\t\t\t\t\t\t\t$window.location.reload();\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t.catch(function () {\n\t\t\t\t\t\t\t\t\t\t//console.log(res)\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t.finally(function () {\n\t\t\t\t\t\t\t\t\t\t\tdefered.resolve();\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\tpedidosService.pagar.stripe($scope.icono, $scope.atributos, $scope.svg, $scope.precio, \"Logo y nombre\", $scope.pasarela, res.token.id)\n\t\t\t\t\t\t\t\t\t\t.then(function (res) {\n\t\t\t\t\t\t\t\t\t\t\t$state.go(\"descargar\", {\n\t\t\t\t\t\t\t\t\t\t\t\tid: res.idLogo\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t.catch(function () {\n\t\t\t\t\t\t\t\t\t\t\t$scope.mensajeError(\"El pago no ha podido ser procesado\");\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t.finally(function () {\n\t\t\t\t\t\t\t\t\t\t\tdefered.resolve();\n\t\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\n\t\t\t\t\t$q.all({\n\t\t\t\t\t\tstripe: stripePromise,\n\t\t\t\t\t\tdisenador: disenadorPromise\n\t\t\t\t\t})\n\t\t\t\t\t\t.finally(function () {\n\t\t\t\t\t\t\t$scope.completadoPagar = true;\n\t\t\t\t\t\t});\n\t\t\t\t};\n\n\t\t\t}],\n\t\t\tlink: function (scope, el) {\n\n\t\t\t\t// Create a Stripe client.\n\t\t\t\tscope.stripe = Stripe(\"pk_test_ODlU80cwnJ5Xr2an9L1XZByL\");\n\n\t\t\t\t// Create an instance of Elements.\n\t\t\t\tvar elements = scope.stripe.elements();\n\n\t\t\t\tvar style = {\n\t\t\t\t\tbase: {\n\t\t\t\t\t\tcolor: \"#32325d\",\n\t\t\t\t\t\tlineHeight: \"18px\",\n\t\t\t\t\t\tfontFamily: \"\\\"Helvetica Neue\\\", Helvetica, sans-serif\",\n\t\t\t\t\t\tfontSmoothing: \"antialiased\",\n\t\t\t\t\t\tfontSize: \"16px\",\n\t\t\t\t\t\t\"::placeholder\": {\n\t\t\t\t\t\t\tcolor: \"#aab7c4\"\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tinvalid: {\n\t\t\t\t\t\tcolor: \"#fa755a\",\n\t\t\t\t\t\ticonColor: \"#fa755a\"\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t// Create an instance of the card Element.\n\t\t\t\tscope.card = elements.create(\"card\", {\n\t\t\t\t\tstyle: style\n\t\t\t\t});\n\n\t\t\t\t// Add an instance of the card Element into the `card-element` <div>.\n\t\t\t\tscope.card.mount(\"#card-element\");\n\n\t\t\t\t// Handle real-time validation errors from the card Element.\n\t\t\t\tscope.card.addEventListener(\"change\", function (event) {\n\t\t\t\t\tvar displayError = $document[0].getElementById(\"card-errors\");\n\t\t\t\t\tif (event.error) {\n\t\t\t\t\t\tdisplayError.textContent = event.error.message;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdisplayError.textContent = \"\";\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tscope.mensajeError = function (mensaje) {\n\t\t\t\t\tel.find(\"#card-errors\").text(mensaje);\n\t\t\t\t};\n\n\n\t\t\t}\n\t\t};\n\n\t}]);\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/directives/stripePaymentForm.js?");

/***/ }),

/***/ "./public/creador-de-logos/app/services.js":
/*!*************************************************!*\
  !*** ./public/creador-de-logos/app/services.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("angular.module(\"disenador-de-logos\")\n\n\t.value(\"coloresValue\", [\n\n\t\t[\"#FFF9D6\", \"#FFED7E\", \"#7F721C\"],\n\t\t[\"#FBFFD3\", \"#F3FF7B\", \"#767F1B\"],\n\t\t[\"#FFE7A4\", \"#FFD458\", \"#7F6A2F\"],\n\n\t\t[\"#FFDAB8\", \"#FFB26C\", \"#7F4917\"],\n\t\t[\"#FFD6C6\", \"#FF9F7A\", \"#7F3A1E\"],\n\t\t[\"#FFCDC9\", \"#FF857C\", \"#7F2620\"],\n\t\t[\"#FF9193\", \"#FF393D\", \"#7F0A0C\"],\n\n\t\t[\"#FFC1E9\", \"#FF75CE\", \"#7F1C5C\"],\n\t\t[\"#FFBDFA\", \"#FF71F5\", \"#7F1A78\"],\n\t\t[\"#F0BBFF\", \"#DF6FFF\", \"#69197F\"],\n\t\t[\"#D9C3FF\", \"#A977FF\", \"#411D7F\"],\n\n\t\t[\"#CFCAFF\", \"#897EFF\", \"#29207F\"],\n\t\t[\"#D3D8FF\", \"#8794FF\", \"#252F7F\"],\n\t\t[\"#D8E3FF\", \"#8BACFF\", \"#17357F\"],\n\t\t[\"#C9E0FF\", \"#7CB4FF\", \"#103F7F\"],\n\n\t\t[\"#D1F3FF\", \"#84DFFF\", \"#13637F\"],\n\t\t[\"#CDFFEC\", \"#80FFCF\", \"#407F67\"],\n\t\t[\"#DBFFCD\", \"#A5FF80\", \"#547F43 \"],\n\t])\n\n\t.factory(\"coloresFactory\", [function () {\n\t\treturn function (coloresArrays) {\n\t\t\tvar i = Math.floor(Math.random() * coloresArrays.length) + 0;\n\t\t\treturn coloresArrays[i];\n\t\t};\n\n\t}])\n\n\t.value(\"coloresPaletaValue\", [\"#f44336\", \"#E91E63\", \"#9C27B0\", \"#673AB7\", \"#3F51B5\", \"#2196F3\", \"#03A9F4\", \"#00BCD4\", \"#009688\", \"#4CAF50\", \"#8BC34A\", \"#CDDC39\", \"#FFEB3B\", \"#FFC107\", \"#FF9800\", \"#FF5722\", \"#795548\", \"#9E9E9E\", \"#607D8B\", \"#ffcdd2\", \"#F8BBD0\", \"#E1BEE7\", \"#D1C4E9\", \"#C5CAE9\", \"#BBDEFB\", \"#B3E5FC\", \"#B2EBF2\", \"#B2DFDB\", \"#C8E6C9\", \"#DCEDC8\", \"#F0F4C3\", \"#FFF9C4\", \"#FFECB3\", \"#FFE0B2\", \"#FFCCBC\", \"#D7CCC8\", \"#FFFFFF\", \"#CFD8DC\", \"#ef9a9a\", \"#F48FB1\", \"#CE93D8\", \"#B39DDB\", \"#9FA8DA\", \"#90CAF9\", \"#81D4FA\", \"#80DEEA\", \"#80CBC4\", \"#A5D6A7\", \"#C5E1A5\", \"#E6EE9C\", \"#FFF59D\", \"#FFE082\", \"#FFCC80\", \"#FFAB91\", \"#BCAAA4\", \"#EEEEEE\", \"#B0BEC5\", \"#e57373\", \"#F06292\", \"#BA68C8\", \"#9575CD\", \"#7986CB\", \"#64B5F6\", \"#4FC3F7\", \"#4DD0E1\", \"#4DB6AC\", \"#81C784\", \"#AED581\", \"#DCE775\", \"#FFF176\", \"#FFD54F\", \"#FFB74D\", \"#FF8A65\", \"#A1887F\", \"#E0E0E0\", \"#90A4AE\", \"#ef5350\", \"#EC407A\", \"#AB47BC\", \"#7E57C2\", \"#5C6BC0\", \"#42A5F5\", \"#29B6F6\", \"#26C6DA\", \"#26A69A\", \"#66BB6A\", \"#9CCC65\", \"#D4E157\", \"#FFEE58\", \"#FFCA28\", \"#FFA726\", \"#FF7043\", \"#8D6E63\", \"#BDBDBD\", \"#78909C\", \"#f44336\", \"#E91E63\", \"#9C27B0\", \"#673AB7\", \"#3F51B5\", \"#2196F3\", \"#03A9F4\", \"#00BCD4\", \"#009688\", \"#4CAF50\", \"#8BC34A\", \"#CDDC39\", \"#FFEB3B\", \"#FFC107\", \"#FF9800\", \"#FF5722\", \"#795548\", \"#9E9E9E\", \"#607D8B\", \"#e53935\", \"#D81B60\", \"#8E24AA\", \"#5E35B1\", \"#3949AB\", \"#1E88E5\", \"#039BE5\", \"#00ACC1\", \"#00897B\", \"#43A047\", \"#7CB342\", \"#C0CA33\", \"#FDD835\", \"#FFB300\", \"#FB8C00\", \"#F4511E\", \"#6D4C41\", \"#757575\", \"#546E7A\", \"#d32f2f\", \"#C2185B\", \"#7B1FA2\", \"#512DA8\", \"#303F9F\", \"#1976D2\", \"#0288D1\", \"#0097A7\", \"#00796B\", \"#388E3C\", \"#689F38\", \"#AFB42B\", \"#FBC02D\", \"#FFA000\", \"#F57C00\", \"#E64A19\", \"#5D4037\", \"#616161\", \"#455A64\", \"#c62828\", \"#AD1457\", \"#6A1B9A\", \"#4527A0\", \"#283593\", \"#1565C0\", \"#0277BD\", \"#00838F\", \"#00695C\", \"#2E7D32\", \"#558B2F\", \"#9E9D24\", \"#F9A825\", \"#FF8F00\", \"#EF6C00\", \"#D84315\", \"#4E342E\", \"#424242\", \"#37474F\", \"#b71c1c\", \"#880E4F\", \"#4A148C\", \"#311B92\", \"#1A237E\", \"#0D47A1\", \"#01579B\", \"#006064\", \"#004D40\", \"#1B5E20\", \"#33691E\", \"#827717\", \"#F57F17\", \"#FF6F00\", \"#E65100\", \"#BF360C\", \"#3E2723\", \"#212121\", \"#263238\"])\n\n\t.value(\"paisesValue\", {\n\t\t\"BD\": \"Bangladesh\",\n\t\t\"BE\": \"Belgium\",\n\t\t\"BF\": \"Burkina Faso\",\n\t\t\"BG\": \"Bulgaria\",\n\t\t\"BA\": \"Bosnia and Herzegovina\",\n\t\t\"BB\": \"Barbados\",\n\t\t\"WF\": \"Wallis and Futuna\",\n\t\t\"BL\": \"Saint Barthelemy\",\n\t\t\"BM\": \"Bermuda\",\n\t\t\"BN\": \"Brunei\",\n\t\t\"BO\": \"Bolivia\",\n\t\t\"BH\": \"Bahrain\",\n\t\t\"BI\": \"Burundi\",\n\t\t\"BJ\": \"Benin\",\n\t\t\"BT\": \"Bhutan\",\n\t\t\"JM\": \"Jamaica\",\n\t\t\"BV\": \"Bouvet Island\",\n\t\t\"BW\": \"Botswana\",\n\t\t\"WS\": \"Samoa\",\n\t\t\"BQ\": \"Bonaire, Saint Eustatius and Saba \",\n\t\t\"BR\": \"Brazil\",\n\t\t\"BS\": \"Bahamas\",\n\t\t\"JE\": \"Jersey\",\n\t\t\"BY\": \"Belarus\",\n\t\t\"BZ\": \"Belize\",\n\t\t\"RU\": \"Russia\",\n\t\t\"RW\": \"Rwanda\",\n\t\t\"RS\": \"Serbia\",\n\t\t\"TL\": \"East Timor\",\n\t\t\"RE\": \"Reunion\",\n\t\t\"TM\": \"Turkmenistan\",\n\t\t\"TJ\": \"Tajikistan\",\n\t\t\"RO\": \"Romania\",\n\t\t\"TK\": \"Tokelau\",\n\t\t\"GW\": \"Guinea-Bissau\",\n\t\t\"GU\": \"Guam\",\n\t\t\"GT\": \"Guatemala\",\n\t\t\"GS\": \"South Georgia and the South Sandwich Islands\",\n\t\t\"GR\": \"Greece\",\n\t\t\"GQ\": \"Equatorial Guinea\",\n\t\t\"GP\": \"Guadeloupe\",\n\t\t\"JP\": \"Japan\",\n\t\t\"GY\": \"Guyana\",\n\t\t\"GG\": \"Guernsey\",\n\t\t\"GF\": \"French Guiana\",\n\t\t\"GE\": \"Georgia\",\n\t\t\"GD\": \"Grenada\",\n\t\t\"GB\": \"United Kingdom\",\n\t\t\"GA\": \"Gabon\",\n\t\t\"SV\": \"El Salvador\",\n\t\t\"GN\": \"Guinea\",\n\t\t\"GM\": \"Gambia\",\n\t\t\"GL\": \"Greenland\",\n\t\t\"GI\": \"Gibraltar\",\n\t\t\"GH\": \"Ghana\",\n\t\t\"OM\": \"Oman\",\n\t\t\"TN\": \"Tunisia\",\n\t\t\"JO\": \"Jordan\",\n\t\t\"HR\": \"Croatia\",\n\t\t\"HT\": \"Haiti\",\n\t\t\"HU\": \"Hungary\",\n\t\t\"HK\": \"Hong Kong\",\n\t\t\"HN\": \"Honduras\",\n\t\t\"HM\": \"Heard Island and McDonald Islands\",\n\t\t\"VE\": \"Venezuela\",\n\t\t\"PR\": \"Puerto Rico\",\n\t\t\"PS\": \"Palestinian Territory\",\n\t\t\"PW\": \"Palau\",\n\t\t\"PT\": \"Portugal\",\n\t\t\"SJ\": \"Svalbard and Jan Mayen\",\n\t\t\"PY\": \"Paraguay\",\n\t\t\"IQ\": \"Iraq\",\n\t\t\"PA\": \"Panama\",\n\t\t\"PF\": \"French Polynesia\",\n\t\t\"PG\": \"Papua New Guinea\",\n\t\t\"PE\": \"Peru\",\n\t\t\"PK\": \"Pakistan\",\n\t\t\"PH\": \"Philippines\",\n\t\t\"PN\": \"Pitcairn\",\n\t\t\"PL\": \"Poland\",\n\t\t\"PM\": \"Saint Pierre and Miquelon\",\n\t\t\"ZM\": \"Zambia\",\n\t\t\"EH\": \"Western Sahara\",\n\t\t\"EE\": \"Estonia\",\n\t\t\"EG\": \"Egypt\",\n\t\t\"ZA\": \"South Africa\",\n\t\t\"EC\": \"Ecuador\",\n\t\t\"IT\": \"Italy\",\n\t\t\"VN\": \"Vietnam\",\n\t\t\"SB\": \"Solomon Islands\",\n\t\t\"ET\": \"Ethiopia\",\n\t\t\"SO\": \"Somalia\",\n\t\t\"ZW\": \"Zimbabwe\",\n\t\t\"SA\": \"Saudi Arabia\",\n\t\t\"ES\": \"Spain\",\n\t\t\"ER\": \"Eritrea\",\n\t\t\"ME\": \"Montenegro\",\n\t\t\"MD\": \"Moldova\",\n\t\t\"MG\": \"Madagascar\",\n\t\t\"MF\": \"Saint Martin\",\n\t\t\"MA\": \"Morocco\",\n\t\t\"MC\": \"Monaco\",\n\t\t\"UZ\": \"Uzbekistan\",\n\t\t\"MM\": \"Myanmar\",\n\t\t\"ML\": \"Mali\",\n\t\t\"MO\": \"Macao\",\n\t\t\"MN\": \"Mongolia\",\n\t\t\"MH\": \"Marshall Islands\",\n\t\t\"MK\": \"Macedonia\",\n\t\t\"MU\": \"Mauritius\",\n\t\t\"MT\": \"Malta\",\n\t\t\"MW\": \"Malawi\",\n\t\t\"MV\": \"Maldives\",\n\t\t\"MQ\": \"Martinique\",\n\t\t\"MP\": \"Northern Mariana Islands\",\n\t\t\"MS\": \"Montserrat\",\n\t\t\"MR\": \"Mauritania\",\n\t\t\"IM\": \"Isle of Man\",\n\t\t\"UG\": \"Uganda\",\n\t\t\"TZ\": \"Tanzania\",\n\t\t\"MY\": \"Malaysia\",\n\t\t\"MX\": \"Mexico\",\n\t\t\"IL\": \"Israel\",\n\t\t\"FR\": \"France\",\n\t\t\"IO\": \"British Indian Ocean Territory\",\n\t\t\"SH\": \"Saint Helena\",\n\t\t\"FI\": \"Finland\",\n\t\t\"FJ\": \"Fiji\",\n\t\t\"FK\": \"Falkland Islands\",\n\t\t\"FM\": \"Micronesia\",\n\t\t\"FO\": \"Faroe Islands\",\n\t\t\"NI\": \"Nicaragua\",\n\t\t\"NL\": \"Netherlands\",\n\t\t\"NO\": \"Norway\",\n\t\t\"NA\": \"Namibia\",\n\t\t\"VU\": \"Vanuatu\",\n\t\t\"NC\": \"New Caledonia\",\n\t\t\"NE\": \"Niger\",\n\t\t\"NF\": \"Norfolk Island\",\n\t\t\"NG\": \"Nigeria\",\n\t\t\"NZ\": \"New Zealand\",\n\t\t\"NP\": \"Nepal\",\n\t\t\"NR\": \"Nauru\",\n\t\t\"NU\": \"Niue\",\n\t\t\"CK\": \"Cook Islands\",\n\t\t\"XK\": \"Kosovo\",\n\t\t\"CI\": \"Ivory Coast\",\n\t\t\"CH\": \"Switzerland\",\n\t\t\"CO\": \"Colombia\",\n\t\t\"CN\": \"China\",\n\t\t\"CM\": \"Cameroon\",\n\t\t\"CL\": \"Chile\",\n\t\t\"CC\": \"Cocos Islands\",\n\t\t\"CA\": \"Canada\",\n\t\t\"CG\": \"Republic of the Congo\",\n\t\t\"CF\": \"Central African Republic\",\n\t\t\"CD\": \"Democratic Republic of the Congo\",\n\t\t\"CZ\": \"Czech Republic\",\n\t\t\"CY\": \"Cyprus\",\n\t\t\"CX\": \"Christmas Island\",\n\t\t\"CR\": \"Costa Rica\",\n\t\t\"CW\": \"Curacao\",\n\t\t\"CV\": \"Cape Verde\",\n\t\t\"CU\": \"Cuba\",\n\t\t\"SZ\": \"Swaziland\",\n\t\t\"SY\": \"Syria\",\n\t\t\"SX\": \"Sint Maarten\",\n\t\t\"KG\": \"Kyrgyzstan\",\n\t\t\"KE\": \"Kenya\",\n\t\t\"SS\": \"South Sudan\",\n\t\t\"SR\": \"Suriname\",\n\t\t\"KI\": \"Kiribati\",\n\t\t\"KH\": \"Cambodia\",\n\t\t\"KN\": \"Saint Kitts and Nevis\",\n\t\t\"KM\": \"Comoros\",\n\t\t\"ST\": \"Sao Tome and Principe\",\n\t\t\"SK\": \"Slovakia\",\n\t\t\"KR\": \"South Korea\",\n\t\t\"SI\": \"Slovenia\",\n\t\t\"KP\": \"North Korea\",\n\t\t\"KW\": \"Kuwait\",\n\t\t\"SN\": \"Senegal\",\n\t\t\"SM\": \"San Marino\",\n\t\t\"SL\": \"Sierra Leone\",\n\t\t\"SC\": \"Seychelles\",\n\t\t\"KZ\": \"Kazakhstan\",\n\t\t\"KY\": \"Cayman Islands\",\n\t\t\"SG\": \"Singapore\",\n\t\t\"SE\": \"Sweden\",\n\t\t\"SD\": \"Sudan\",\n\t\t\"DO\": \"Dominican Republic\",\n\t\t\"DM\": \"Dominica\",\n\t\t\"DJ\": \"Djibouti\",\n\t\t\"DK\": \"Denmark\",\n\t\t\"VG\": \"British Virgin Islands\",\n\t\t\"DE\": \"Germany\",\n\t\t\"YE\": \"Yemen\",\n\t\t\"DZ\": \"Algeria\",\n\t\t\"US\": \"United States\",\n\t\t\"UY\": \"Uruguay\",\n\t\t\"YT\": \"Mayotte\",\n\t\t\"UM\": \"United States Minor Outlying Islands\",\n\t\t\"LB\": \"Lebanon\",\n\t\t\"LC\": \"Saint Lucia\",\n\t\t\"LA\": \"Laos\",\n\t\t\"TV\": \"Tuvalu\",\n\t\t\"TW\": \"Taiwan\",\n\t\t\"TT\": \"Trinidad and Tobago\",\n\t\t\"TR\": \"Turkey\",\n\t\t\"LK\": \"Sri Lanka\",\n\t\t\"LI\": \"Liechtenstein\",\n\t\t\"LV\": \"Latvia\",\n\t\t\"TO\": \"Tonga\",\n\t\t\"LT\": \"Lithuania\",\n\t\t\"LU\": \"Luxembourg\",\n\t\t\"LR\": \"Liberia\",\n\t\t\"LS\": \"Lesotho\",\n\t\t\"TH\": \"Thailand\",\n\t\t\"TF\": \"French Southern Territories\",\n\t\t\"TG\": \"Togo\",\n\t\t\"TD\": \"Chad\",\n\t\t\"TC\": \"Turks and Caicos Islands\",\n\t\t\"LY\": \"Libya\",\n\t\t\"VA\": \"Vatican\",\n\t\t\"VC\": \"Saint Vincent and the Grenadines\",\n\t\t\"AE\": \"United Arab Emirates\",\n\t\t\"AD\": \"Andorra\",\n\t\t\"AG\": \"Antigua and Barbuda\",\n\t\t\"AF\": \"Afghanistan\",\n\t\t\"AI\": \"Anguilla\",\n\t\t\"VI\": \"U.S. Virgin Islands\",\n\t\t\"IS\": \"Iceland\",\n\t\t\"IR\": \"Iran\",\n\t\t\"AM\": \"Armenia\",\n\t\t\"AL\": \"Albania\",\n\t\t\"AO\": \"Angola\",\n\t\t\"AQ\": \"Antarctica\",\n\t\t\"AS\": \"American Samoa\",\n\t\t\"AR\": \"Argentina\",\n\t\t\"AU\": \"Australia\",\n\t\t\"AT\": \"Austria\",\n\t\t\"AW\": \"Aruba\",\n\t\t\"IN\": \"India\",\n\t\t\"AX\": \"Aland Islands\",\n\t\t\"AZ\": \"Azerbaijan\",\n\t\t\"IE\": \"Ireland\",\n\t\t\"ID\": \"Indonesia\",\n\t\t\"UA\": \"Ukraine\",\n\t\t\"QA\": \"Qatar\",\n\t\t\"MZ\": \"Mozambique\"\n\t})\n\n\t.value(\"coloresPaletteValue\", [\n\t\t[\n\t\t\t[\"#009aa6\", \"#e6e6e6\", \"#000000\", \"#ffed00\", \"#aafc00\"],\n\t\t\t[\"#008b00\", \"#e6e6e6\", \"#000000\", \"#ffed00\", \"#aafc00\"],\n\t\t\t[\"#74cb00\", \"#ffffff\", \"#000000\", \"#ffed00\", \"#a67848\"],\n\t\t\t[\"#ffc700\", \"#ffffff\", \"#000000\", \"#0071bc\", \"#c20000\"],\n\t\t\t[\"#ff4200\", \"#ffffff\", \"#e6e6e6\", \"#000000\", \"#0071bc\"],\n\t\t\t[\"#740000\", \"#ffffff\", \"#e6e6e6\", \"#00e0cd\", \"#ffde00\"],\n\t\t\t[\"#890054\", \"#ffffff\", \"#e6e6e6\", \"#00dbff\", \"#aafc00\"],\n\t\t\t[\"#8400a5\", \"#ffffff\", \"#e6e6e6\", \"#ffed00\", \"#aafc00\"],\n\t\t\t[\"#4500d4\", \"#ffffff\", \"#e6e6e6\", \"#00dbff\", \"#aafc00\"],\n\t\t\t[\"#0042ff\", \"#ffffff\", \"#e6e6e6\", \"#00dbff\", \"#aafc00\"],\n\t\t],\n\t\t[\n\t\t\t[\"#00bfc2\", \"#ffffff\", \"#000000\", \"#ffed00\", \"#a67848\"],\n\t\t\t[\"#00cc51\", \"#ffffff\", \"#000000\", \"#ffed00\", \"#a67848\"],\n\t\t\t[\"#83de00\", \"#ffffff\", \"#000000\", \"#ffed00\", \"#a67848\"],\n\t\t\t[\"#ffde00\", \"#ffffff\", \"#000000\", \"#0071bc\", \"#c20000\"],\n\t\t\t[\"#ff5000\", \"#ffffff\", \"#e6e6e6\", \"#000000\", \"#0071bc\"],\n\t\t\t[\"#9f0000\", \"#ffffff\", \"#e6e6e6\", \"#00e0cd\", \"#ffde00\"],\n\t\t\t[\"#b80060\", \"#ffffff\", \"#e6e6e6\", \"#00dbff\", \"#aafc00\"],\n\t\t\t[\"#a700b8\", \"#ffffff\", \"#e6e6e6\", \"#ffed00\", \"#aafc00\"],\n\t\t\t[\"#6129ff\", \"#ffffff\", \"#e6e6e6\", \"#00dbff\", \"#aafc00\"],\n\t\t\t[\"#0072ff\", \"#ffffff\", \"#e6e6e6\", \"#00dbff\", \"#aafc00\"],\n\t\t],\n\t\t[\n\t\t\t[\"#00d6c2\", \"#ffffff\", \"#000000\", \"#666666\", \"#a67848\"],\n\t\t\t[\"#00db75\", \"#ffffff\", \"#000000\", \"#666666\", \"#a67848\"],\n\t\t\t[\"#8bf300\", \"#ffffff\", \"#000000\", \"#666666\", \"#a67848\"],\n\t\t\t[\"#ffed00\", \"#000000\", \"#666666\", \"#0071bc\", \"#7a00000\"],\n\t\t\t[\"#ff7b00\", \"#ffffff\", \"#000000\", \"#ffed00\", \"#00d6c2\"],\n\t\t\t[\"#c20000\", \"#ffffff\", \"#cccccc\", \"#00e0cd\", \"#ffde00\"],\n\t\t\t[\"#db006b\", \"#ffffff\", \"#e6e6e6\", \"#00dbff\", \"#aafc00\"],\n\t\t\t[\"#e700db\", \"#ffffff\", \"#000000\", \"#00dbff\", \"#ffde00\"],\n\t\t\t[\"#9256ff\", \"#ffffff\", \"#000000\", \"#e6e6e6\", \"#aafc00\"],\n\t\t\t[\"#009fff\", \"#ffffff\", \"#e6e6e6\", \"#aafc00\", \"#ffed00\"],\n\t\t],\n\t\t[\n\t\t\t[\"#00f4de\", \"#ffffff\", \"#000000\", \"#666666\", \"#a67848\"],\n\t\t\t[\"#00ec93\", \"#ffffff\", \"#000000\", \"#666666\", \"#a67848\"],\n\t\t\t[\"#b3fc00\", \"#ffffff\", \"#000000\", \"#666666\", \"#a67848\"],\n\t\t\t[\"#e5ff00\", \"#000000\", \"#666666\", \"#0071bc\", \"#7a00000\"],\n\t\t\t[\"#ff9700\", \"#ffffff\", \"#000000\", \"#ffed00\", \"#00d6c2\"],\n\t\t\t[\"#e00000\", \"#ffffff\", \"#cccccc\", \"#00e0cd\", \"#ffde00\"],\n\t\t\t[\"#fd0081\", \"#ffffff\", \"#e6e6e6\", \"#00dbff\", \"#aafc00\"],\n\t\t\t[\"#ff00ea\", \"#ffffff\", \"#000000\", \"#00dbff\", \"#ffde00\"],\n\t\t\t[\"#ae77ff\", \"#ffffff\", \"#000000\", \"#e6e6e6\", \"#b3fc00\"],\n\t\t\t[\"#00dbff\", \"#ffffff\", \"#000000\", \"#666666\", \"#4500d4\"],\n\t\t]\n\t])\n\n\n\n\t/*-------------------------- Services --------------------------*/\n\n\t/*********************/\n\t/********ETIQUETAS****/\n\t/*********************/\n\n\t/* SERVICIO PARA ETIQUETAS */\n\n\t.service(\"etiquetasService\", [\"$http\", \"$q\", function ($http, $q) {\n\n\t\t/***************************/\n\t\t/**********LOGOS***********/\n\t\t/***************************/\n\n\t\tthis.listarLogos = function (datos) {\n\n\t\t\tvar defered = $q.defer();\n\t\t\tvar promise = defered.promise;\n\n\t\t\t$http.post(\"/app/elementos/categoria\", datos).then(function (res) {\n\t\t\t\tif (res == undefined) {\n\t\t\t\t\treturn defered.reject(res);\n\t\t\t\t}\n\t\t\t\tdefered.resolve(res);\n\t\t\t}).catch(function (res) {\n\t\t\t\tdefered.reject(res);\n\t\t\t});\n\n\t\t\treturn promise;\n\t\t};\n\n\t\t/* ETIQUETAS*/\n\n\n\t\tthis.listarEtiquetas = function () {\n\n\t\t\tvar defered = $q.defer();\n\t\t\tvar promise = defered.promise;\n\n\t\t\t$http.get(\"/app/etiquetas\").then(function (res) {\n\t\t\t\tdefered.resolve(res);\n\t\t\t}).catch(function (res) {\n\t\t\t\tdefered.reject(res.data.msg);\n\t\t\t});\n\n\t\t\treturn promise;\n\t\t};\n\n\t\tthis.loadEtiquetas = function (arr) {\n\n\t\t\tvar etiquetas = [];\n\n\t\t\tangular.forEach(arr, function (valor) {\n\t\t\t\tetiquetas.push({\n\t\t\t\t\t_id: valor._id,\n\t\t\t\t\ttraduccion: valor.traducciones[0]\n\t\t\t\t});\n\t\t\t});\n\n\t\t\treturn etiquetas.map(function (et) {\n\t\t\t\tet.traduccion._lowername = et.traduccion.valor.toLowerCase();\n\t\t\t\treturn et;\n\t\t\t});\n\t\t};\n\n\t\tthis.transformChip = function (chip) {\n\n\t\t\t// If it is an object, it's already a known chip\n\t\t\tif (angular.isObject(chip)) {\n\t\t\t\treturn chip;\n\t\t\t}\n\n\t\t\t// Otherwise, create a new one\n\t\t\treturn {\n\t\t\t\ttraduccion: {\n\t\t\t\t\tvalor: chip\n\t\t\t\t}\n\t\t\t};\n\n\t\t};\n\n\t\tthis.querySearch = function (query, etiquetas) {\n\t\t\tvar results = query ? etiquetas.filter(createFilterFor(query)) : [];\n\t\t\treturn results;\n\t\t};\n\n\t\tfunction createFilterFor(query) {\n\t\t\tvar lowercaseQuery = query.toLowerCase();\n\n\t\t\treturn function filterFn(etiqueta) {\n\t\t\t\treturn (etiqueta.traduccion._lowername.indexOf(lowercaseQuery) === 0);\n\t\t\t};\n\n\t\t}\n\n\t}])\n\n\n\t/***************************/\n\t/*******CATEGORIAS**********/\n\t/***************************/\n\n\t.service(\"categoriasService\", [\"$http\", \"$q\", function ($http, $q) {\n\n\t\tthis.listaCategorias = function (tipo) {\n\n\t\t\tvar defered = $q.defer();\n\n\t\t\tvar promise = defered.promise;\n\n\t\t\t$http.post(\"/app/categorias\", {\n\t\t\t\ttipo: tipo\n\t\t\t})\n\t\t\t\t.then(function (res) {\n\t\t\t\t\tdefered.resolve(res.data);\n\t\t\t\t})\n\t\t\t\t.catch(function () {\n\t\t\t\t\tdefered.reject();\n\t\t\t\t});\n\n\t\t\treturn promise;\n\n\n\t\t};\n\n\n\t\tthis.listaCategoriasElementos = function (idCategoria, tipo) {\n\n\t\t\tvar defered = $q.defer();\n\n\t\t\tvar promise = defered.promise;\n\n\t\t\t$http.post(\"/app/elementos/categorias\", {\n\t\t\t\tidCategoria: idCategoria,\n\t\t\t\ttipo: tipo\n\t\t\t})\n\t\t\t\t.then(function (res) {\n\t\t\t\t\tdefered.resolve(res.data);\n\t\t\t\t})\n\t\t\t\t.catch(function () {\n\t\t\t\t\tdefered.reject();\n\t\t\t\t});\n\n\t\t\treturn promise;\n\n\t\t};\n\n\n\t}])\n\n\n\n\t/***************************/\n\t/******PREFERENCIAS*********/\n\t/***************************/\n\n\t.service(\"preferenciasService\", [\"$http\", \"$q\", function ($http, $q) {\n\n\t\tthis.listaPreferencias = function () {\n\n\t\t\tvar defered = $q.defer();\n\n\t\t\tvar promise = defered.promise;\n\n\t\t\t$http.get(\"/app/preferencias\").then(function (res) {\n\n\t\t\t\tdefered.resolve(res.data);\n\n\n\t\t\t}).catch(function () {\n\n\t\t\t\tdefered.reject();\n\n\t\t\t});\n\n\t\t\treturn promise;\n\n\t\t};\n\n\t}])\n\n\n\t/***************************/\n\t/*********ELEMENTOS*********/\n\t/***************************/\n\n\n\n\t.service(\"elementosService\", [\"$http\", \"$q\", function ($http, $q) {\n\n\t\tthis.listaFuentesSegunPref = function (idCategoria, preferencias, limit) {\n\n\t\t\tvar defered = $q.defer();\n\n\t\t\tvar promise = defered.promise;\n\n\t\t\t$http.post(\"/app/elementos/busqueda/fuentes\", {\n\t\t\t\tcategoria: idCategoria,\n\t\t\t\tpreferencias: preferencias,\n\t\t\t\ttipo: \"FUENTE\",\n\t\t\t\tlimit: limit\n\t\t\t})\n\t\t\t\t.then(function (res) {\n\t\t\t\t\tdefered.resolve(res.data);\n\t\t\t\t})\n\t\t\t\t.catch(function (res) {\n\t\t\t\t\tdefered.reject(res);\n\t\t\t\t});\n\n\t\t\treturn promise;\n\t\t};\n\n\t\tthis.listarIconosSegunTags = function (tags, idCategoria, ids, limit) {\n\t\t\tvar defered = $q.defer();\n\n\t\t\tvar promise = defered.promise;\n\n\t\t\t$http.post(\"/app/elementos/busqueda/iconos\", {\n\t\t\t\ttags: tags,\n\t\t\t\tcategoria: idCategoria,\n\t\t\t\tids: ids,\n\t\t\t\tlimit: limit\n\t\t\t})\n\t\t\t\t.then(function (res) {\n\t\t\t\t\tdefered.resolve(res.data);\n\t\t\t\t})\n\t\t\t\t.catch(function (res) {\n\t\t\t\t\tdefered.reject(res);\n\t\t\t\t});\n\n\t\t\treturn promise;\n\t\t};\n\n\n\n\t\tthis.listarFuentes = function () {\n\n\t\t\tvar defered = $q.defer();\n\n\t\t\tvar promise = defered.promise;\n\n\t\t\t$http.get(\"/app/elementos/fuente\").then(function (res) {\n\n\t\t\t\tdefered.resolve(res.data);\n\n\t\t\t}).catch(function (res) {\n\n\t\t\t\tdefered.reject(res);\n\n\t\t\t});\n\n\t\t\treturn promise;\n\n\t\t};\n\n\t\tthis.listarIniciales = function (inicial) {\n\n\t\t\tvar defered = $q.defer();\n\n\t\t\tvar promise = defered.promise;\n\n\t\t\t$http.post(\"/app/elementos/iniciales\", {\n\t\t\t\tinicial: inicial\n\t\t\t}).then(function (res) {\n\n\t\t\t\tdefered.resolve(res.data);\n\n\t\t\t}).catch(function (res) {\n\n\t\t\t\tdefered.reject(res);\n\n\t\t\t});\n\n\t\t\treturn promise;\n\n\t\t};\n\n\t}])\n\n\n\t/*********************/\n\t/********PEDIDOS******/\n\t/*********************/\n\n\t.service(\"pedidosService\", [\"$http\", \"$q\", function ($http, $q) {\n\n\n\t\tthis.listarPlanes = function () {\n\n\t\t\tvar defered = $q.defer();\n\n\t\t\tvar promise = defered.promise;\n\n\t\t\t$http.get(\"/app/planes/comprar\").then(function (res) {\n\n\t\t\t\tdefered.resolve(res.data);\n\n\t\t\t}).catch(function (res) {\n\n\t\t\t\tdefered.reject(res);\n\n\t\t\t});\n\n\n\t\t\treturn promise;\n\n\t\t};\n\n\t\tthis.listarPasarelas = function (idMoneda) {\n\n\t\t\tvar defered = $q.defer();\n\n\t\t\tvar promise = defered.promise;\n\n\t\t\t$http.post(\"/app/pasarelas/moneda\", {\n\t\t\t\tidMoneda: idMoneda\n\t\t\t}).then(function (res) {\n\n\t\t\t\tdefered.resolve(res.data);\n\n\t\t\t}).catch(function (res) {\n\n\t\t\t\tdefered.reject(res);\n\n\t\t\t});\n\n\t\t\treturn promise;\n\n\t\t};\n\n\n\t\tthis.pagar = {\n\t\t\tpaypal: function (idElemento, atributos, logo, idPrecio, tipoLogo, idPasarela) {\n\n\t\t\t\tvar defered = $q.defer();\n\n\t\t\t\tvar promise = defered.promise;\n\n\t\t\t\tvar datos = {\n\t\t\t\t\tidElemento: idElemento,\n\t\t\t\t\tlogo: logo,\n\t\t\t\t\tidPrecio: idPrecio,\n\t\t\t\t\ttipoLogo: tipoLogo,\n\t\t\t\t\tidPasarela: idPasarela,\n\t\t\t\t\tatributos: atributos\n\t\t\t\t};\n\n\t\t\t\t$http.post(\"/app/pedido\", datos).then(function (res) {\n\n\t\t\t\t\tdefered.resolve(res.data);\n\n\t\t\t\t}).catch(function (res) {\n\n\t\t\t\t\tdefered.reject(res);\n\n\t\t\t\t});\n\n\n\t\t\t\treturn promise;\n\n\t\t\t},\n\n\t\t\tstripe: function (idElemento, atributos, logo, idPrecio, tipoLogo, idPasarela, tokenStripe) {\n\n\t\t\t\tvar defered = $q.defer();\n\t\t\t\tvar promise = defered.promise;\n\n\t\t\t\tvar datos = {\n\t\t\t\t\tidElemento: idElemento,\n\t\t\t\t\tlogo: logo,\n\t\t\t\t\tidPrecio: idPrecio,\n\t\t\t\t\ttipoLogo: tipoLogo,\n\t\t\t\t\tidPasarela: idPasarela,\n\t\t\t\t\tatributos: atributos,\n\t\t\t\t\tstripeToken: tokenStripe\n\t\t\t\t};\n\n\t\t\t\t$http.post(\"/app/pedido\", datos)\n\t\t\t\t\t.then(function (res) {\n\t\t\t\t\t\tdefered.resolve(res.data);\n\t\t\t\t\t})\n\t\t\t\t\t.catch(function (res) {\n\t\t\t\t\t\tdefered.reject(res);\n\t\t\t\t\t});\n\n\t\t\t\treturn promise;\n\n\t\t\t}\n\t\t};\n\n\n\t\tthis.listarPedidos = function () {\n\n\t\t\tvar defered = $q.defer();\n\n\t\t\tvar promise = defered.promise;\n\n\t\t\t$http.get(\"/app/cliente/pedidos\").then(function (res) {\n\n\t\t\t\tdefered.resolve(res.data);\n\n\t\t\t}).catch(function (res) {\n\n\t\t\t\tdefered.reject(res);\n\n\t\t\t});\n\n\t\t\treturn promise;\n\n\t\t};\n\n\t}])\n\n\t/***************************************/\n\t/***************CLIENTES****************/\n\t/***************************************/\n\n\t.factory(\"clienteDatosFactory\", [function () {\n\n\t\tvar cliente = null;\n\n\t\treturn {\n\t\t\tobtener: function () {\n\n\t\t\t\treturn cliente;\n\n\t\t\t},\n\t\t\tdefinir: function (objectoCliente) {\n\n\t\t\t\tcliente = objectoCliente;\n\n\t\t\t},\n\t\t\teliminar: function () {\n\n\t\t\t\tcliente = null;\n\n\t\t\t}\n\t\t};\n\n\t}])\n\n\n\t/*********************/\n\t/*** SOCIAL LOGIN ****/\n\t/*********************/\n\n\t.service(\"socialAuth\", [\"$http\", \"$q\", \"$window\", \"clienteDatosFactory\", function ($http, $q, $window, clienteDatosFactory) {\n\n\t\tthis.facebook = function () {\n\n\t\t\tvar defered = $q.defer();\n\t\t\tvar promise = defered.promise;\n\n\t\t\tFB.getLoginStatus(function (response) {\n\n\t\t\t\tvar datosUsuario = response.authResponse;\n\n\t\t\t\tif (response.status != \"connected\") {\n\t\t\t\t\tFB.login(function (response) {\n\n\t\t\t\t\t\t$http.post(\"/app/cliente/social\", {\n\t\t\t\t\t\t\torigen: \"facebook\",\n\t\t\t\t\t\t\ttoken: response.authResponse.accessToken\n\t\t\t\t\t\t}).then(function (res) {\n\n\t\t\t\t\t\t\t$window.localStorage.setItem(\"bzToken\", angular.toJson(res.data));\n\t\t\t\t\t\t\tclienteDatosFactory.definir(res.data);\n\t\t\t\t\t\t\tdefered.resolve(res);\n\n\t\t\t\t\t\t}).catch(function (res) {\n\t\t\t\t\t\t\t$window.localStorage.removeItem(\"bzToken\");\n\t\t\t\t\t\t\tdefered.reject(res);\n\t\t\t\t\t\t});\n\n\t\t\t\t\t}, {\n\t\t\t\t\t\tscope: \"email,user_friends,user_location,user_likes\"\n\t\t\t\t\t});\n\n\t\t\t\t\treturn promise;\n\t\t\t\t}\n\n\t\t\t\t$http.post(\"/app/cliente/social\", {\n\t\t\t\t\torigen: \"facebook\",\n\t\t\t\t\ttoken: datosUsuario.accessToken\n\t\t\t\t}).then(function (res) {\n\n\t\t\t\t\t$window.localStorage.setItem(\"bzToken\", angular.toJson(res.data));\n\t\t\t\t\tclienteDatosFactory.definir(res.data);\n\t\t\t\t\tdefered.resolve(res);\n\n\t\t\t\t})\n\t\t\t\t\t.catch(function (res) {\n\t\t\t\t\t\t$window.localStorage.removeItem(\"bzToken\");\n\t\t\t\t\t\tdefered.reject(res);\n\t\t\t\t\t});\n\t\t\t});\n\n\t\t\treturn promise;\n\t\t};\n\n\n\t\tthis.google = function () {\n\n\t\t\tvar defered = $q.defer();\n\t\t\tvar promise = defered.promise;\n\n\t\t\tvar GoogleAuth = gapi.auth2.getAuthInstance();\n\n\n\t\t\tif (!GoogleAuth.isSignedIn.get()) {\n\t\t\t\tGoogleAuth.signIn().then(function (res) {\n\n\t\t\t\t\t$http.post(\"/app/cliente/social\", {\n\t\t\t\t\t\torigen: \"google\",\n\t\t\t\t\t\ttoken: res.Zi.id_token\n\t\t\t\t\t}).then(function (res) {\n\t\t\t\t\t\t$window.localStorage.setItem(\"bzToken\", angular.toJson(res.data));\n\t\t\t\t\t\tclienteDatosFactory.definir(res.data);\n\t\t\t\t\t\tdefered.resolve(res);\n\n\t\t\t\t\t})\n\t\t\t\t\t\t.catch(function (res) {\n\t\t\t\t\t\t\t$window.localStorage.removeItem(\"bzToken\");\n\t\t\t\t\t\t\tdefered.reject(res);\n\t\t\t\t\t\t});\n\t\t\t\t}).catch(function (res) {\n\t\t\t\t\tdefered.reject(res);\n\t\t\t\t});\n\n\t\t\t\treturn promise;\n\t\t\t}\n\n\t\t\tvar datosUsuario = GoogleAuth.currentUser.get();\n\n\t\t\t$http.post(\"/app/cliente/social\", {\n\t\t\t\torigen: \"google\",\n\t\t\t\ttoken: datosUsuario.Zi.id_token\n\t\t\t}).then(function (res) {\n\n\t\t\t\t$window.localStorage.setItem(\"bzToken\", angular.toJson(res.data));\n\t\t\t\tclienteDatosFactory.definir(res.data);\n\t\t\t\tdefered.resolve(res);\n\n\t\t\t})\n\t\t\t\t.catch(function (res) {\n\t\t\t\t\t$window.localStorage.removeItem(\"bzToken\");\n\t\t\t\t\tdefered.reject(res);\n\t\t\t\t});\n\n\t\t\treturn promise;\n\n\t\t};\n\n\t}])\n\n\n\n\t/*********************/\n\t/***** facebook ******/\n\t/*********************/\n\n\t.service(\"facebookService\", [\"$http\", \"$q\", function ($http, $q) {\n\n\t\tthis.compartir = function () {\n\n\t\t\tvar defered = $q.defer();\n\t\t\tvar promise = defered.promise;\n\n\t\t\tFB.getLoginStatus(function (response) {\n\t\t\t\tif (response.status === \"connected\") {\n\t\t\t\t\tFB.ui({\n\t\t\t\t\t\tmethod: \"share\",\n\t\t\t\t\t\thref: \"http://test.logo.pro/\",\n\t\t\t\t\t\tsource: \"http://test.logo.pro/logo.pro.svg\"\n\t\t\t\t\t},\n\t\t\t\t\tfunction (response) {\n\t\t\t\t\t\tif (response && !response.error_code) {\n\t\t\t\t\t\t\tif (typeof response != \"undefined\") {\n\t\t\t\t\t\t\t\tdefered.resolve();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdefered.reject(response);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tFB.login(function (response) {\n\t\t\t\t\t\tFB.ui({\n\t\t\t\t\t\t\tmethod: \"share\",\n\t\t\t\t\t\t\thref: \"http://test.logo.pro/\",\n\t\t\t\t\t\t\tsource: \"http://test.logo.pro/\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfunction (response) {\n\t\t\t\t\t\t\tif (response && !response.error_code) {\n\t\t\t\t\t\t\t\tif (typeof response != \"undefined\") {\n\t\t\t\t\t\t\t\t\tdefered.resolve(response);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tdefered.reject(response);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn promise;\n\t\t};\n\n\t}])\n\n\t.service(\"clientesService\", [\"$http\", \"$q\", \"$window\", \"$rootScope\", \"clienteDatosFactory\", \"Upload\", function ($http, $q, $window, $rootScope, clienteDatosFactory, Upload) {\n\n\t\tthis.registrar = function (nombreCliente, correo, pass, telefono, pais) {\n\n\t\t\tvar defered = $q.defer();\n\n\t\t\tvar promise = defered.promise;\n\n\t\t\t$http.post(\"/app/cliente\", {\n\t\t\t\tnombreCliente: nombreCliente,\n\t\t\t\tcorreo: correo,\n\t\t\t\tpass: pass,\n\t\t\t\ttelefono: telefono,\n\t\t\t\tpais: pais\n\t\t\t}).then(function (res) {\n\n\t\t\t\t$window.localStorage.setItem(\"bzToken\", angular.toJson(res.data));\n\t\t\t\tclienteDatosFactory.definir(res.data);\n\t\t\t\tdefered.resolve();\n\n\t\t\t})\n\t\t\t\t.catch(function (res) {\n\n\t\t\t\t\t$window.localStorage.removeItem(\"bzToken\");\n\t\t\t\t\tdefered.reject(res);\n\t\t\t\t});\n\n\t\t\treturn promise;\n\n\t\t};\n\n\t\tthis.login = function (datos) {\n\n\t\t\tvar defered = $q.defer();\n\n\t\t\tvar promise = defered.promise;\n\n\t\t\t$http.post(\"/app/cliente/login\", datos)\n\n\t\t\t\t.then(function (res) {\n\n\t\t\t\t\t$window.localStorage.setItem(\"bzToken\", angular.toJson(res.data));\n\t\t\t\t\tclienteDatosFactory.definir(res.data);\n\t\t\t\t\tdefered.resolve();\n\n\t\t\t\t})\n\t\t\t\t.catch(function () {\n\t\t\t\t\t$window.localStorage.removeItem(\"bzToken\");\n\t\t\t\t\tdefered.reject();\n\t\t\t\t});\n\n\t\t\treturn promise;\n\n\t\t};\n\n\t\tthis.forgotPass = function (datos) {\n\n\t\t\tvar defered = $q.defer();\n\n\t\t\tvar promise = defered.promise;\n\n\t\t\t$http.post(\"/app/recuperar-password\", datos)\n\t\t\t\t.then(function (res) {\n\t\t\t\t\tdefered.resolve(res);\n\t\t\t\t})\n\t\t\t\t.catch(function (res) {\n\t\t\t\t\tdefered.reject(res);\n\t\t\t\t});\n\n\t\t\treturn promise;\n\n\t\t};\n\n\t\tthis.confirmarToken = function (datos) {\n\n\t\t\tvar defered = $q.defer();\n\n\t\t\tvar promise = defered.promise;\n\n\t\t\t$http.get(\"/app/recuperar-password/\" + datos)\n\t\t\t\t.then(function (res) {\n\t\t\t\t\tdefered.resolve(res);\n\t\t\t\t})\n\t\t\t\t.catch(function (res) {\n\t\t\t\t\tdefered.reject(res);\n\t\t\t\t});\n\n\t\t\treturn promise;\n\n\t\t};\n\n\t\tthis.cambiarContrasena = function (datos) {\n\n\t\t\tvar defered = $q.defer();\n\n\t\t\tvar promise = defered.promise;\n\n\t\t\t$http.post(\"/app/cambiar-password\", datos)\n\t\t\t\t.then(function (res) {\n\t\t\t\t\tdefered.resolve(res);\n\t\t\t\t})\n\t\t\t\t.catch(function (res) {\n\t\t\t\t\tdefered.reject(res);\n\t\t\t\t});\n\n\t\t\treturn promise;\n\n\t\t};\n\n\t\tthis.verificarCambiaContrasena = function (datos) {\n\n\t\t\tvar defered = $q.defer();\n\n\t\t\tvar promise = defered.promise;\n\n\t\t\t$http.post(\"/app/cliente/cambiar-contrasena\", datos)\n\t\t\t\t.then(function (res) {\n\t\t\t\t\tdefered.resolve(res);\n\t\t\t\t})\n\t\t\t\t.catch(function (res) {\n\t\t\t\t\tdefered.reject(res);\n\t\t\t\t});\n\n\t\t\treturn promise;\n\n\t\t};\n\n\t\tthis.autorizado = function (emitir) {\n\n\t\t\tif (clienteDatosFactory.obtener()) {\n\n\t\t\t\tif (emitir) {\n\t\t\t\t\t$rootScope.$broadcast(\"sesionInicio\", \"true\");\n\t\t\t\t}\n\n\t\t\t\treturn clienteDatosFactory.obtener();\n\n\t\t\t} else {\n\n\t\t\t\tif ($window.localStorage.getItem(\"bzToken\")) {\n\n\t\t\t\t\tclienteDatosFactory.definir(angular.fromJson($window.localStorage.getItem(\"bzToken\")));\n\n\t\t\t\t\tif (emitir) {\n\t\t\t\t\t\t$rootScope.$broadcast(\"sesionInicio\", \"true\");\n\t\t\t\t\t}\n\n\t\t\t\t\treturn clienteDatosFactory.obtener();\n\n\t\t\t\t} else {\n\n\t\t\t\t\treturn false;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.salir = function (emitir, desactivarAlerta) {\n\n\t\t\t$window.localStorage.removeItem(\"bzToken\");\n\t\t\tclienteDatosFactory.eliminar();\n\n\t\t\tif (emitir) {\n\n\t\t\t\t$rootScope.$broadcast(\"sesionExpiro\");\n\n\t\t\t}\n\n\t\t\tif (!desactivarAlerta) {\n\t\t\t\talert(\"Alerta Sesion Expiro\");\n\t\t\t}\n\t\t};\n\n\t\tthis.pais = function () {\n\n\t\t\tvar defered = $q.defer();\n\n\t\t\tvar promise = defered.promise;\n\n\t\t\t$http.get(\"/app/pais\")\n\n\t\t\t\t.then(function (res) {\n\n\t\t\t\t\tdefered.resolve(res.data);\n\n\t\t\t\t})\n\t\t\t\t.catch(function () {\n\n\t\t\t\t\tdefered.reject();\n\t\t\t\t});\n\n\t\t\treturn promise;\n\n\t\t};\n\n\t\tthis.datos = function () {\n\n\t\t\tvar defered = $q.defer();\n\n\t\t\tvar promise = defered.promise;\n\n\t\t\t$http.get(\"/app/cliente/datos\")\n\n\t\t\t\t.then(function (res) {\n\n\t\t\t\t\tdefered.resolve(res.data);\n\n\t\t\t\t})\n\t\t\t\t.catch(function () {\n\n\t\t\t\t\tdefered.reject();\n\t\t\t\t});\n\n\t\t\treturn promise;\n\n\t\t};\n\n\n\t\tthis.modificar = function (nombreCliente, telefono, pais) {\n\n\t\t\tvar defered = $q.defer();\n\n\t\t\tvar promise = defered.promise;\n\n\t\t\t$http.post(\"/app/cliente/modificar\", {\n\t\t\t\ttelefono: telefono,\n\t\t\t\tnombreCliente: nombreCliente,\n\t\t\t\tpais: pais\n\t\t\t})\n\n\t\t\t\t.then(function (res) {\n\n\t\t\t\t\tdefered.resolve(res.data);\n\n\t\t\t\t})\n\t\t\t\t.catch(function () {\n\n\t\t\t\t\tdefered.reject();\n\t\t\t\t});\n\n\t\t\treturn promise;\n\t\t};\n\n\t\tthis.avatar = function (imagen) {\n\t\t\tvar defered = $q.defer();\n\t\t\tvar promise = defered.promise;\n\n\t\t\tUpload.upload({\n\t\t\t\turl: \"/app/cliente/avatar\",\n\t\t\t\tdata: {\n\t\t\t\t\tavatar: imagen\n\t\t\t\t},\n\t\t\t}).then(function (res) {\n\n\t\t\t\tdefered.resolve(res.data.foto);\n\n\t\t\t}).catch(function () {\n\n\t\t\t});\n\n\t\t\treturn promise;\n\t\t};\n\n\t\tthis.correoDisponible = function (correo) {\n\t\t\tvar defered = $q.defer();\n\t\t\tvar promise = defered.promise;\n\n\t\t\t$http.post(\"/app/cliente/email\", {\n\t\t\t\temail: correo\n\t\t\t})\n\n\t\t\t\t.then(function () {\n\t\t\t\t\tdefered.reject();\n\t\t\t\t})\n\t\t\t\t.catch(function (res) {\n\t\t\t\t\tif (res.status == 404) {\n\t\t\t\t\t\tdefered.resolve();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdefered.reject();\n\t\t\t\t\t}\n\n\t\t\t\t});\n\n\t\t\treturn promise;\n\t\t};\n\n\t}])\n\n\t/*--------------------------- Factories aislados ------------------*/\n\n\t.factory(\"compararLogosFactory\", [function () {\n\n\t\tvar logos = {\n\n\t\t\tcomparar: [],\n\t\t\tcomprar: \"\"\n\n\t\t};\n\n\t\tvar informacion = {\n\n\t\t\tdefinir: function (valor, tipo) {\n\n\t\t\t\tif (tipo == \"comprar\") {\n\n\t\t\t\t\tlogos.comprar = valor;\n\n\t\t\t\t} else if (tipo == \"comparar\")\n\n\t\t\t\t{\n\t\t\t\t\tlogos.comparar.push(valor);\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tobtener: function (tipo) {\n\n\t\t\t\tif (tipo == \"comprar\") {\n\n\t\t\t\t\treturn logos.comprar;\n\n\t\t\t\t} else if (tipo == \"comparar\") {\n\t\t\t\t\treturn logos.comparar;\n\t\t\t\t}\n\t\t\t}\n\n\t\t};\n\n\t\treturn informacion;\n\n\t}])\n\n\t.factory(\"compartirFactory\", [function () {\n\t\tvar estados = [];\n\t\tvar informacion = {\n\t\t\tdefinir: function (nombre, valor) {\n\t\t\t\testados[nombre] = valor;\n\t\t\t},\n\t\t\tobtener: function (nombre) {\n\t\t\t\treturn estados[nombre];\n\t\t\t}\n\t\t};\n\t\treturn informacion;\n\t}])\n\n\t.factory(\"crearLogoFactory\", [function () {\n\n\t\treturn function (iconos, fuentes) {\n\n\t\t\tvar logos = [];\n\t\t\t/*\n\t\t\tangular.forEach(fuentes, function (fuente) {\n\n\t\t\t\tangular.forEach(iconos, function (icono) {\n\n\t\t\t\t\t//if (icono.estado == true) {\n\n\t\t\t\t\tvar logo = {\n\t\t\t\t\t\ticono: icono,\n\t\t\t\t\t\tfuente: fuente\n\t\t\t\t\t};\n\n\t\t\t\t\tlogos.push(logo);\n\t\t\t\t\t//}\n\t\t\t\t});\n\n\t\t\t});\n\n\t\t\t*/\n\n\t\t\tangular.forEach(iconos, function(icono, indice){\n\n\t\t\t\tvar logo = {\n\t\t\t\t\ticono: iconos[indice],\n\t\t\t\t\tfuente: fuentes[indice]\n\t\t\t\t};\n\n\t\t\t\tlogos.push(logo);\n\n\t\t\t});\n\n\t\t\treturn logos;\n\n\t\t};\n\n\t}])\n\n\t.factory(\"LS\", [\"$window\", function ($window) {\n\t\treturn {\n\t\t\tdefinir: function (llave, valor) {\n\n\t\t\t\t$window.localStorage.setItem(llave, angular.toJson(valor));\n\n\t\t\t},\n\t\t\tobtener: function (llave) {\n\n\t\t\t\treturn angular.fromJson($window.localStorage.getItem(llave));\n\t\t\t}\n\t\t};\n\n\t}])\n\n\n\n\t/*********************/\n\t/***** Logos *********/\n\t/*********************/\n\n\t.service(\"logosService\", [\"$http\", \"$q\", \"$httpParamSerializer\", function ($http, $q, $httpParamSerializer) {\n\n\t\tthis.calificar = function (idLogo, calificacion, comentario) {\n\n\t\t\tvar defered = $q.defer();\n\n\t\t\tvar promise = defered.promise;\n\n\t\t\tvar datos = {\n\t\t\t\tcalificacion: calificacion,\n\t\t\t\tcomentario: comentario,\n\t\t\t\tidLogo: idLogo\n\t\t\t};\n\n\t\t\t$http.post(\"/app/logo/calificar-cliente\", datos).then(function (res) {\n\n\t\t\t\tdefered.resolve(res.data);\n\n\t\t\t}).catch(function (res) {\n\n\t\t\t\tdefered.reject(res);\n\n\t\t\t});\n\n\t\t\treturn promise;\n\n\t\t};\n\n\t\tthis.guardarLogo = function (logo, tipoLogo, idElemento, fuentePrincipalId, fuenteEsloganId, logoPadreId) {\n\n\t\t\tvar defered = $q.defer();\n\n\t\t\tvar promise = defered.promise;\n\n\t\t\tvar datos = {\n\t\t\t\tlogo: logo,\n\t\t\t\ttipoLogo: tipoLogo,\n\t\t\t\tidElemento: idElemento,\n\t\t\t\tatributos: {\n\t\t\t\t\tprincipal: fuentePrincipalId\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tif (fuenteEsloganId) {\n\t\t\t\tdatos.atributos.eslogan = fuenteEsloganId;\n\t\t\t}\n\n\t\t\tif (logoPadreId) {\n\t\t\t\tdatos.atributos.padre = logoPadreId;\n\t\t\t}\n\n\t\t\t$http.post(\"/app/logo/guardar\", datos).then(function (res) {\n\n\t\t\t\tdefered.resolve(res.data.insertId);\n\n\t\t\t}).catch(function (res) {\n\n\t\t\t\tdefered.reject(res);\n\n\t\t\t});\n\n\t\t\treturn promise;\n\n\t\t};\n\n\t\tthis.modificarLogo = function (logo, idlogo, fuentePrincipalId, fuenteEsloganId) {\n\n\t\t\tvar defered = $q.defer();\n\n\t\t\tvar promise = defered.promise;\n\n\t\t\tvar datos = {\n\t\t\t\tlogo: logo,\n\t\t\t\tidLogo: idlogo,\n\t\t\t\tatributos: {\n\t\t\t\t\tprincipal: fuentePrincipalId\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tif (fuenteEsloganId) {\n\t\t\t\tdatos.atributos.eslogan = fuenteEsloganId;\n\t\t\t}\n\n\t\t\t$http.post(\"/app/logo/modificar\", datos).then(function (res) {\n\n\t\t\t\tdefered.resolve(res.data);\n\n\t\t\t}).catch(function (res) {\n\n\t\t\t\tdefered.reject(res);\n\n\t\t\t});\n\n\t\t\treturn promise;\n\n\t\t};\n\n\t\tthis.mostrarGuardados = function () {\n\n\t\t\tvar defered = $q.defer();\n\n\t\t\tvar promise = defered.promise;\n\n\t\t\t$http.post(\"/app/logos/guardados/\").then(function (res) {\n\n\t\t\t\tdefered.resolve(res.data);\n\n\t\t\t}).catch(function () {\n\n\t\t\t\tdefered.reject();\n\n\t\t\t});\n\n\t\t\treturn promise;\n\n\t\t};\n\n\t\tthis.mostrarComprados = function () {\n\n\t\t\tvar defered = $q.defer();\n\n\t\t\tvar promise = defered.promise;\n\n\t\t\t$http.post(\"/app/logos/descargables/\").then(function (res) {\n\n\t\t\t\tdefered.resolve(res.data);\n\n\t\t\t}).catch(function () {\n\n\t\t\t\tdefered.reject();\n\n\t\t\t});\n\n\t\t\treturn promise;\n\n\t\t};\n\n\t\tthis.mostrarAprobados = function (idLogo) {\n\n\t\t\tvar defered = $q.defer();\n\n\t\t\tvar promise = defered.promise;\n\n\t\t\tvar datos = {};\n\n\t\t\tif (idLogo) {\n\n\t\t\t\tdatos.idLogo = idLogo;\n\t\t\t}\n\n\t\t\t$http.post(\"/app/logos/aprobados\", datos).then(function (res) {\n\n\t\t\t\tdefered.resolve(res.data);\n\n\n\t\t\t}).catch(function (res) {\n\n\t\t\t\tdefered.reject(res);\n\n\t\t\t});\n\n\t\t\treturn promise;\n\n\t\t};\n\n\t\tthis.mostrarDestacados = function () {\n\n\t\t\tvar defered = $q.defer();\n\n\t\t\tvar promise = defered.promise;\n\n\t\t\t$http.post(\"/app/logos/aprobados/destacados\").then(function (res) {\n\n\t\t\t\tdefered.resolve(res.data);\n\n\t\t\t}).catch(function (res) {\n\n\t\t\t\tdefered.reject(res);\n\n\t\t\t});\n\n\t\t\treturn promise;\n\n\t\t};\n\n\t\tthis.descargarLogo = function (idLogo, ancho, nombre, tipo, plantilla) {\n\n\t\t\tvar defered = $q.defer();\n\n\t\t\tvar promise = defered.promise;\n\n\t\t\tvar datos = {\n\t\t\t\tidLogo: idLogo,\n\t\t\t\tancho: ancho,\n\t\t\t\tdescarga: nombre,\n\t\t\t\ttipo: tipo,\n\t\t\t\tplantilla: plantilla\n\t\t\t};\n\n\t\t\t$http.get(\"/app/logo/zip/\", {\n\t\t\t\tparams: datos,\n\t\t\t\tresponseType: \"arraybuffer\"\n\t\t\t}).then(function (res) {\n\n\t\t\t\tdefered.resolve({\n\t\t\t\t\tdata: res.data,\n\t\t\t\t\theaders: res.headers()\n\t\t\t\t});\n\n\t\t\t}).catch(function (res) {\n\n\t\t\t\tdefered.reject(res);\n\n\t\t\t});\n\n\t\t\treturn promise;\n\n\t\t};\n\n\t\tthis.descargarTodo = function (idLogo, formatosPNG) {\n\n\t\t\tvar defered = $q.defer();\n\n\t\t\tvar promise = defered.promise;\n\n\t\t\tvar datos = {\n\t\t\t\tidLogo: idLogo,\n\t\t\t\tformatos: formatosPNG\n\t\t\t};\n\n\t\t\t$http.get(\"/app/logo/descargar/\", {\n\t\t\t\tparams: datos,\n\t\t\t\tresponseType: \"arraybuffer\"\n\t\t\t}).then(function (res) {\n\n\t\t\t\tdefered.resolve({\n\t\t\t\t\tdata: res.data,\n\t\t\t\t\theaders: res.headers()\n\t\t\t\t});\n\n\t\t\t}).catch(function (res) {\n\n\t\t\t\tdefered.reject(res);\n\n\t\t\t});\n\n\t\t\treturn promise;\n\n\t\t};\n\n\t\tthis.obtenerPorId = function (idLogo) {\n\n\t\t\tvar defered = $q.defer();\n\n\t\t\tvar promise = defered.promise;\n\n\t\t\t$http.get(\"/app/logo/\" + idLogo).then(function (res) {\n\n\t\t\t\tdefered.resolve(res.data);\n\n\t\t\t}).catch(function () {\n\n\t\t\t\tdefered.reject();\n\n\t\t\t});\n\n\t\t\treturn promise;\n\n\t\t};\n\n\t\tthis.borrarLogo = function (idLogo) {\n\n\n\t\t\tvar defered = $q.defer();\n\n\t\t\tvar promise = defered.promise;\n\n\n\t\t\t$http.get(\"/app/logo/borrar/\" + idLogo).then(function (res) {\n\n\t\t\t\tdefered.resolve(res.data);\n\n\t\t\t}).catch(function () {\n\n\t\t\t\tdefered.reject();\n\n\t\t\t});\n\n\t\t\treturn promise;\n\n\t\t};\n\n\t\tthis.manualMarca = function (id) {\n\n\t\t\tvar defered = $q.defer();\n\n\t\t\tvar promise = defered.promise;\n\n\t\t\t$http.get(\"/app/cliente/manual/\" + id).then(function (res) {\n\n\t\t\t\tdefered.resolve(res.data);\n\n\t\t\t}).catch(function (res) {\n\n\t\t\t\tdefered.reject(res);\n\n\t\t\t});\n\n\t\t\treturn promise;\n\n\t\t};\n\n\n\t\tthis.enviarPorEmail = function (idLogo, email, url) {\n\n\t\t\tvar defered = $q.defer();\n\t\t\tvar promise = defered.promise;\n\n\t\t\t$http.post(\"/app/logo/compartir-email\", {\n\t\t\t\tidLogo: idLogo,\n\t\t\t\temail: email,\n\t\t\t\turl: url\n\t\t\t})\n\t\t\t\t.then(function (res) {\n\t\t\t\t\tdefered.resolve(res.data);\n\t\t\t\t}).catch(function (res) {\n\t\t\t\t\tdefered.reject(res);\n\t\t\t\t});\n\n\t\t\treturn promise;\n\n\t\t};\n\n\t}])\n\n\t/*********************/\n\t/***** planes ********/\n\t/*********************/\n\n\t.service(\"planesService\", [\"$http\", \"$q\", function ($http, $q) {\n\n\t\tthis.listar = function () {\n\n\t\t\tvar defered = $q.defer();\n\t\t\tvar promise = defered.promise;\n\n\t\t\t$http.get(\"/app/planesAll\").then(function (res) {\n\t\t\t\tdefered.resolve(res.data);\n\t\t\t}).catch(function (res) {\n\t\t\t\tdefered.reject(res);\n\t\t\t});\n\t\t\treturn promise;\n\t\t};\n\n\t\tthis.porLogo = function (idLogo) {\n\n\t\t\tvar defered = $q.defer();\n\t\t\tvar promise = defered.promise;\n\n\t\t\t$http.post(\"/app/logo/plan/caracteristicas\", {\n\t\t\t\tidLogo: idLogo\n\t\t\t})\n\t\t\t\t.then(function (res) {\n\t\t\t\t\tdefered.resolve(res.data);\n\t\t\t\t}).catch(function (res) {\n\t\t\t\t\tdefered.reject(res);\n\t\t\t\t});\n\n\t\t\treturn promise;\n\n\t\t};\n\n\n\t\tthis.aumentarPlan = function (idPlan) {\n\n\t\t\tvar defered = $q.defer();\n\n\t\t\tvar promise = defered.promise;\n\n\t\t\t$http.post(\"/app/planes/aumentar\", {\n\t\t\t\tidPlan: idPlan\n\t\t\t})\n\t\t\t\t.then(function (res) {\n\n\t\t\t\t\tdefered.resolve(res.data);\n\n\t\t\t\t}).catch(function (res) {\n\n\t\t\t\t\tdefered.reject(res);\n\n\t\t\t\t});\n\n\t\t\treturn promise;\n\n\t\t};\n\n\t\tthis.aumentarPedidoPlan = function (datos) {\n\n\t\t\tvar defered = $q.defer();\n\n\t\t\tvar promise = defered.promise;\n\n\t\t\t$http.post(\"/app/pedido/aumentar\", datos)\n\t\t\t\t.then(function (res) {\n\n\t\t\t\t\tdefered.resolve(res.data);\n\n\t\t\t\t}).catch(function (res) {\n\n\t\t\t\t\tdefered.reject(res);\n\n\t\t\t\t});\n\n\t\t\treturn promise;\n\n\t\t};\n\n\t}])\n\n\n\t.factory(\"AuthInterceptor\", function ($window, $q, $rootScope, clienteDatosFactory) {\n\t\tfunction salir() {\n\t\t\t$window.localStorage.removeItem(\"bzToken\");\n\t\t\tclienteDatosFactory.eliminar();\n\t\t\t$rootScope.$broadcast(\"sesionExpiro\", \"true\");\n\t\t}\n\n\t\tfunction autorizado() {\n\t\t\tif (clienteDatosFactory.obtener()) {\n\t\t\t\t//$rootScope.$broadcast('sesionInicio', \"true\")\n\t\t\t\treturn clienteDatosFactory.obtener();\n\t\t\t} else {\n\t\t\t\tif ($window.localStorage.getItem(\"bzToken\")) {\n\n\t\t\t\t\tclienteDatosFactory.definir(angular.fromJson($window.localStorage.getItem(\"bzToken\")));\n\t\t\t\t\t//$rootScope.$broadcast('sesionInicio', \"true\")\n\t\t\t\t\treturn clienteDatosFactory.obtener();\n\t\t\t\t} else {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn {\n\t\t\trequest: function (config) {\n\n\n\t\t\t\tconfig.headers = config.headers || {};\n\t\t\t\tif (autorizado()) {\n\t\t\t\t\tconfig.headers.auth = autorizado().token;\n\t\t\t\t}\n\n\t\t\t\treturn config || $q.when(config);\n\n\n\t\t\t},\n\t\t\tresponse: function (response) {\n\n\t\t\t\treturn response || $q.when(response);\n\t\t\t},\n\n\t\t\tresponseError: function (response) {\n\n\t\t\t\tif (response.status === 401 || response.status === 403) {\n\t\t\t\t\tsalir();\n\n\t\t\t\t}\n\t\t\t\treturn $q.reject(response);\n\n\t\t\t}\n\t\t};\n\t})\n\n\t.factory(\"arrayToJsonMetasFactory\", [function () {\n\n\t\treturn function (arrayMetas) {\n\n\t\t\tvar jsonMetas = {};\n\n\t\t\tangular.forEach(arrayMetas, function (meta) {\n\n\t\t\t\tjsonMetas[meta.clave] = meta.valor;\n\n\t\t\t});\n\n\t\t\treturn jsonMetas;\n\n\t\t};\n\n\t}])\n\n\t.factory(\"mostrarPopAyudaFactory\", [\"$rootScope\", function ($rootScope) {\n\n\t\treturn function (indice) {\n\n\t\t\t$rootScope.$broadcast(\"bazamAyuda:mostrar\", {\n\t\t\t\tindice: indice\n\t\t\t});\n\n\t\t};\n\n\t}])\n\n\t.factory(\"mostrarPasoPopAyudaFactory\", [\"$rootScope\", function ($rootScope) {\n\n\t\tvar accion = true;\n\n\t\treturn function () {\n\t\t\t$rootScope.$broadcast(\"bazamPasoAyuda:mostrar\", accion);\n\n\t\t\taccion = !accion;\n\t\t};\n\n\t}])\n\n\t.factory(\"verificarBase64Factory\", [function () {\n\n\t\treturn function (cadena) {\n\n\t\t\treturn /^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{4}|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)$/.test(cadena);\n\n\t\t};\n\t}])\n\n\t.factory(\"fontFactory\", [\"$document\", function ($document) {\n\n\n\n\t\treturn {\n\t\t\tcheck: function (fuente) {\n\n\t\t\t\tif (!$document[0].fonts) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\treturn $document[0].fonts.check(\"200px \" + fuente);\n\t\t\t},\n\t\t\tload: function (fuente, url) {\n\n\t\t\t\tif (!$document[0].fonts) {\n\t\t\t\t\tvar nombreFuente = fuente.replace(/\\s/g, \"-\");\n\t\t\t\t\tif (!angular.element(\".\" + nombreFuente).length) {\n\t\t\t\t\t\tangular.element(\"html head\").append(\"<style class='\" + nombreFuente + \"'>@font-face {font-family: \" + fuente + \";src: url('\" + url + \"');}</style>\");\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tvar newFuente = new FontFace(fuente, \"url(\" + url + \")\");\n\n\t\t\t\t$document[0].fonts.add(newFuente);\n\n\t\t\t\treturn newFuente.load();\n\n\t\t\t}\n\t\t};\n\n\t}])\n\n\t.service(\"fontService\", [\"$q\", \"$document\", \"fontFactory\", \"$timeout\", function ($q, $document, fontFactory, $timeout) {\n\n\t\tthis.preparar = function (fuente, url) {\n\n\t\t\tif(!url){\n\t\t\t\turl = \"/fuentes/\"+fuente+\".ttf\";\n\t\t\t}\n\n\t\t\tvar defered = $q.defer();\n\t\t\tvar promise = defered.promise;\n\n\t\t\tif (fontFactory.check(fuente)) {\n\n\t\t\t\tdefered.resolve({\n\t\t\t\t\tfuente: fuente,\n\t\t\t\t\turl: url\n\t\t\t\t});\n\n\t\t\t} else {\n\n\t\t\t\t$q.race([$timeout(function () {\n\t\t\t\t\treturn \"exceso\";\n\t\t\t\t}, 10000), fontFactory.load(fuente, url)])\n\t\t\t\t\t.then(function (res) {\n\t\t\t\t\t\tif (res === \"exceso\") {\n\t\t\t\t\t\t\tdefered.reject();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdefered.resolve({\n\t\t\t\t\t\t\t\tfuente: fuente,\n\t\t\t\t\t\t\t\turl: url\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch(function (res) {\n\t\t\t\t\t\tdefered.reject(res);\n\t\t\t\t\t});\n\n\t\t\t}\n\n\t\t\treturn promise;\n\t\t};\n\n\t\tthis.agregarGeneral = function (fuentes) {\n\n\t\t\tvar fontService = this;\n\n\t\t\tangular.forEach(fuentes, function (fuente) {\n\t\t\t\tfontService.preparar(fuente.nombre, fuente.url)\n\t\t\t\t\t.catch(function (res) {\n\t\t\t\t\t\t//console.log(res)\n\t\t\t\t\t});\n\t\t\t});\n\n\t\t};\n\n\t}])\n\t.service(\"papeleriaService\", [\"$q\", \"$http\",  function($q, $http){\n\n\t\tthis.listarPorCliente =  function(){\n\t\t\tvar defered = $q.defer();\n\t\t\tvar promise = defered.promise;\n\t\t\t\t\n\t\t\t$http.get(\"/app/papeleria/usuario\")\n\t\t\t\t.then(function(res){\n\t\t\t\t\tdefered.resolve(res.data);\n\t\t\t\t})\n\t\t\t\t.catch(function(){\n\t\t\t\t\tdefered.reject();\n\t\t\t\t})\n\t\t\t\t.finally(function(){\n\n\t\t\t\t});\n\t\t\t\t\n\t\t\treturn promise;\n\t\t};\n\n\t\tthis.listarPorClienteYlogo =  function(id){\n\t\t\tvar defered = $q.defer();\n\t\t\tvar promise = defered.promise;\n\t\t\t\t\n\t\t\t$http.get(\"/app/papeleria/logo/\"+id)\n\t\t\t\t.then(function(res){\n\t\t\t\t\tdefered.resolve(res.data);\n\t\t\t\t})\n\t\t\t\t.catch(function(){\n\t\t\t\t\tdefered.reject();\n\t\t\t\t})\n\t\t\t\t.finally(function(){\n\n\t\t\t\t});\n\t\t\t\t\n\t\t\treturn promise;\n\t\t};\n\n\t\tthis.piezas = {\n\t\t\tguardar: function(tipo, modelo, pieza){\n\t\t\t\tvar defered = $q.defer();\n\t\t\t\tvar promise = defered.promise;\n\t\t\t\t\n\t\t\t\t$http.post(\"/app/papeleria/pieza\", {\n\t\t\t\t\ttipo: tipo,\n\t\t\t\t\tmodelo: modelo,\n\t\t\t\t\tpieza: pieza\n\t\t\t\t})\n\t\t\t\t\t.then(function(res){\n\t\t\t\t\t\tdefered.resolve(res.data);\n\t\t\t\t\t})\n\t\t\t\t\t.catch(function(){\n\t\t\t\t\t\tdefered.reject();\n\t\t\t\t\t})\n\t\t\t\t\t.finally(function(){\n\n\t\t\t\t\t});\n\t\t\t\t\n\t\t\t\treturn promise;\n\t\t\t},\n\t\t\teliminar: function(idPieza){\n\t\t\t\tvar defered = $q.defer();\n\t\t\t\tvar promise = defered.promise;\n\t\t\t\t\n\t\t\t\t$http.get(\"/app/papeleria/pieza/\"+idPieza+\"/eliminar\")\n\t\t\t\t\t.then(function(res){\n\t\t\t\t\t\tdefered.resolve(res.data);\n\t\t\t\t\t})\n\t\t\t\t\t.catch(function(){\n\t\t\t\t\t\tdefered.reject();\n\t\t\t\t\t})\n\t\t\t\t\t.finally(function(){\n\n\t\t\t\t\t});\n\t\t\t\t\n\t\t\t\treturn promise;\n\t\t\t},\n\t\t\tdescargar: function(id, idlogo){\n\t\t\t\tvar defered = $q.defer();\n\t\t\t\tvar promise = defered.promise;\n\n\t\t\t\tlet datos = {_id : id, idLogo: idlogo};\n\t\t\t\t\n\t\t\t\t$http.post(\"/app/papeleria/descargar\", datos)\n\t\t\t\t\t.then(function(res){\n\t\t\t\t\t\tdefered.resolve(res.data);\n\t\t\t\t\t})\n\t\t\t\t\t.catch(function(){\n\t\t\t\t\t\tdefered.reject();\n\t\t\t\t\t})\n\t\t\t\t\t.finally(function(){\n\n\t\t\t\t\t});\n\t\t\t\t\n\t\t\t\treturn promise;\n\t\t\t}\n\t\t};\n\n\n\t}]);\n\n//# sourceURL=webpack:///./public/creador-de-logos/app/services.js?");

/***/ }),

/***/ "./public/creador-de-logos/index.js":
/*!******************************************!*\
  !*** ./public/creador-de-logos/index.js ***!
  \******************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _app_app_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./app/app.js */ \"./public/creador-de-logos/app/app.js\");\n/* harmony import */ var _app_app_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_app_app_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _app_controllers_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./app/controllers/index.js */ \"./public/creador-de-logos/app/controllers/index.js\");\n/* harmony import */ var _app_directives_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app/directives/index.js */ \"./public/creador-de-logos/app/directives/index.js\");\n/* harmony import */ var _app_services_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/services.js */ \"./public/creador-de-logos/app/services.js\");\n/* harmony import */ var _app_services_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_app_services_js__WEBPACK_IMPORTED_MODULE_3__);\n// App\n\n\n\n// Controladores\n\n\n\n// Directivas\n\n\n\n// Servicios\n\n\n\n//# sourceURL=webpack:///./public/creador-de-logos/index.js?");

/***/ })

/******/ });