(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter})}};__webpack_require__.r=function(exports){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(exports,"__esModule",{value:true})};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if(mode&4&&typeof value==="object"&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,"default",{enumerable:true,value:value});if(mode&2&&typeof value!="string")for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=0)})([function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var app=__webpack_require__(17);var categoriasController=__webpack_require__(16);var clienteController=__webpack_require__(15);var disenadoresController=__webpack_require__(14);var elementosController=__webpack_require__(13);var etiquetasController=__webpack_require__(12);var headerController=__webpack_require__(11);var idiomasController=__webpack_require__(10);var loginController=__webpack_require__(9);var monedasController=__webpack_require__(8);var paisesController=__webpack_require__(7);var pedidosController=__webpack_require__(6);var planesController=__webpack_require__(5);var sidenavController=__webpack_require__(4);var usuarioController=__webpack_require__(3);var directives=__webpack_require__(2);var services=__webpack_require__(1)},function(module,exports){angular.module("administrador").factory("clienteDatosFactory",[function(){var cliente=null;return{obtener:function(){return cliente},definir:function(objectoCliente){cliente=objectoCliente},eliminar:function(){cliente=null}}}]).service("clientesService",["$http","$q","$window","$rootScope","SweetAlert","clienteDatosFactory","$state",function($http,$q,$window,$rootScope,SweetAlert,clienteDatosFactory,$state){this.registrar=function(datos){var defered=$q.defer();var promise=defered.promise;$http.post("/app/usuario",datos).then(function(res){defered.resolve(res)}).catch(function(res){defered.reject(res)});return promise};this.login=function(datos){var defered=$q.defer();var promise=defered.promise;$http.post("/app/usuario/login",datos).then(function(res){$window.localStorage.setItem("bzTokenAdmin",angular.toJson(res.data));clienteDatosFactory.definir(res.data);defered.resolve()}).catch(function(){$window.localStorage.removeItem("bzTokenAdmin");defered.reject()});return promise};this.forgotPass=function(datos){var defered=$q.defer();var promise=defered.promise;$http.post("/app/recuperar-password",datos).then(function(res){defered.resolve(res)}).catch(function(res){defered.reject(res)});return promise};this.confirmarToken=function(datos){var defered=$q.defer();var promise=defered.promise;$http.get("/app/recuperar-password/"+datos).then(function(res){defered.resolve(res)}).catch(function(res){defered.reject(res)});return promise};this.cambiarContrasena=function(datos){var defered=$q.defer();var promise=defered.promise;$http.post("/app/cambiar-password",datos).then(function(res){defered.resolve(res)}).catch(function(res){defered.reject(res)});return promise};this.modificarU=function(datos){var defered=$q.defer();var promise=defered.promise;$http.post("/app/usuario/modificar/",datos).then(function(res){defered.resolve(res)}).catch(function(res){defered.reject(res)});return promise};this.autorizado=function(){if(clienteDatosFactory.obtener()){return clienteDatosFactory.obtener()}else{if($window.localStorage.getItem("bzTokenAdmin")){clienteDatosFactory.definir(angular.fromJson($window.localStorage.getItem("bzTokenAdmin")));return clienteDatosFactory.obtener()}else{return false}}};this.salir=function(desactivarAlerta){$window.localStorage.removeItem("bzTokenAdmin");clienteDatosFactory.eliminar();if(!desactivarAlerta){SweetAlert.swal("¡Ups!","Tu sesion ha expirado","warning");$state.go("login")}}}]).service("clientesServiceAdmin",["$http","$q",function($http,$q){this.listarClientes=function(){var defered=$q.defer();var promise=defered.promise;$http.get("/app/clientes").then(function(res){defered.resolve(res)}).catch(function(res){defered.reject(res.data.msg)});return promise};this.borrarCliente=function(id){var defered=$q.defer();var promise=defered.promise;$http.post("/app/cliente/bloquear/"+id).then(function(res){defered.resolve(res)}).catch(function(res){defered.reject(res.data.msg)});return promise};this.borrarUsuario=function(id){var defered=$q.defer();var promise=defered.promise;$http.get("/app/usuario/borrar/"+id).then(function(res){defered.resolve(res)}).catch(function(res){defered.reject(res.data.msg)});return promise};this.listarUsuarios=function(){var defered=$q.defer();var promise=defered.promise;$http.get("/app/usuarios").then(function(res){defered.resolve(res)}).catch(function(res){defered.reject(res.data.msg)});return promise}}]).service("pedidosService",["$http","$q",function($http,$q){this.listarPedidos=function(){var defered=$q.defer();var promise=defered.promise;$http.get("/app/pedidos").then(function(res){defered.resolve(res)}).catch(function(res){defered.reject(res.data.msg)});return promise};this.datosPedido=function(id){var defered=$q.defer();var promise=defered.promise;$http.get("/app/pedido/"+id).then(function(res){defered.resolve(res)}).catch(function(res){defered.reject(res.data.msg)});return promise};this.pedidosCliente=function(id){var defered=$q.defer();var promise=defered.promise;$http.get("/app/pedidos/cliente/"+id).then(function(res){defered.resolve(res)}).catch(function(res){defered.reject(res)});return promise};this.cambiarEstado=function(id,estadoP){var defered=$q.defer();var promise=defered.promise;var datos={idPedido:id,estado:estadoP};$http.post("/app/pedido/cambiar/",datos).then(function(res){defered.resolve(res)}).catch(function(res){defered.reject(res.data.msg)});return promise}}]).service("categoriasService",["$http","$q",function($http,$q){this.listarCategorias=function(datos){var defered=$q.defer();var promise=defered.promise;$http.post("/app/categorias",datos).then(function(res){defered.resolve(res)}).catch(function(res){defered.reject(res.data.msg)});return promise};this.modificarCategoria=function(datos){var defered=$q.defer();var promise=defered.promise;$http.post("/app/categoria/modificar/",datos).then(function(res){defered.resolve(res)}).catch(function(res){defered.reject(res.data.msg)});return promise};this.nuevaCategoria=function(datos){var defered=$q.defer();var promise=defered.promise;$http.post("/app/categoria",datos).then(function(res){defered.resolve(res)}).catch(function(res){defered.reject(res.data.msg)});return promise};this.eliminarCategoria=function(id){var defered=$q.defer();var promise=defered.promise;$http.get("/app/categoria/borrar/"+id).then(function(res){defered.resolve(res)}).catch(function(res){defered.reject(res)});return promise};this.listarPreferencias=function(){var defered=$q.defer();var promise=defered.promise;$http.get("/app/preferencias").then(function(res){defered.resolve(res)}).catch(function(res){defered.reject(res.data.msg)});return promise};this.modificarPreferencia=function(datos){var defered=$q.defer();var promise=defered.promise;$http.post("/app/preferencia/modificar/",datos).then(function(res){defered.resolve(res)}).catch(function(res){defered.reject(res.data.msg)});return promise};this.nuevaPreferencia=function(datos){var defered=$q.defer();var promise=defered.promise;$http.post("/app/preferencia",datos).then(function(res){defered.resolve(res)}).catch(function(res){defered.reject(res.data.msg)});return promise};this.eliminarPreferencia=function(id){var defered=$q.defer();var promise=defered.promise;$http.get("/app/preferencia/borrar/"+id).then(function(res){defered.resolve(res)}).catch(function(res){defered.reject(res)});return promise}}]).service("iconoFuente",["$http","Upload","$q",function($http,Upload,$q){this.listar=function(datos){var defered=$q.defer();var promise=defered.promise;datos.idCategoria=datos.categoria;$http.post("/app/elementos/categoria",datos).then(function(res){defered.resolve(res)}).catch(function(res){defered.reject(res)});return promise};this.modificarPreferencias=function(datos){var defered=$q.defer();var promise=defered.promise;$http.post("/app/elemento/preferencias/modificar",datos).then(function(res){defered.resolve(res)}).catch(function(res){defered.reject(res)});return promise};this.nuevoIcono=function(datos){var defered=$q.defer();var promise=defered.promise;Upload.upload({url:"/app/elemento/icono/",method:"POST",file:{misvg:datos.misvg},data:datos}).then(function(res){defered.resolve(res)}).catch(function(res){defered.reject(res)});return promise};this.nuevaFuente=function(datos){var defered=$q.defer();var promise=defered.promise;Upload.upload({url:"/app/elemento/fuente/",method:"POST",file:{mifuente:datos.mifuente},data:datos}).then(function(res){defered.resolve(res)}).catch(function(res){defered.reject(res)});return promise};this.subidaMasiva=function(datos){var defered=$q.defer();Upload.upload({url:"/app/elemento/masivo",method:"POST",data:datos}).then(function(res){defered.resolve(res)}).catch(function(res){defered.reject(res)})}}]).service("idiomasService",["$http","$q",function($http,$q){this.listarIdiomas=function(){var defered=$q.defer();var promise=defered.promise;$http.get("/app/idiomas").then(function(res){defered.resolve(res.data)}).catch(function(res){defered.reject(res)});return promise};this.guardarIdioma=function(datos){var defered=$q.defer();var promise=defered.promise;$http.post("/app/idiomas/",datos).then(function(res){defered.resolve(res.data)}).catch(function(res){defered.reject(res)});return promise};this.modificarIdioma=function(datos){var defered=$q.defer();var promise=defered.promise;$http.post("/app/idiomas/modificar",datos).then(function(res){defered.resolve(res.data)}).catch(function(res){defered.reject(res)});return promise};this.borrarIdioma=function(id){var defered=$q.defer();var promise=defered.promise;$http.get("/app/idiomas/borrar/"+id).then(function(res){defered.resolve(res.data)}).catch(function(res){defered.reject(res)});return promise}}]).service("administrarService",["$http","$q",function($http,$q){this.listarPlanes=function(){var defered=$q.defer();var promise=defered.promise;$http.get("/app/planes/").then(function(res){defered.resolve(res.data)}).catch(function(res){defered.reject(res)});return promise};this.agregarPlan=function(datos){var defered=$q.defer();var promise=defered.promise;var datosn=datos;$http.post("/app/plan",datosn).then(function(res){angular.forEach(datosn.caracteristicas,function(valor){valor.idPlan=res.data.insertId});datosn.idPlan=res.data.insertId;$http.post("/app/plan/caracteristicas/",datosn).then(function(){defered.resolve(datosn)}).catch(function(res){defered.reject(res)})}).catch(function(res){defered.reject(res)});return promise};this.agregarPrecioPlan=function(datos){var defered=$q.defer();var promise=defered.promise;$http.post("/app/precio",datos).then(function(res){defered.resolve(res)}).catch(function(res){defered.reject(res)});return promise};this.listarPreciosPlan=function(id){var defered=$q.defer();var promise=defered.promise;$http.get("/app/plan/precios/"+id).then(function(res){defered.resolve(res)}).catch(function(res){defered.reject(res)});return promise};this.modificarNombrePlan=function(datos){var defered=$q.defer();var promise=defered.promise;$http.post("/app/plan/modificar",datos).then(function(res){defered.resolve(res)}).catch(function(res){defered.reject(res)});return promise};this.modificarPrecioPlan=function(datos){var defered=$q.defer();var promise=defered.promise;$http.post("/app/precio/modificar",datos).then(function(res){defered.resolve(res)}).catch(function(res){defered.reject(res)});return promise};this.borrarPrecioPlan=function(opcion,id){var defered=$q.defer();var promise=defered.promise;$http.get("/app/precio/borrar/"+id).then(function(res){defered.resolve(res)}).catch(function(res){defered.reject(res)});return promise};this.bloquearPlan=function(datos){var defered=$q.defer();var promise=defered.promise;$http.post("/app/plan/bloquear",datos).then(function(res){defered.resolve(res)}).catch(function(res){defered.reject(res)});return promise};this.listarImpuestos=function(){var defered=$q.defer();var promise=defered.promise;$http.get("/app/impuestos").then(function(res){defered.resolve(res.data)}).catch(function(res){defered.reject(res)});return promise};this.agregarImpuesto=function(opcion,datos){var defered=$q.defer();var promise=defered.promise;$http.post("/app/impuesto",datos).then(function(res){defered.resolve(res)}).catch(function(res){defered.reject(res)});return promise};this.modificar=function(opcion,datos){var defered=$q.defer();var promise=defered.promise;$http.post("/app/impuesto/modificar/",datos).then(function(res){defered.resolve(res)}).catch(function(res){defered.reject(res)});return promise};this.borrarImpuesto=function(opcion,id){var defered=$q.defer();var promise=defered.promise;$http.get("/app/impuesto/borrar/"+id).then(function(res){defered.resolve(res)}).catch(function(res){defered.reject(res)});return promise}}]).service("designerService",["$http","$q",function($http,$q){this.listarLogos=function(){var defered=$q.defer();var promise=defered.promise;var datos={estado:"Por Aprobar"};$http.post("/app/logos/por-aprobar",datos).then(function(res){if(res==undefined)return defered.reject(res);defered.resolve(res.data)}).catch(function(res){defered.reject(res)});return promise};this.aprobarLogo=function(id){var defered=$q.defer();var promise=defered.promise;var datos={idLogo:id};$http.post("/app/logo/aprobar",datos).then(function(res){defered.resolve(res)}).catch(function(res){defered.reject(res)});return promise};this.borrarLogo=function(id){var defered=$q.defer();var promise=defered.promise;$http.get("/app/logo/borrar/"+id).then(function(res){defered.resolve(res)}).catch(function(res){defered.reject(res)});return promise};this.destacado=function(datos){var defered=$q.defer();var promise=defered.promise;$http.post("/app/logo/destacar",datos).then(function(res){defered.resolve(res)}).catch(function(res){defered.reject(res)});return promise};this.calificarLogo=function(datos){var defered=$q.defer();var promise=defered.promise;$http.post("/app/logo/calificar-admin/",datos).then(function(res){defered.resolve(res)}).catch(function(res){defered.reject(res)});return promise};this.listarDisenadores=function(){var defered=$q.defer();var promise=defered.promise;$http.get("/app/clientes/freelancer").then(function(res){defered.resolve(res.data)}).catch(function(res){defered.reject(res)});return promise};this.logosDisenador=function(id){var defered=$q.defer();var promise=defered.promise;$http.get("/app/logos/"+id+"/aprobados").then(function(res){defered.resolve(res.data)}).catch(function(res){defered.reject(res)});return promise};this.historialDisenador=function(id){var defered=$q.defer();var promise=defered.promise;$http.get("/app/cliente/"+id+"/pagos").then(function(res){defered.resolve(res)}).catch(function(res){defered.reject(res)});return promise};this.notificarPago=function(datos){var defered=$q.defer();var promise=defered.promise;$http.post("/app/cliente/pago",datos).then(function(res){defered.resolve(res)}).catch(function(res){defered.reject(res)});return promise};this.bloquearDisenador=function(id){var defered=$q.defer();var promise=defered.promise;$http.get("/app/cliente/bloquear/"+id).then(function(res){defered.resolve(res)}).catch(function(res){defered.reject(res)});return promise}}]).service("etiquetasService",["$http","$q",function($http,$q){this.listarLogos=function(datos){var defered=$q.defer();var promise=defered.promise;$http.post("/app/elementos/categoria",datos).then(function(res){if(res==undefined){return defered.reject(res)}defered.resolve(res)}).catch(function(res){defered.reject(res)});return promise};this.listarEtiquetas=function(){var defered=$q.defer();var promise=defered.promise;$http.get("/app/etiquetas").then(function(res){if(res==undefined){return defered.reject(res)}defered.resolve(res)}).catch(function(res){defered.reject(res)});return promise};this.listarIconosEtiqueta=function(id){var defered=$q.defer();var promise=defered.promise;$http.get("/app/etiquetas/iconos/svg/"+id).then(function(res){if(res==undefined){return defered.reject(res)}defered.resolve(res)}).catch(function(res){defered.reject(res)});return promise};this.obtenerPorIcono=function(id){var defered=$q.defer();var promise=defered.promise;$http.get("/app/iconos/"+id+"/etiquetas").then(function(res){if(res==undefined){return defered.reject(res)}defered.resolve(res)}).catch(function(res){defered.reject(res)});return promise};this.guardarEtiqueta=function(datos){var defered=$q.defer();var promise=defered.promise;$http.post("/app/etiquetas",datos).then(function(res){if(res==undefined){return defered.reject(res)}defered.resolve(res)}).catch(function(res){defered.reject(res)});return promise};this.guardarEtiquetaIconos=function(datos){var defered=$q.defer();var promise=defered.promise;$http.post("/app/etiquetas/iconos",datos).then(function(res){if(res==undefined){return defered.reject(res)}defered.resolve(res)}).catch(function(res){defered.reject(res)});return promise};this.borrarEtiqueta=function(id){var defered=$q.defer();var promise=defered.promise;$http.get("/app/etiquetas/borrar/"+id).then(function(res){if(res==undefined){return defered.reject(res)}defered.resolve(res)}).catch(function(res){defered.reject(res)});return promise};this.desvincularIconos=function(datos){var defered=$q.defer();var promise=defered.promise;$http.post("/app/etiquetas/"+datos._id+"/iconos/desasignar",datos).then(function(res){if(res==undefined){return defered.reject(res)}defered.resolve(res)}).catch(function(res){defered.reject(res)});return promise};this.actualizarEtiqueta=function(datos){var defered=$q.defer();var promise=defered.promise;$http.post("/app/etiquetas/modificar",datos).then(function(res){if(res==undefined){return defered.reject(res)}defered.resolve(res)}).catch(function(res){defered.reject(res)});return promise};this.loadEtiquetas=function(arr){var etiquetas=[];angular.forEach(arr,function(valor){etiquetas.push({_id:valor._id,traduccion:valor.traducciones[0]})});return etiquetas.map(function(et){et.traduccion._lowername=et.traduccion.valor.toLowerCase();return et})};this.transformChip=function(chip){if(angular.isObject(chip)){return chip}return{valor:chip}};this.querySearch=function(query,etiquetas){var results=query?etiquetas.filter(createFilterFor(query)):[];return results};function createFilterFor(query){var lowercaseQuery=query.toLowerCase();return function filterFn(etiqueta){return etiqueta.traduccion._lowername.indexOf(lowercaseQuery)===0}}}]).service("notificacionService",["$http","$q","$mdToast",function($http,$q,$mdToast){this.mensaje=function(mensaje){$mdToast.show($mdToast.simple().textContent(mensaje).position("bottom right").hideDelay(3e3))}}]).factory("AuthInterceptor",function($window,$q,$rootScope,clienteDatosFactory){function salir(){$rootScope.$broadcast("sesionExpiro")}function autorizado(){if(clienteDatosFactory.obtener()){$rootScope.$broadcast("sesionInicio","true");return clienteDatosFactory.obtener()}else{if($window.localStorage.getItem("bzTokenAdmin")){$rootScope.$broadcast("sesionInicio","true");clienteDatosFactory.definir(angular.fromJson($window.localStorage.getItem("bzToken")));return clienteDatosFactory.obtener()}else{return false}}}return{request:function(config){if(config.url=="http://ip-api.com/json/"){return config}else{config.headers=config.headers||{};if(autorizado()){config.headers.auth=autorizado().token}return config||$q.when(config)}},response:function(response){return response||$q.when(response)},responseError:function(response){if(response.status===401||response.status===403){salir()}}}}).service("paisesService",["$http","$q",function($http,$q){this.listarPaises=function(){var defered=$q.defer();var promise=defered.promise;$http.get("/app/paises").then(function(res){defered.resolve(res)}).catch(function(res){defered.reject(res)});return promise};this.borrarPais=function(id){var defered=$q.defer();var promise=defered.promise;$http.get("/app/pais/borrar/"+id).then(function(res){defered.resolve(res)}).catch(function(res){defered.reject(res.data.msg)});return promise};this.modificarPais=function(datos){var defered=$q.defer();var promise=defered.promise;$http.post("/app/pais/modificar",datos).then(function(res){defered.resolve(res)}).catch(function(res){defered.reject(res.data.msg)});return promise};this.guardarPais=function(datos){var defered=$q.defer();var promise=defered.promise;$http.post("/app/pais",datos).then(function(res){defered.resolve(res)}).catch(function(res){defered.reject(res.data.msg)});return promise};this.asignarMoneda=function(datos){var defered=$q.defer();var promise=defered.promise;$http.post("/app/pais/moneda",datos).then(function(res){defered.resolve(res)}).catch(function(res){defered.reject(res.data.msg)});return promise};this.desasignarMoneda=function(datos){var defered=$q.defer();var promise=defered.promise;$http.post("/app/pais/moneda/desasignar",datos).then(function(res){defered.resolve(res)}).catch(function(res){defered.reject(res.data.msg)});return promise};this.paisMonedas=function(id){var defered=$q.defer();var promise=defered.promise;$http.get("/app/pais/monedas/"+id).then(function(res){defered.resolve(res)}).catch(function(res){defered.reject(res.data.msg)});return promise}}]).service("monedasService",["$http","$q",function($http,$q){this.listarMonedas=function(){var defered=$q.defer();var promise=defered.promise;$http.get("/app/monedas").then(function(res){defered.resolve(res)}).catch(function(res){defered.reject(res.data.msg)});return promise};this.guardarMoneda=function(datos){var defered=$q.defer();var promise=defered.promise;$http.post("/app/moneda",datos).then(function(res){defered.resolve(res)}).catch(function(res){defered.reject(res.data.msg)});return promise};this.modificarMoneda=function(datos){var defered=$q.defer();var promise=defered.promise;$http.post("/app/moneda/modificar",datos).then(function(res){defered.resolve(res)}).catch(function(res){defered.reject(res.data.msg)});return promise};this.borrarMoneda=function(id){var defered=$q.defer();var promise=defered.promise;$http.get("/app/moneda/borrar"+id).then(function(res){defered.resolve(res)}).catch(function(res){defered.reject(res.data.msg)});return promise}}]).service("pasarelasService",["$http","$q",function($http,$q){this.listarPasarelas=function(){var defered=$q.defer();var promise=defered.promise;$http.get("/app/pasarelas").then(function(res){defered.resolve(res)}).catch(function(res){defered.reject(res.data.msg)});return promise};this.guardarPasarela=function(datos){var defered=$q.defer();var promise=defered.promise;$http.post("/app/pasarela",datos).then(function(res){defered.resolve(res)}).catch(function(res){defered.reject(res.data.msg)});return promise};this.modificarPasarela=function(datos){var defered=$q.defer();var promise=defered.promise;$http.post("/app/pasarela/modificar",datos).then(function(res){defered.resolve(res)}).catch(function(res){defered.reject(res.data.msg)});return promise};this.asignarMoneda=function(datos){var defered=$q.defer();var promise=defered.promise;$http.post("/app/pasarela/moneda",datos).then(function(res){defered.resolve(res)}).catch(function(res){defered.reject(res.data.msg)});return promise};this.desasignarMoneda=function(datos){var defered=$q.defer();var promise=defered.promise;$http.post("/app/pasarela/moneda/desasignar",datos).then(function(res){defered.resolve(res)}).catch(function(res){defered.reject(res.data.msg)});return promise};this.pasarelaMonedas=function(id){var defered=$q.defer();var promise=defered.promise;$http.get("/app/pasarela/monedas/"+id).then(function(res){defered.resolve(res)}).catch(function(res){defered.reject(res.data.msg)});return promise}}]).filter("unique",function(){return function(items,filterOn){if(filterOn===false){return items}if((filterOn||angular.isUndefined(filterOn))&&angular.isArray(items)){newItems=[];var extractValueToCompare=function(item){if(angular.isObject(item)&&angular.isString(filterOn)){return item[filterOn]}else{return item}};angular.forEach(items,function(item){var isDuplicate=false;for(var i=0;i<newItems.length;i++){if(angular.equals(extractValueToCompare(newItems[i]),extractValueToCompare(item))){isDuplicate=true;break}}if(!isDuplicate){newItems.push(item)}});items=newItems}return items}}).value("caracteristicasValue",[{clave:"resolucion",valor:false,descripcion:"Logo en Alta Resolución."},{clave:"png",valor:false,descripcion:"Archivo Png Transparente."},{clave:"licencia",valor:false,descripcion:"Licencia comercial."},{clave:"copia",valor:false,descripcion:"Copia de seguridad de por vida."},{clave:"tamanios",valor:false,descripcion:"Tamaño del logo adaptado a papeleria y redes sociales."},{clave:"editable",valor:false,descripcion:"Archivo editable con la  tipografia incluida."},{clave:"manual",valor:false,descripcion:"Manual de marca."}]).value("monedasValue",{USD:{symbol:"$",nombre:"Dólar estadounidense",name:"US Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"USD"},CAD:{symbol:"CA$",nombre:"Dólar canadiense",name:"Canadian Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"CAD"},EUR:{symbol:"€",nombre:"Euro",name:"Euro",symbol_native:"€",decimal_digits:2,rounding:0,code:"EUR"},AED:{symbol:"AED",nombre:"Dirham de los Emiratos Árabes Unidos",name:"United Arab Emirates Dirham",symbol_native:"د.إ.‏",decimal_digits:2,rounding:0,code:"AED"},AFN:{symbol:"Af",nombre:"Afgani afgano",name:"Afghan Afghani",symbol_native:"؋",decimal_digits:0,rounding:0,code:"AFN"},ALL:{symbol:"ALL",nombre:"Lek albanés",name:"Albanian Lek",symbol_native:"Lek",decimal_digits:0,rounding:0,code:"ALL"},AMD:{symbol:"AMD",nombre:"Dram armenio",name:"Armenian Dram",symbol_native:"դր.",decimal_digits:0,rounding:0,code:"AMD"},ARS:{symbol:"AR$",nombre:"Peso Argentino",name:"Argentine Peso",symbol_native:"$",decimal_digits:2,rounding:0,code:"ARS"},AUD:{symbol:"AU$",nombre:"Dólar australiano",name:"Australian Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"AUD"},AZN:{symbol:"man.",nombre:"Manat azerí",name:"Azerbaijani Manat",symbol_native:"ман.",decimal_digits:2,rounding:0,code:"AZN"},BAM:{symbol:"KM",nombre:"Marco convertible",name:"Bosnia-Herzegovina Convertible Mark",symbol_native:"KM",decimal_digits:2,rounding:0,code:"BAM"},BDT:{symbol:"Tk",nombre:"Taka bangladeshí",name:"Bangladeshi Taka",symbol_native:"৳",decimal_digits:2,rounding:0,code:"BDT"},BGN:{symbol:"BGN",nombre:"Lev búlgaro",name:"Bulgarian Lev",symbol_native:"лв.",decimal_digits:2,rounding:0,code:"BGN"},BHD:{symbol:"BD",nombre:"Dinar bahreiní",name:"Bahraini Dinar",symbol_native:"د.ب.‏",decimal_digits:3,rounding:0,code:"BHD"},BIF:{symbol:"FBu",nombre:"Franco de Burundi",name:"Burundian Franc",symbol_native:"FBu",decimal_digits:0,rounding:0,code:"BIF"},BND:{symbol:"BN$",nombre:"Dólar de Brunéi",name:"Brunei Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"BND"},BOB:{symbol:"Bs",nombre:"Boliviano",name:"Bolivian Boliviano",symbol_native:"Bs",decimal_digits:2,rounding:0,code:"BOB"},BRL:{symbol:"R$",nombre:"Real brasileño",name:"Brazilian Real",symbol_native:"R$",decimal_digits:2,rounding:0,code:"BRL"},BWP:{symbol:"BWP",nombre:"Pula",name:"Belarusian Ruble",symbol_native:"P",decimal_digits:2,rounding:0,code:"BWP"},BYR:{symbol:"BYR",nombre:"Belarusian Ruble",name:"Belarusian Ruble",symbol_native:"BYR",decimal_digits:0,rounding:0,code:"BYR"},BZD:{symbol:"BZ$",nombre:"Dólar beliceño",name:"Belize Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"BZD"},CDF:{symbol:"CDF",nombre:"Franco congoleño",name:"Congolese Franc",symbol_native:"FrCD",decimal_digits:2,rounding:0,code:"CDF"},CHF:{symbol:"CHF",nombre:"Franco suizo",name:"Swiss Franc",symbol_native:"CHF",decimal_digits:2,rounding:.05,code:"CHF"},CLP:{symbol:"CL$",nombre:"Peso chileno",name:"Chilean Peso",symbol_native:"$",decimal_digits:0,rounding:0,code:"CLP"},CNY:{symbol:"CN¥",nombre:"Yuan chino",name:"Chinese Yuan",symbol_native:"CN¥",decimal_digits:2,rounding:0,code:"CNY"},COP:{symbol:"CO$",nombre:"Peso Colombiano",name:"Colombian Peso",symbol_native:"$",decimal_digits:0,rounding:0,code:"COP"},CRC:{symbol:"₡",nombre:"Colón costarricense",name:"Costa Rican Colón",symbol_native:"₡",decimal_digits:0,rounding:0,code:"CRC"},CVE:{symbol:"CV$",nombre:"Escudo caboverdiano",name:"Cape Verdean Escudo",symbol_native:"CV$",decimal_digits:2,rounding:0,code:"CVE"},CZK:{symbol:"Kč",nombre:"Corona checa",name:"Czech Republic Koruna",symbol_native:"Kč",decimal_digits:2,rounding:0,code:"CZK"},DJF:{symbol:"Fdj",nombre:"Franco yibutiano",name:"Djiboutian Franc",symbol_native:"Fdj",decimal_digits:0,rounding:0,code:"DJF"},DKK:{symbol:"Dkr",nombre:"Corona danesa",name:"Danish Krone",symbol_native:"kr",decimal_digits:2,rounding:0,code:"DKK"},DOP:{symbol:"RD$",nombre:"Peso Dominicano",name:"Dominican Peso",symbol_native:"RD$",decimal_digits:2,rounding:0,code:"DOP"},DZD:{symbol:"DA",nombre:"Dinar argelino",name:"Algerian Dinar",symbol_native:"د.ج.‏",decimal_digits:2,rounding:0,code:"DZD",name_plural:"Algerian dinars"},EEK:{symbol:"Ekr",nombre:"Estonian Kroon",name:"Estonian Kroon",symbol_native:"kr",decimal_digits:2,rounding:0,code:"EEK",name_plural:"Estonian kroons"},EGP:{symbol:"EGP",name:"Egyptian Pound",nombre:"Libra egipcia",symbol_native:"ج.م.‏",decimal_digits:2,rounding:0,code:"EGP",name_plural:"Egyptian pounds"},ERN:{symbol:"Nfk",nombre:"Nakfa",name:"Eritrean Nakfa",symbol_native:"Nfk",decimal_digits:2,rounding:0,code:"ERN",name_plural:"Eritrean nakfas"},ETB:{symbol:"Br",nombre:"Birr etíope",name:"Ethiopian Birr",symbol_native:"Br",decimal_digits:2,rounding:0,code:"ETB",name_plural:"Ethiopian birrs"},GBP:{symbol:"£",nombre:"Libra británica",name:"British Pound Sterling",symbol_native:"£",decimal_digits:2,rounding:0,code:"GBP",name_plural:"British pounds sterling"},GEL:{symbol:"GEL",nombre:"Lari georgiano",name:"Georgian Lari",symbol_native:"GEL",decimal_digits:2,rounding:0,code:"GEL",name_plural:"Georgian laris"},GHS:{symbol:"GH₵",nombre:"Cedi",name:"Ghanaian Cedi",symbol_native:"GH₵",decimal_digits:2,rounding:0,code:"GHS",name_plural:"Ghanaian cedis"},GNF:{symbol:"FG",nombre:"Franco guineano",name:"Guinean Franc",symbol_native:"FG",decimal_digits:0,rounding:0,code:"GNF",name_plural:"Guinean francs"},GTQ:{symbol:"GTQ",nombre:"Quetzal guatemalteco",name:"Guatemalan Quetzal",symbol_native:"Q",decimal_digits:2,rounding:0,code:"GTQ",name_plural:"Guatemalan quetzals"},HKD:{symbol:"HK$",nombre:"Hong Kong Dolar",name:"Hong Kong Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"HKD",name_plural:"Hong Kong dollars"},HNL:{symbol:"HNL",nombre:"Lempira hondureño",name:"Honduran Lempira",symbol_native:"L",decimal_digits:2,rounding:0,code:"HNL",name_plural:"Honduran lempiras"},HRK:{symbol:"kn",nombre:"Kuna croata",name:"Croatian Kuna",symbol_native:"kn",decimal_digits:2,rounding:0,code:"HRK",name_plural:"Croatian kunas"},HUF:{symbol:"Ft",nombre:"Forinto húngaro",name:"Hungarian Forint",symbol_native:"Ft",decimal_digits:0,rounding:0,code:"HUF",name_plural:"Hungarian forints"},IDR:{symbol:"Rp",nombre:"Rupia indonesia",name:"Indonesian Rupiah",symbol_native:"Rp",decimal_digits:0,rounding:0,code:"IDR",name_plural:"Indonesian rupiahs"},ILS:{symbol:"₪",nombre:"Nuevo shéquel",name:"Israeli New Sheqel",symbol_native:"₪",decimal_digits:2,rounding:0,code:"ILS",name_plural:"Israeli new sheqels"},INR:{symbol:"Rs",nombre:"Rupia india",name:"Indian Rupee",symbol_native:"টকা",decimal_digits:2,rounding:0,code:"INR",name_plural:"Indian rupees"},IQD:{symbol:"IQD",nombre:"Dinar iraquí",name:"Iraqi Dinar",symbol_native:"د.ع.‏",decimal_digits:0,rounding:0,code:"IQD",name_plural:"Iraqi dinars"},IRR:{symbol:"IRR",nombre:"Rial iraní",name:"Iranian Rial",symbol_native:"﷼",decimal_digits:0,rounding:0,code:"IRR",name_plural:"Iranian rials"},ISK:{symbol:"Ikr",nombre:"Corona islandes",name:"Icelandic Króna",symbol_native:"kr",decimal_digits:0,rounding:0,code:"ISK",name_plural:"Icelandic krónur"},JMD:{symbol:"J$",nombre:"Dólar jamaiquino",name:"Jamaican Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"JMD",name_plural:"Jamaican dollars"},JOD:{symbol:"JD",nombre:"Dinar jordano",name:"Jordanian Dinar",symbol_native:"د.أ.‏",decimal_digits:3,rounding:0,code:"JOD",name_plural:"Jordanian dinars"},JPY:{symbol:"¥",nombre:"Yen",name:"Japanese Yen",symbol_native:"￥",decimal_digits:0,rounding:0,code:"JPY",name_plural:"Japanese yen"},KES:{symbol:"Ksh",nombre:"Chelín keniano",name:"Kenyan Shilling",symbol_native:"Ksh",decimal_digits:2,rounding:0,code:"KES",name_plural:"Kenyan shillings"},KHR:{symbol:"KHR",nombre:"Riel camboyano",name:"Cambodian Riel",symbol_native:"៛",decimal_digits:2,rounding:0,code:"KHR",name_plural:"Cambodian riels"},KMF:{symbol:"CF",nombre:"Franco comorano",name:"Comorian Franc",symbol_native:"FC",decimal_digits:0,rounding:0,code:"KMF",name_plural:"Comorian francs"},KRW:{symbol:"₩",nombre:"Won surcoreano",name:"South Korean Won",symbol_native:"₩",decimal_digits:0,rounding:0,code:"KRW",name_plural:"South Korean won"},KWD:{symbol:"KD",nombre:"Dinar kuwaití",name:"Kuwaiti Dinar",symbol_native:"د.ك.‏",decimal_digits:3,rounding:0,code:"KWD",name_plural:"Kuwaiti dinars"},KZT:{symbol:"KZT",nombre:"Tenge kazajo",name:"Kazakhstani Tenge",symbol_native:"тңг.",decimal_digits:2,rounding:0,code:"KZT",name_plural:"Kazakhstani tenges"},LBP:{symbol:"LB£",nombre:"Libra libanesa",name:"Lebanese Pound",symbol_native:"ل.ل.‏",decimal_digits:0,rounding:0,code:"LBP",name_plural:"Lebanese pounds"},LKR:{symbol:"SLRs",nombre:"Rupia de Sri Lanka",name:"Sri Lankan Rupee",symbol_native:"SL Re",decimal_digits:2,rounding:0,code:"LKR",name_plural:"Sri Lankan rupees"},LTL:{symbol:"Lt",nombre:"Lithuanian Litas",name:"Lithuanian Litas",symbol_native:"Lt",decimal_digits:2,rounding:0,code:"LTL",name_plural:"Lithuanian litai"},LVL:{symbol:"Ls",nombre:"Latvian Lats",name:"Latvian Lats",symbol_native:"Ls",decimal_digits:2,rounding:0,code:"LVL",name_plural:"Latvian lati"},LYD:{symbol:"LD",nombre:"Dinar libio",name:"Libyan Dinar",symbol_native:"د.ل.‏",decimal_digits:3,rounding:0,code:"LYD",name_plural:"Libyan dinars"},MAD:{symbol:"MAD",nombre:"Dirham marroquí",name:"Moroccan Dirham",symbol_native:"د.م.‏",decimal_digits:2,rounding:0,code:"MAD",name_plural:"Moroccan dirhams"},MDL:{symbol:"MDL",nombre:"Leu moldavo",name:"Moldovan Leu",symbol_native:"MDL",decimal_digits:2,rounding:0,code:"MDL",name_plural:"Moldovan lei"},MGA:{symbol:"MGA",nombre:"Ariary malgache",name:"Malagasy Ariary",symbol_native:"MGA",decimal_digits:0,rounding:0,code:"MGA",name_plural:"Malagasy Ariaries"},MKD:{symbol:"MKD",nombre:"Denar macedonio",name:"Macedonian Denar",symbol_native:"MKD",decimal_digits:2,rounding:0,code:"MKD",name_plural:"Macedonian denari"},MMK:{symbol:"MMK",nombre:"Kyat birmano",name:"Myanma Kyat",symbol_native:"K",decimal_digits:0,rounding:0,code:"MMK",name_plural:"Myanma kyats"},MOP:{symbol:"MOP$",nombre:"Macanese Pataca",name:"Macanese Pataca",symbol_native:"MOP$",decimal_digits:2,rounding:0,code:"MOP",name_plural:"Macanese patacas"},MUR:{symbol:"MURs",nombre:"Rupia de Mauricio",name:"Mauritian Rupee",symbol_native:"MURs",decimal_digits:0,rounding:0,code:"MUR",name_plural:"Mauritian rupees"},MXN:{symbol:"MX$",nombre:"Peso mexicano",name:"Mexican Peso",symbol_native:"$",decimal_digits:2,rounding:0,code:"MXN",name_plural:"Mexican pesos"},MYR:{symbol:"RM",nombre:"Ringgit malayo",name:"Malaysian Ringgit",symbol_native:"RM",decimal_digits:2,rounding:0,code:"MYR",name_plural:"Malaysian ringgits"},MZN:{symbol:"MTn",nombre:"Metical mozambiqueño",name:"Mozambican Metical",symbol_native:"MTn",decimal_digits:2,rounding:0,code:"MZN",name_plural:"Mozambican meticals"},NAD:{symbol:"N$",nombre:"Dólar namibio",name:"Namibian Dollar",symbol_native:"N$",decimal_digits:2,rounding:0,code:"NAD",name_plural:"Namibian dollars"},NGN:{symbol:"₦",nombre:"Naira",name:"Nigerian Naira",symbol_native:"₦",decimal_digits:2,rounding:0,code:"NGN",name_plural:"Nigerian nairas"},NIO:{symbol:"C$",nombre:"Córdoba nicaragüense",name:"Nicaraguan Córdoba",symbol_native:"C$",decimal_digits:2,rounding:0,code:"NIO",name_plural:"Nicaraguan córdobas"},NOK:{symbol:"Nkr",nombre:"Corona noruega",name:"Norwegian Krone",symbol_native:"kr",decimal_digits:2,rounding:0,code:"NOK",name_plural:"Norwegian kroner"},NPR:{symbol:"NPRs",nombre:"Rupia nepalí",name:"Nepalese Rupee",symbol_native:"नेरू",decimal_digits:2,rounding:0,code:"NPR",name_plural:"Nepalese rupees"},NZD:{symbol:"NZ$",nombre:"Dólar neozelandés",name:"New Zealand Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"NZD",name_plural:"New Zealand dollars"},OMR:{symbol:"OMR",nombre:"Rial omaní",name:"Omani Rial",symbol_native:"ر.ع.‏",decimal_digits:3,rounding:0,code:"OMR",name_plural:"Omani rials"},PAB:{symbol:"B/.",nombre:"Balboa panameño",name:"Panamanian Balboa",symbol_native:"B/.",decimal_digits:2,rounding:0,code:"PAB",name_plural:"Panamanian balboas"},PEN:{symbol:"S/.",nombre:"Nuevo sol",name:"Peruvian Nuevo Sol",symbol_native:"S/.",decimal_digits:2,rounding:0,code:"PEN",name_plural:"Peruvian nuevos soles"},PHP:{symbol:"₱",nombre:"Peso filipino",name:"Philippine Peso",symbol_native:"₱",decimal_digits:2,rounding:0,code:"PHP",name_plural:"Philippine pesos"},PKR:{symbol:"PKRs",nombre:"Rupia pakistaní",name:"Pakistani Rupee",symbol_native:"₨",decimal_digits:0,rounding:0,code:"PKR",name_plural:"Pakistani rupees"},PLN:{symbol:"zł",nombre:"Zloty",name:"Polish Zloty",symbol_native:"zł",decimal_digits:2,rounding:0,code:"PLN",name_plural:"Polish zlotys"},PYG:{symbol:"₲",nombre:"Guaraní",name:"Paraguayan Guarani",symbol_native:"₲",decimal_digits:0,rounding:0,code:"PYG",name_plural:"Paraguayan guaranis"},QAR:{symbol:"QR",nombre:"Riyal qatarí",name:"Qatari Rial",symbol_native:"ر.ق.‏",decimal_digits:2,rounding:0,code:"QAR",name_plural:"Qatari rials"},RON:{symbol:"RON",nombre:"Leu rumano",name:"Romanian Leu",symbol_native:"RON",decimal_digits:2,rounding:0,code:"RON",name_plural:"Romanian lei"},RSD:{symbol:"din.",nombre:"Dinar serbio",name:"Serbian Dinar",symbol_native:"дин.",decimal_digits:0,rounding:0,code:"RSD",name_plural:"Serbian dinars"},RUB:{symbol:"RUB",nombre:"Rublo ruso",name:"Russian Ruble",symbol_native:"руб.",decimal_digits:2,rounding:0,code:"RUB",name_plural:"Russian rubles"},RWF:{symbol:"RWF",nombre:"Franco ruandés",name:"Rwandan Franc",symbol_native:"FR",decimal_digits:0,rounding:0,code:"RWF",name_plural:"Rwandan francs"},SAR:{symbol:"SR",nombre:"Riyal saudí",name:"Saudi Riyal",symbol_native:"ر.س.‏",decimal_digits:2,rounding:0,code:"SAR",name_plural:"Saudi riyals"},SDG:{symbol:"SDG",nombre:"Libra sudanesa",name:"Sudanese Pound",symbol_native:"SDG",decimal_digits:2,rounding:0,code:"SDG",name_plural:"Sudanese pounds"},SEK:{symbol:"Skr",nombre:"Corona sueca",name:"Swedish Krona",symbol_native:"kr",decimal_digits:2,rounding:0,code:"SEK",name_plural:"Swedish kronor"},SGD:{symbol:"S$",nombre:"Dólar de Singapur",name:"Singapore Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"SGD",name_plural:"Singapore dollars"},SOS:{symbol:"Ssh",nombre:"Chelín somalí",name:"Somali Shilling",symbol_native:"Ssh",decimal_digits:0,rounding:0,code:"SOS",name_plural:"Somali shillings"},SYP:{symbol:"SY£",nombre:"Libra siria",name:"Syrian Pound",symbol_native:"ل.س.‏",decimal_digits:0,rounding:0,code:"SYP",name_plural:"Syrian pounds"},THB:{symbol:"฿",nombre:"Baht tailandés",name:"Thai Baht",symbol_native:"฿",decimal_digits:2,rounding:0,code:"THB",name_plural:"Thai baht"},TND:{symbol:"DT",nombre:"Dinar tunecino",name:"Tunisian Dinar",symbol_native:"د.ت.‏",decimal_digits:3,rounding:0,code:"TND",name_plural:"Tunisian dinars"},TOP:{symbol:"T$",nombre:"Pa'anga",name:"Tongan Paʻanga",symbol_native:"T$",decimal_digits:2,rounding:0,code:"TOP",name_plural:"Tongan paʻanga"},TRY:{symbol:"TL",nombre:"Lira turca",name:"Turkish Lira",symbol_native:"TL",decimal_digits:2,rounding:0,code:"TRY",name_plural:"Turkish Lira"},TTD:{symbol:"TT$",nombre:"Dólar trinitense",name:"Trinidad and Tobago Dollar",symbol_native:"$",decimal_digits:2,rounding:0,code:"TTD",name_plural:"Trinidad and Tobago dollars"},TWD:{symbol:"NT$",nombre:"Nuevo dólar taiwanés",name:"New Taiwan Dollar",symbol_native:"NT$",decimal_digits:2,rounding:0,code:"TWD",name_plural:"New Taiwan dollars"},TZS:{symbol:"TSh",nombre:"Chelín tanzano",name:"Tanzanian Shilling",symbol_native:"TSh",decimal_digits:0,rounding:0,code:"TZS",name_plural:"Tanzanian shillings"},UAH:{symbol:"₴",nombre:"Grivna",name:"Ukrainian Hryvnia",symbol_native:"₴",decimal_digits:2,rounding:0,code:"UAH",name_plural:"Ukrainian hryvnias"},UGX:{symbol:"USh",nombre:"Chelín ugandés",name:"Ugandan Shilling",symbol_native:"USh",decimal_digits:0,rounding:0,code:"UGX",name_plural:"Ugandan shillings"},UYU:{symbol:"$U",nombre:"Peso uruguayo",name:"Uruguayan Peso",symbol_native:"$",decimal_digits:2,rounding:0,code:"UYU",name_plural:"Uruguayan pesos"},UZS:{symbol:"UZS",nombre:"Som uzbeko",name:"Uzbekistan Som",symbol_native:"UZS",decimal_digits:0,rounding:0,code:"UZS",name_plural:"Uzbekistan som"},VEF:{symbol:"Bs.F.",nombre:"Bolívar fuerte",name:"Venezuelan Bolívar",symbol_native:"Bs.F.",decimal_digits:2,rounding:0,code:"VEF",name_plural:"Venezuelan bolívars"},VND:{symbol:"₫",nombre:"Dong vietnamita",name:"Vietnamese Dong",symbol_native:"₫",decimal_digits:0,rounding:0,code:"VND",name_plural:"Vietnamese dong"},XAF:{symbol:"FCFA",nombre:"Franco CFA de África Central",name:"CFA Franc BEAC",symbol_native:"FCFA",decimal_digits:0,rounding:0,code:"XAF",name_plural:"CFA francs BEAC"},XOF:{symbol:"CFA",nombre:"Franco CFA de África Occidental",name:"CFA Franc BCEAO",symbol_native:"CFA",decimal_digits:0,rounding:0,code:"XOF",name_plural:"CFA francs BCEAO"},YER:{symbol:"YR",nombre:"Rial yemení",name:"Yemeni Rial",symbol_native:"ر.ي.‏",decimal_digits:0,rounding:0,code:"YER",name_plural:"Yemeni rials"},ZAR:{symbol:"R",nombre:"\tRand sudafricano",name:"South African Rand",symbol_native:"R",decimal_digits:2,rounding:0,code:"ZAR",name_plural:"South African rand"},ZMK:{symbol:"ZK",nombre:"Kwacha zambiano",name:"Zambian Kwacha",symbol_native:"ZK",decimal_digits:0,rounding:0,code:"ZMK",name_plural:"Zambian kwachas"}}).value("paisesValue",{BD:"Bangladesh",BE:"Belgium",BF:"Burkina Faso",BG:"Bulgaria",BA:"Bosnia and Herzegovina",BB:"Barbados",WF:"Wallis and Futuna",BL:"Saint Barthelemy",BM:"Bermuda",BN:"Brunei",BO:"Bolivia",BH:"Bahrain",BI:"Burundi",BJ:"Benin",BT:"Bhutan",JM:"Jamaica",BV:"Bouvet Island",BW:"Botswana",WS:"Samoa",BQ:"Bonaire, Saint Eustatius and Saba ",BR:"Brazil",BS:"Bahamas",JE:"Jersey",BY:"Belarus",BZ:"Belize",RU:"Russia",RW:"Rwanda",RS:"Serbia",TL:"East Timor",RE:"Reunion",TM:"Turkmenistan",TJ:"Tajikistan",RO:"Romania",TK:"Tokelau",GW:"Guinea-Bissau",GU:"Guam",GT:"Guatemala",GS:"South Georgia and the South Sandwich Islands",GR:"Greece",GQ:"Equatorial Guinea",GP:"Guadeloupe",JP:"Japan",GY:"Guyana",GG:"Guernsey",GF:"French Guiana",GE:"Georgia",GD:"Grenada",GB:"United Kingdom",GA:"Gabon",SV:"El Salvador",GN:"Guinea",GM:"Gambia",GL:"Greenland",GI:"Gibraltar",GH:"Ghana",OM:"Oman",TN:"Tunisia",JO:"Jordan",HR:"Croatia",HT:"Haiti",HU:"Hungary",HK:"Hong Kong",HN:"Honduras",HM:"Heard Island and McDonald Islands",VE:"Venezuela",PR:"Puerto Rico",PS:"Palestinian Territory",PW:"Palau",PT:"Portugal",SJ:"Svalbard and Jan Mayen",PY:"Paraguay",IQ:"Iraq",PA:"Panama",PF:"French Polynesia",PG:"Papua New Guinea",PE:"Peru",PK:"Pakistan",PH:"Philippines",PN:"Pitcairn",PL:"Poland",PM:"Saint Pierre and Miquelon",ZM:"Zambia",EH:"Western Sahara",EE:"Estonia",EG:"Egypt",ZA:"South Africa",EC:"Ecuador",IT:"Italy",VN:"Vietnam",SB:"Solomon Islands",ET:"Ethiopia",SO:"Somalia",ZW:"Zimbabwe",SA:"Saudi Arabia",ES:"Spain",ER:"Eritrea",ME:"Montenegro",MD:"Moldova",MG:"Madagascar",MF:"Saint Martin",MA:"Morocco",MC:"Monaco",UZ:"Uzbekistan",MM:"Myanmar",ML:"Mali",MO:"Macao",MN:"Mongolia",MH:"Marshall Islands",MK:"Macedonia",MU:"Mauritius",MT:"Malta",MW:"Malawi",MV:"Maldives",MQ:"Martinique",MP:"Northern Mariana Islands",MS:"Montserrat",MR:"Mauritania",IM:"Isle of Man",UG:"Uganda",TZ:"Tanzania",MY:"Malaysia",MX:"Mexico",IL:"Israel",FR:"France",IO:"British Indian Ocean Territory",SH:"Saint Helena",FI:"Finland",FJ:"Fiji",FK:"Falkland Islands",FM:"Micronesia",FO:"Faroe Islands",NI:"Nicaragua",NL:"Netherlands",NO:"Norway",NA:"Namibia",VU:"Vanuatu",NC:"New Caledonia",NE:"Niger",NF:"Norfolk Island",NG:"Nigeria",NZ:"New Zealand",NP:"Nepal",NR:"Nauru",NU:"Niue",CK:"Cook Islands",XK:"Kosovo",CI:"Ivory Coast",CH:"Switzerland",CO:"Colombia",CN:"China",CM:"Cameroon",CL:"Chile",CC:"Cocos Islands",CA:"Canada",CG:"Republic of the Congo",CF:"Central African Republic",CD:"Democratic Republic of the Congo",CZ:"Czech Republic",CY:"Cyprus",CX:"Christmas Island",CR:"Costa Rica",CW:"Curacao",CV:"Cape Verde",CU:"Cuba",SZ:"Swaziland",SY:"Syria",SX:"Sint Maarten",KG:"Kyrgyzstan",KE:"Kenya",SS:"South Sudan",SR:"Suriname",KI:"Kiribati",KH:"Cambodia",KN:"Saint Kitts and Nevis",KM:"Comoros",ST:"Sao Tome and Principe",SK:"Slovakia",KR:"South Korea",SI:"Slovenia",KP:"North Korea",KW:"Kuwait",SN:"Senegal",SM:"San Marino",SL:"Sierra Leone",SC:"Seychelles",KZ:"Kazakhstan",KY:"Cayman Islands",SG:"Singapore",SE:"Sweden",SD:"Sudan",DO:"Dominican Republic",DM:"Dominica",DJ:"Djibouti",DK:"Denmark",VG:"British Virgin Islands",DE:"Germany",YE:"Yemen",DZ:"Algeria",US:"United States",UY:"Uruguay",YT:"Mayotte",UM:"United States Minor Outlying Islands",LB:"Lebanon",LC:"Saint Lucia",LA:"Laos",TV:"Tuvalu",TW:"Taiwan",TT:"Trinidad and Tobago",TR:"Turkey",LK:"Sri Lanka",LI:"Liechtenstein",LV:"Latvia",TO:"Tonga",LT:"Lithuania",LU:"Luxembourg",LR:"Liberia",LS:"Lesotho",TH:"Thailand",TF:"French Southern Territories",TG:"Togo",TD:"Chad",TC:"Turks and Caicos Islands",LY:"Libya",VA:"Vatican",VC:"Saint Vincent and the Grenadines",AE:"United Arab Emirates",AD:"Andorra",AG:"Antigua and Barbuda",AF:"Afghanistan",AI:"Anguilla",VI:"U.S. Virgin Islands",IS:"Iceland",IR:"Iran",AM:"Armenia",AL:"Albania",AO:"Angola",AQ:"Antarctica",AS:"American Samoa",AR:"Argentina",AU:"Australia",AT:"Austria",AW:"Aruba",IN:"India",AX:"Aland Islands",AZ:"Azerbaijan",IE:"Ireland",ID:"Indonesia",UA:"Ukraine",QA:"Qatar",MZ:"Mozambique"})},function(module,exports){angular.module("administrador").directive("bazamSvgText",function(){return{restrict:"AE",link:function(scope,element,attributes){var tamanoBase=200;element[0].innerHTML="<svg  viewBox='0 0 "+tamanoBase+" "+tamanoBase+"'>"+attributes.icono+"</svg>";var svgIcono=element[0].children[0].children[0];svgIcono.setAttribute("height",tamanoBase/2+"px");var texto=document.createElementNS("http://www.w3.org/2000/svg","text");texto.setAttributeNS(null,"x",tamanoBase/2);var textoNode=document.createTextNode(attributes.texto);texto.appendChild(textoNode);element[0].children[0].appendChild(texto);var svgTexto=element[0].children[0].children[1];svgTexto.style.fontSize=tamanoBase/2+"px";svgTexto.setAttribute("text-anchor","middle");svgTexto.setAttribute("font-family",attributes.fuente);while(svgTexto.textLength.baseVal.value>1.6*svgIcono.height.baseVal.value){svgTexto.style.fontSize=parseFloat(svgTexto.style.fontSize)-1+"px"}var paddingTopIcono=(tamanoBase-(svgIcono.height.baseVal.value+parseFloat(svgTexto.style.fontSize)))/2;svgIcono.y.baseVal.value=paddingTopIcono;var paddingTopText=paddingTopIcono+parseFloat(svgIcono.getAttribute("height"))+parseFloat(svgTexto.style.fontSize)/1.5+"px";svgTexto.setAttribute("y",paddingTopText);if(parseFloat(svgTexto.style.fontSize)+svgIcono.height.baseVal.value>=tamanoBase){while(parseFloat(svgTexto.style.fontSize)+svgIcono.height.baseVal.value>=tamanoBase){svgIcono.setAttribute("height",parseFloat(svgIcono.getAttribute("height"))*.95+"px");svgTexto.style.fontSize=parseFloat(svgTexto.style.fontSize)*.95+"px"}var paddingTopIcono=(tamanoBase-(svgIcono.height.baseVal.value+parseFloat(svgTexto.style.fontSize)))/2;svgIcono.y.baseVal.value=paddingTopIcono;var paddingTopText=paddingTopIcono+parseFloat(svgIcono.getAttribute("height"))+parseFloat(svgTexto.style.fontSize)/1.5+"px";svgTexto.setAttribute("y",paddingTopText)}}}}).directive("bazamSvg",["$rootScope",function($rootScope){return{restrict:"AE",scope:{svg:"=svg",texto:"=texto",fuente:"=fuente",svgFinal:"=svgFinal"},controller:function($scope){$scope.svgSaneado=$scope.svg.trim();var posicion1=$scope.svgSaneado.search(">");$scope.svgTagIncompleto=$scope.svgSaneado.substr(0,posicion1+1);var posicion2=$scope.svgSaneado.substr(posicion1+1).search("</svg>");$scope.seccionInterna=$scope.svgSaneado.substr(posicion1+1).substr(0,posicion2);$scope.seccionInternaElementos=[];$scope.elementosIndices=[];$scope.seccionInterna.trim().split(">").forEach(function(parte,index){var indiceParte=" data-indice='"+index+"'";if(parte!=""){if(parte.search("</")==-1){if(parte.search("/")==-1){$scope.seccionInternaElementos.push(parte+indiceParte+">")}else{$scope.seccionInternaElementos.push(parte.replace("/","")+indiceParte+"/>")}}else{$scope.seccionInternaElementos.push(parte+">")}}$scope.elementosIndices.push(false)});$scope.seccionInterna=$scope.seccionInternaElementos.join("");$scope.svgTag=$scope.svgTagIncompleto+$scope.seccionInterna+"</svg>"},link:{pre:function(scope,element,attributes){var tamanoBase=100;element[0].innerHTML="<svg viewBox='0 0 "+tamanoBase+" "+tamanoBase+"'><g class='contenedor-icono'>"+scope.svgTag+"</g></svg>";var svgIcono=element[0].children[0].children[0].children[0];svgIcono.setAttribute("height",tamanoBase/2+"px");var texto=document.createElementNS("http://www.w3.org/2000/svg","text");texto.setAttributeNS(null,"x",tamanoBase/2);var textoNode=document.createTextNode(scope.texto);texto.appendChild(textoNode);element[0].children[0].appendChild(texto);var svgTexto=element[0].children[0].children[1];svgTexto.style.fontSize=tamanoBase/2+"px";svgTexto.setAttribute("text-anchor","middle");svgTexto.setAttribute("font-family",scope.fuente.nombre);svgTexto.setAttribute("class","textoPrincipal");while(svgTexto.textLength.baseVal.value>1.6*svgIcono.height.baseVal.value){svgTexto.style.fontSize=parseFloat(svgTexto.style.fontSize)-1+"px"}var paddingTopIcono=(tamanoBase-(svgIcono.height.baseVal.value+parseFloat(svgTexto.style.fontSize)))/2;svgIcono.y.baseVal.value=paddingTopIcono;var paddingTopText=paddingTopIcono+parseFloat(svgIcono.getAttribute("height"))+parseFloat(svgTexto.style.fontSize)/1.5+"px";svgTexto.setAttribute("y",paddingTopText);if(parseFloat(svgTexto.style.fontSize)+svgIcono.height.baseVal.value>=tamanoBase){while(parseFloat(svgTexto.style.fontSize)+svgIcono.height.baseVal.value>=tamanoBase){svgIcono.setAttribute("height",parseFloat(svgIcono.getAttribute("height"))*.95+"px");svgTexto.style.fontSize=parseFloat(svgTexto.style.fontSize)*.95+"px"}var paddingTopIcono=(tamanoBase-(svgIcono.height.baseVal.value+parseFloat(svgTexto.style.fontSize)))/2;svgIcono.y.baseVal.value=paddingTopIcono;var paddingTopText=paddingTopIcono+parseFloat(svgIcono.getAttribute("height"))+parseFloat(svgTexto.style.fontSize)/1.5+"px";svgTexto.setAttribute("y",paddingTopText)}element.children().prepend("<style> @font-face { font-family: '"+scope.fuente.nombre+"'; src: url('"+scope.fuente.url+"')}  </style>")},post:function(scope,element,attributes){element.html(element.html());scope.svgFinal=element.html();$("bazam-svg").on("click","g.contenedor-icono > svg :not(g)",function(){angular.element(document.querySelector(".seleccionado")).removeClass("seleccionado");$(this).addClass("seleccionado");var indiceParte=$(this).attr("data-indice");scope.elementosIndices.forEach(function(valor,indice){scope.elementosIndices[indice]=false});scope.elementosIndices[indiceParte]=true});scope.$on("editor:color",function(evento,datos){if(datos.objetivo=="icono"){var indice=scope.elementosIndices.indexOf(true);element.find("[data-indice="+indice+"]").css("fill",datos.color)}else if(datos.objetivo=="texto"){element.find("text.textoPrincipal").css("fill",datos.color)}scope.svgFinal=element.html()});scope.$on("editor:texto",function(evento,texto){element.find(".textoPrincipal").text(texto);scope.svgFinal=element.html()});scope.$on("editor:fuente",function(evento,fuente){element.find("text.textoPrincipal").attr("font-family",fuente.nombre);element.find("style").text("<style> <![CDATA[ @font-face: { font-family: '"+scope.fuente.nombre+"'; src: url('"+fuente.url+"')} ]]> </style>");scope.svgFinal=element.html()});scope.$on("editor:propiedad",function(evento,propiedad){if(propiedad=="bold"){var grosor=element.find("text.textoPrincipal").attr("font-weight")=="bold"?"normal":"bold";element.find("text.textoPrincipal").attr("font-weight",grosor)}else if(propiedad=="cursive"){var estilo=element.find("text.textoPrincipal")[0].style.fontStyle=="oblique"?"normal":"oblique";element.find("text.textoPrincipal").css("font-style",estilo)}scope.svgFinal=element.html()});scope.$on("editor:tamano",function(evento,datos){if(datos.objetivo=="texto"){var texto=element.find("text.textoPrincipal");if(datos.accion){var tamano=parseFloat(texto.css("font-size"))+1+"px"}else if(!datos.accion){var tamano=parseFloat(texto.css("font-size"))-1+"px"}texto.css("font-size",tamano)}else if(datos.objetivo=="icono"){var icono=element.find("g.contenedor-icono > svg");var alto=parseFloat(icono.attr("height"));var ancho=icono.attr("width")?parseFloat(icono.attr("width")):null;if(datos.accion){var altoFinal=alto+1;var anchoFinal=ancho?ancho+1:null}else if(!datos.accion){var altoFinal=alto-1;var anchoFinal=ancho?ancho-1:null}icono.attr("height",altoFinal+"px");if(anchoFinal){icono.attr("width",anchoFinal+"px")}}scope.svgFinal=element.html()});var selectedElement=null;var currentX=0;var currentY=0;var currentMatrix=0;$("bazam-svg").on("mousedown","text.textoPrincipal, g.contenedor-icono",function(evento){if(!$(this).attr("transform")){$(this).attr("transform","matrix(1 0 0 1 0 0)")}$(this).attr("movimiento-bz",true);selectedElement=evento.target;currentX=evento.clientX;currentY=evento.clientY;currentMatrix=$(this).attr("transform").slice(7,-1).split(" ");for(var i=0;i<currentMatrix.length;i++){currentMatrix[i]=parseFloat(currentMatrix[i])}});$("bazam-svg").on("mousemove","text.textoPrincipal[movimiento-bz], g.contenedor-icono[movimiento-bz]",function(evento){if($("[movimiento-bz]").length){dx=evento.clientX-currentX;dy=evento.clientY-currentY;var svgPadre=element[0].children[0];var relacionX=svgPadre.clientWidth/parseFloat(element.children().attr("viewBox").split(" ")[2]);var relacionY=element[0].children[0].clientHeight/parseFloat(element.children().attr("viewBox").split(" ")[3]);currentMatrix[4]+=dx/relacionY;currentMatrix[5]+=dy/relacionX;newMatrix="matrix("+currentMatrix.join(" ")+")";$(this).attr("transform",newMatrix);currentX=evento.clientX;currentY=evento.clientY}});angular.element(document.querySelector("body")).mouseup(function(evento){$("text.textoPrincipal, g.contenedor-icono").removeAttr("movimiento-bz");scope.svgFinal=element.html()});scope.$on("editor:comparar",function(evento,datos){$rootScope.$broadcast("directiva:comparar",element.html())});scope.$on("editor:restaurar",function(evento,svg){element.html(svg);var indices=[];element.find("g.contenedor-icono > svg [data-indice]").each(function(indice){indices[parseInt(this.getAttribute("data-indice"))]=false});element.find(".seleccionado").removeClass("seleccionado");scope.elementosIndices=indices;scope.texto=element.find("text.textoPrincipal").text();scope.svgFinal=element.html()})}}}}]).directive("bazamVisualizar",function(){return{restrict:"AE",scope:{svg:"=svg"},link:function(scope,element,attributes){element.html(scope.svg);element.html(element.html())}}})},function(module,exports){angular.module("administrador").controller("usuarioController",["$state","$mdSidenav","$mdDialog","$scope","clientesServiceAdmin","clientesService","SweetAlert","notificacionService",function($state,$mdSidenav,$mdMenu,$scope,clientesServiceAdmin,clientesService,SweetAlert,notificacionService){var bz=this;bz.loaderMostrar=true;bz.usuarios=[];bz.actual=clientesService.autorizado().nombre;bz.listarU=function(){bz.mostrarU=!bz.mostrarU;bz.peticion=true;clientesServiceAdmin.listarUsuarios().then(function(res){bz.loaderMostrar=false;bz.usuarios=res.data}).catch(function(res){notificacionService.mensaje(res)}).finally(function(){bz.peticion=false})};bz.listarU();bz.datos={registrar:{},modificar:{}};bz.registrarU=function(datos,validado){if(!validado)return;bz.peticion=true;bz.loaderCargando=true;clientesService.registrar(datos).then(function(res){bz.loaderCargando=false;SweetAlert.swal("Genial","Registro Exitoso!","success");bz.datos.registrar={};datos.idUsuario=res.data.insertId;bz.usuarios.push(datos)}).catch(function(){bz.loaderCargando=false}).finally(function(){bz.peticion=false})};bz.modificarUsuario=function(id,nombre,index){bz.mostrarMo=!bz.mostrarMo;bz.uMod=nombre;bz.idUsuario=id;bz.datos.modificar.idUsuario=id;bz.index=index};bz.modificarU=function(datos,v){if(!v)return;bz.peticion=true;clientesService.modificarU(datos).then(function(res){bz.loaderCargando=false;bz.usuarios[bz.index].nombreUser=datos.nombreUser;bz.uMod=datos.nombreUser;notificacionService.mensaje("Modificacion Exitosa!");document.getElementById("formularioModificar").reset()}).catch(function(res){notificacionService.mensaje(res);bz.loaderCargando=false}).finally(function(){bz.peticion=false})};bz.eliminarU=function(id,index){bz.peticion=true;clientesServiceAdmin.borrarUsuario(id).then(function(res){SweetAlert.swal("Eliminado","","error");bz.usuarios.splice(index,1)}).catch(function(res){notificacionService.mensaje(res)}).finally(function(){bz.peticion=false})}}])},function(module,exports){angular.module("administrador").controller("sidenavController",["$state","$mdSidenav","$mdDialog","$scope","clientesService","$rootScope",function($state,$mdSidenav,$mdDialog,$scope,clientesService,$rootScope){var bz=this;bz.menuMostrar=true;bz.medidaP=bz.menuMostrar?true:false;bz.medidaG=bz.menuMostrar?false:true;bz.vistas=[{url:"app.pedidos",nombre:"Pedidos",icono:"add_shopping_cart"},{url:"app.cliente",nombre:"Clientes",icono:"person"},{url:"app.categorias",nombre:"Categorías",icono:"settings"},{url:"app.elementos",nombre:"Elementos",icono:"stars"},{url:"app.monedas",nombre:"Monedas y pasarelas",icono:"attach_money"},{url:"app.paises",nombre:"Paises",icono:"flag"},{url:"app.planes",nombre:"Planes y precios",icono:"view_carousel"},{url:"app.usuario",nombre:"Usuarios",icono:"person"},{url:"app.etiquetas",nombre:"Etiquetas",icono:"style"},{url:"app.idiomas",nombre:"Idiomas",icono:"assistant_photo"}];bz.autorizado=clientesService.autorizado();$scope.$on("sesionExpiro",function(){clientesService.salir()});bz.cambiarMenu=function(){bz.menuMostrar=!bz.menuMostrar;bz.medidaP=bz.menuMostrar?2:0;bz.medidaG=bz.menuMostrar?10:11};bz.estado=$state.current.name.replace("/","");$rootScope.$on("$stateChangeSuccess",function(){bz.estado=$state.current.name.replace("/","")})}])},function(module,exports){angular.module("administrador").controller("planesController",["$state","$mdSidenav","$mdDialog","$scope","administrarService","paisesValue","monedasValue","notificacionService","monedasService","caracteristicasValue",function($state,$mdSidenav,$mdMenu,$scope,administrarService,paisesValue,monedasValue,notificacionService,monedasService,caracteristicasValue){var bz=this;bz.impuestos=[];bz.nuevoPlan={caracteristicas:caracteristicasValue};bz.modificarNombrePlan={};bz.modificarPrecioPlan={};bz.nuevoPrecioPlan={};bz.nuevoImpuesto={};bz.planDetalles={};bz.vista=0;bz.bloquearPlanDatos={};bz.preciosPlan=[];bz.monedas=monedasValue;bz.paises=paisesValue;bz.monedasDisponibles={};monedasService.listarMonedas().then(function(res){bz.monedas=res.data});bz.peticion=true;administrarService.listarPlanes().then(function(res){bz.listaP=!bz.listaP;bz.planes=res;angular.forEach(bz.planes,function(valor){if(valor.status){valor.status=1}else{valor.status=0}})}).catch(function(res){notificacionService.mensaje(res.data.msg)}).finally(function(){bz.peticion=false});bz.agregarPlan=function(datos,validacion){angular.forEach(bz.planes,function(valor){if(valor.plan==datos.plan){validacion=false;bz.localidadVal2="Esta Nombre Ya esta en uso"}});if(!validacion)return;bz.peticion=true;administrarService.agregarPlan(datos).then(function(res){datos.status=1;datos.estado=true;bz.planes.push(res);bz.nuevoPlan={};notificacionService.mensaje("Peticion Realizada!");bz.localidadVal=""}).catch(function(res){notificacionService.mensaje(res)}).finally(function(){bz.peticion=false})};bz.agregarPrecioPlan=function(datos,validacion){administrarService.listarPreciosPlan(datos.idPlan).then(function(res){var enuso=true;if(res!=undefined){if(res.data.length>0){angular.forEach(res.data,function(valor){if(valor.idMoneda==datos.idMoneda){enuso=false;return notificacionService.mensaje("Moneda esta en uso!")}})}}if(validacion&&enuso){bz.peticion=true;administrarService.agregarPrecioPlan(datos).then(function(res){document.getElementById("nuevoPrecioPlan").reset();bz.nuevoPrecioPlan={};bz.vista=0;notificacionService.mensaje("Peticion Realizada!")}).catch(function(res){notificacionService.mensaje(res)}).finally(function(){bz.peticion=false})}})};bz.modificarNombreP=function(datos,v){if(!v)return notificacionService.mensaje("Rellene los campos de forma correcta!");bz.peticion=true;administrarService.modificarNombrePlan(datos).then(function(){bz.planes[bz.index]=datos;notificacionService.mensaje("Peticion Realizada.")}).catch(function(res){notificacionService.mensaje(res)}).finally(function(){bz.peticion=false})};bz.modificarPrecioPlan=function(datos){bz.modInit=!bz.modInit;bz.peticion=true;datos.idPlan=datos.planes_idPlan;datos.idMoneda=datos.monedas_idMoneda;administrarService.modificarPrecioPlan(datos).then(function(){notificacionService.mensaje("Peticion Realizada.")}).catch(function(res){notificacionService.mensaje(res)}).finally(function(){bz.peticion=false})};bz.bloquearPlan=function(opcion,id){bz.peticion=true;bz.bloquearPlanDatos.idPlan=id;angular.forEach(bz.planes,function(valor){if(valor.idPlan==id){valor.status=valor.status?false:true;if(valor.status){bz.bloquearPlanDatos.status=1}else{bz.bloquearPlanDatos.status=0}}});administrarService.bloquearPlan(bz.bloquearPlanDatos).then(function(){bz.bloquearPlanDatos={}}).catch(function(res){notificacionService.mensaje(res)}).finally(function(){bz.peticion=false})};bz.mostrar=function(opcion,datos,index){if(opcion=="nombrePlan"){bz.vista=5;bz.index=index;angular.forEach(bz.planes,function(valor){if(valor.idPlan==datos){bz.modificarNombrePlan=valor}})}else if(opcion=="nuevoPrecioPlan"){bz.monedasDisponibles={};bz.nuevoPrecioPlan.idPlan=datos;administrarService.listarPreciosPlan(datos).then(function(res){if(res!=undefined){bz.preciosPlan=res.data}});bz.vista=3}else if(opcion=="preciosPlan"){bz.preciosPlan=[];bz.peticion=true;administrarService.listarPreciosPlan(datos).then(function(res){if(res==undefined){return notificacionService.mensaje("Este plan no posee precios.")}bz.preciosPlan=res.data;bz.vista=4}).catch(function(res){notificacionService.mensaje(res);bz.vista=4}).finally(function(){bz.peticion=false})}};bz.modFun=function(i,datos){bz.modfire=i;bz.modInit=!bz.modInit;bz.planDatosPrecio=datos}}])},function(module,exports){angular.module("administrador").controller("pedidosController",["$state","$mdSidenav","$mdDialog","$scope","pedidosService","SweetAlert","notificacionService","$base64",function($state,$mdSidenav,$mdMenu,$scope,pedidosService,SweetAlert,notificacionService,$base64){var bz=this;bz.filtros={estados:[{nombre:"COMPLETADO"},{nombre:"EN ESPERA"},{nombre:"EN PROCESO"},{nombre:"CANCELADO"}],paises:[],planes:[],monedas:[]};bz.filtrosActivos;bz.listaP=function(){bz.peticion=true;bz.elementos=[];bz.mostrarP=!bz.mostrarP;bz.mostrarD=false;pedidosService.listarPedidos().then(function(res){angular.forEach(res.data,function(valor,llave){bz.elementos.push(valor);bz.elementos[llave].estadoE=false;bz.filtros.planes.push(valor.plan);bz.filtros.monedas.push(valor.moneda);bz.filtros.paises.push(valor.pais)})}).catch(function(){notificacionService.mensaje("No existen pedidos.")}).finally(function(){bz.peticion=false})};bz.listaP();bz.pedidoDetalles=function(id,index){bz.peticion=true;bz.pedidoActivoIndex=index;bz.pedidoDetalle={};pedidosService.datosPedido(id).then(function(res){bz.mostrarD=true;bz.pedidoDetalle=res.data[0]}).catch(function(){notificacionService.mensaje("No existen pedidos para este cliente.")}).finally(function(){bz.peticion=false})};bz.estadoPedidos=["EN PROCESO","EN ESPERA","CANCELADO","COMPLETADO"];bz.cambiarEstado=function(id,estado){bz.peticion=true;pedidosService.cambiarEstado(id,estado).then(function(){notificacionService.mensaje("Estado Cambiado!");bz.elementos[bz.pedidoActivoIndex].estado=estado;bz.modInit=!bz.modInit}).catch(function(res){notificacionService.mensaje(res)}).finally(function(){bz.peticion=false})};bz.base64=$base64}])},function(module,exports){angular.module("administrador").controller("paisesController",["$state","$mdSidenav","$mdDialog","$scope","iconoFuente","categoriasService","Upload","notificacionService","monedasService","paisesService","paisesValue",function($state,$mdSidenav,$mdDialog,$scope,iconoFuente,categoriasService,Upload,notificacionService,monedasService,paisesService,paisesValue){var bz=this;bz.nuevoPais={};bz.editarPais={};bz.monedasPasarela={};bz.quitarMoneda={};bz.ponerMoneda={};bz.paisesLista=[];angular.forEach(paisesValue,function(value,key){bz.paisesLista.push({iso:key,moneda:value})});monedasService.listarMonedas().then(function(res){bz.monedas=res.data;angular.forEach(bz.monedas,function(value){if(value.moneda=="USD"){bz.nuevoPais.idMoneda=value.idMoneda}})});bz.listarPaises=function(){bz.peticion=true;bz.listaP=!bz.listaP;paisesService.listarPaises().then(function(res){bz.paises=res.data}).catch(function(){notificacionService.mensaje("No hay paises registrados.")}).finally(function(){bz.peticion=false})};bz.listarPaises();bz.guardarPais=function(datos,v){datos.iso=datos.pais.iso;datos.moneda=datos.pais.iso;datos.nombre=datos.pais.moneda;if(!v)return;bz.peticion=true;paisesService.guardarPais(datos).then(function(res){if(res==undefined)return notificacionService.mensaje("El pais ya existe.");datos.idPais=res.data.insertId;bz.paises.push(datos);bz.nuevoPais={};return notificacionService.mensaje("El pais ha si añadido.")}).finally(function(){bz.peticion=false})};bz.modificarPais=function(datos,v){if(!v)return;bz.peticion=true;paisesService.modificarPais(datos).then(function(){notificacionService.mensaje("Modificación Exitosa.")}).finally(function(){bz.peticion=false})};bz.borrarPais=function(datos,index){bz.peticion=true;paisesService.borrarPais(datos).then(function(){bz.monedas.splice(index,1)}).finally(function(){bz.peticion=false})};bz.listarPaisMonedas=function(id){bz.peticion=true;bz.acciones=4;bz.quitarMoneda.idPais=id;paisesService.paisMonedas(id).then(function(res){if(res!=undefined)return bz.paisMonedas=res.data}).finally(function(){bz.peticion=false})};bz.asignarMoneda=function(datos,v){if(!v)return notificacionService.mensaje("Rellene los campos de forma correcta!");bz.peticion=true;paisesService.asignarMoneda(datos).then(function(res){if(res==undefined)return notificacionService.mensaje("La moneda seleccionada ya esta asignada.");notificacionService.mensaje("Asignación Exitosa.")}).finally(function(){bz.peticion=false})};bz.desasignarMoneda=function(id,index){bz.peticion=true;bz.quitarMoneda.idMoneda=id;paisesService.desasignarMoneda(bz.quitarMoneda).then(function(res){bz.paisMonedas.splice(index,1);notificacionService.mensaje("Moneda Desasignada.")}).finally(function(){bz.peticion=false})}}])},function(module,exports){angular.module("administrador").controller("monedasController",["$state","$mdSidenav","$mdDialog","$scope","iconoFuente","categoriasService","Upload","notificacionService","monedasService","pasarelasService","monedasValue",function($state,$mdSidenav,$mdDialog,$scope,iconoFuente,categoriasService,Upload,notificacionService,monedasService,pasarelasService,monedasValue){var bz=this;bz.nuevaMoneda={};bz.editarMoneda={};bz.nuevaPasarela={};bz.editarPasarela={};bz.monedasPasarela={};bz.quitarMoneda={};bz.ponerMoneda={};bz.almacenDeMonedas=monedasValue;bz.listarMonedas=function(v){if(!v)return bz.listaM=!bz.listaM;bz.peticion=true;monedasService.listarMonedas().then(function(res){bz.monedas=res.data}).finally(function(){bz.peticion=false})};bz.listarMonedas(true);bz.guardarMoneda=function(datos,v){if(!v)return;bz.peticion=true;monedasService.guardarMoneda(datos).then(function(res){if(res==undefined)return notificacionService.mensaje("La moneda ya existe.");datos.idMoneda=res.data.result;bz.monedas.push(datos);return notificacionService.mensaje("Registro Exitoso.")}).finally(function(){bz.peticion=false})};bz.modificarMoneda=function(datos,v){if(!v)return;bz.peticion=true;monedasService.modificarMoneda(datos).then(function(){bz.monedas[bz.index]=datos}).finally(function(){bz.peticion=false})};bz.borrarMoneda=function(id,index){bz.peticion=true;monedasService.borrarMoneda({idMoneda:id}).then(function(){bz.monedas.splice(index,1)}).finally(function(){bz.peticion=false})};bz.listarPasarelas=function(){bz.peticion=true;bz.listaP=!bz.listaP;bz.acciones=0;pasarelasService.listarPasarelas().then(function(res){bz.pasarelas=res.data}).finally(function(){bz.peticion=false})};bz.listarPasarelaMonedas=function(id){bz.peticion=true;bz.acciones=6;bz.quitarMoneda.idPasarela=id;pasarelasService.pasarelaMonedas(id).then(function(res){if(res!=undefined)bz.pasarelasMonedas=res.data}).finally(function(){bz.peticion=false})};bz.guardarPasarela=function(datos,v){if(!v)return;bz.peticion=true;pasarelasService.guardarPasarela(datos).then(function(res){if(res==undefined)return notificacionService.mensaje("La pasarela ya existe.");datos.idPasarela=res.data.insertId;bz.pasarelas.push(datos);notificacionService.mensaje("Registro Exitoso.")}).finally(function(){bz.peticion=false})};bz.modificarPasarela=function(datos,v){if(!v)return;bz.peticion=true;pasarelasService.modificarPasarela(datos).then(function(){bz.pasarelas[bz.index]=datos;bz.editarPasarela={};notificacionService.mensaje("Modificacion Exitosa.")}).finally(function(){bz.peticion=false})};bz.borrarPasarela=function(datos,index){bz.peticion=true;pasarelasService.borrarPasarela(datos).then(function(){bz.pasarelas.splice(index,1)}).finally(function(){bz.peticion=false})};bz.asignarMoneda=function(datos,v){if(!v)return notificacionService.mensaje("Rellene los campos de forma correcta!");bz.peticion=true;pasarelasService.asignarMoneda(datos).then(function(res){if(res==undefined)return notificacionService.mensaje("La moneda seleccionada ya esta asignada.");notificacionService.mensaje("Asignación Exitosa.")}).finally(function(){bz.peticion=false})};bz.desasignarMoneda=function(id,index){bz.peticion=true;bz.quitarMoneda.idMoneda=id;pasarelasService.desasignarMoneda(bz.quitarMoneda).then(function(){bz.pasarelasMonedas.splice(index,1);notificacionService.mensaje("Moneda Desasignada.")}).finally(function(){bz.peticion=false})}}])},function(module,exports){angular.module("administrador").controller("loginController",["$scope","$http","$rootScope","$state","$stateParams","clientesService","SweetAlert","notificacionService",function($scope,$http,$rootScope,$state,$stateParams,clientesService,SweetAlert,notificacionService){var bz=this;bz.loaderCargando=false;bz.datosRegistro={};bz.datosLogin={};bz.olvido={tipo:"admin"};bz.rc=1;bz.login=function(datos,valido){if(!valido)return notificacionService.mensaje("Verifica los campos del formulario.");bz.peticion=true;bz.loaderCargando=true;clientesService.login(datos).then(function(res){SweetAlert.swal("Genial","Ingreso Exitoso!","success");$state.go("app.cliente")}).catch(function(){bz.loaderCargando=false;SweetAlert.swal("Error al ingresar","","error")}).finally(function(){bz.peticion=false})};bz.forgotPass=function(datos,v){if(!v)return notificacionService.mensaje("Verifica los campos del formulario.");bz.peticion=true;bz.loaderCargando2=true;clientesService.forgotPass(datos).then(function(){bz.rc=2;bz.loaderCargando2=false;notificacionService.mensaje("Codigo Enviado al correo.")}).catch(function(){bz.loaderCargando=false}).finally(function(){bz.peticion=false})};bz.confirmarToken=function(opcion,val){if(opcion=="cambiar"){if(!val)return;bz.peticion=true;clientesService.cambiarContrasena(bz.olvido).then(function(res){notificacionService.mensaje("Contrasena Cambiada!.");var datos={correo:bz.olvido.correo,pass:bz.olvido.pass};bz.loaderCargando2=false;bz.login(datos,true)}).catch(function(res){bz.loaderCargando2=false}).finally(function(){bz.peticion=false})}else{bz.peticion=true;clientesService.confirmarToken(bz.olvido.token).then(function(res){if(res){bz.rc=3;notificacionService.mensaje("Codigo confirmado.")}}).catch(function(res){bz.loaderCargando=false}).finally(function(){bz.peticion=false})}}}])},function(module,exports){angular.module("administrador").controller("idiomasController",["$state","$mdSidenav","$mdDialog","$scope","Upload","notificacionService","idiomasService","monedasValue",function($state,$mdSidenav,$mdDialog,$scope,Upload,notificacionService,idiomasService,monedasValue){var bz=this;bz.nuevoIdioma={};bz.editarIdioma={};bz.idiomasDisponibles=monedasValue;idiomasService.listarIdiomas().then(function(res){bz.idiomas=res});bz.guardarIdioma=function(datos,v){if(!v)return notificacionService.mensaje("Verifique los campos del formulario");idiomasService.guardarIdioma(datos).then(function(res){datos._id=res.insertId;bz.idiomas.push(datos);bz.nuevoIdioma={}})};bz.modificarIdioma=function(datos,v){if(!v)return notificacionService.mensaje("Verifique los campos del formulario");idiomasService.modificarIdioma(datos).then(function(res){notificacionService.mensaje("Modificado")})};bz.borrarIdioma=function(id,i){idiomasService.borrarIdioma(id).then(function(res){notificacionService.mensaje("Eliminado");bz.idiomas.splice(i,1)})};bz.mostrar=function(params){if(params.op=="editar"){bz.acciones=2;bz.editarIdioma=params.item}}}])},function(module,exports){angular.module("administrador").controller("headerController",["$state","$mdSidenav","$mdDialog","$scope","SweetAlert","clientesService","$rootScope",function($state,$mdSidenav,$mdMenu,$scope,SweetAlert,clientesService,$rootScope){var bz=this;bz.salir=function(){clientesService.salir(true);$rootScope.$broadcast("sesionExpiro");$state.go("login")};bz.estado=$state.current.url.replace("/","");bz.autorizado=clientesService.autorizado();$scope.$on("sesionExpiro",function(){bz.autorizado=clientesService.autorizado()});$scope.$on("sesionInicio",function(){bz.autorizado=clientesService.autorizado()});$rootScope.$on("$stateChangeSuccess",function(){bz.estado=jsUcfirst($state.current.url.replace("/",""))});function jsUcfirst(string){return string.charAt(0).toUpperCase()+string.slice(1)}}])},function(module,exports){angular.module("administrador").controller("etiquetasController",["$state","$scope","notificacionService","$base64","etiquetasService","categoriasService","idiomasService","$q",function($state,$scope,notificacionService,$base64,etiquetasService,categoriasService,idiomasService,$q){var bz=this;bz.actual=0;bz.base64=$base64;bz.iconos=[];bz.selectedItem=null;bz.searchText=null;bz.querySearch=etiquetasService.querySearch;bz.transformChip=etiquetasService.transformChip;bz.etiquetasParaVincular=[];bz.guardarEtiquetas=[];bz.actualizarEtiquetaDatos={};bz.guardarEtiquetasIconos={etiquetas:[],iconos:[]};bz.logos=[];bz.promesas=[idiomasService.listarIdiomas(),categoriasService.listarCategorias({tipo:"ICONO"}),etiquetasService.listarEtiquetas()];bz.peticion=true;$q.all(bz.promesas).then(function(res){bz.idiomas=res[0];bz.cats=res[1].data;bz.etiquetas=res[2].data;bz.etiquetasParaVincular=etiquetasService.loadEtiquetas(res[2].data)}).catch(function(res){}).finally(function(){bz.peticion=false});bz.listarIconos=function(id){bz.listaL=false;if(bz.logos.length>0){angular.forEach(bz.logos,valor=>{if(valor.on!=undefined&&valor.on===true){bz.iconos.push(valor.idElemento)}})}datos={idCategoria:id,tipo:"ICONO"};bz.logos=[];bz.peticion=true;etiquetasService.listarLogos(datos).then(function(res){bz.logos=res.data}).catch(function(res){console.log(res)}).finally(function(){bz.listaL=true;bz.peticion=false})};bz.listarIconosEtiqueta=function(id){bz.peticion=true;bz.acciones=4;etiquetasService.listarIconosEtiqueta(id).then(function(res){bz.iconosEtiqueta={_id:id,iconos:res.data.iconos}}).catch(function(res){}).finally(function(){bz.peticion=false})};bz.desvincularIconos=function(params){var iconosAdesvincular=[];angular.forEach(params.iconos,(valor,key)=>{if(valor.on!=undefined&&valor.on==true){iconosAdesvincular.push(valor.idElemento);params.iconos.splice(key,1)}});angular.forEach(params.iconos,(valor,key)=>{params.iconos[key].on=false});if(iconosAdesvincular.length==0)return notificacionService.mensaje("Seleccione algun icono por favor");var datos={_id:params._id,idIcono:iconosAdesvincular};iconosAdesvincular=[];bz.peticion=true;etiquetasService.desvincularIconos(datos).then(function(res){if(res==undefined)return notificacionService.mensaje("No se ha podido desvincular los iconos.");return notificacionService.mensaje("Iconos desvinculados")}).finally(function(){bz.peticion=false})};bz.guardarEtiqueta=function(datos,v){if(!v)return notificacionService.mensaje("Rellene todos los campos por favor");bz.peticion=true;etiquetasService.guardarEtiqueta({etiquetas:datos}).then(function(res){if(res==undefined)return notificacionService.mensaje("No se ha podido guardar las etiquetas.");for(let i=0;i<res.data.length;i++){traducciones=[];angular.forEach(datos[i].traducciones,function(valor){traducciones.push({idioma:{codigo:valor.idioma},valor:valor.valor})});bz.etiquetas.push({_id:res.data[i],traducciones:traducciones})}return notificacionService.mensaje("Etiquetas Agregadas.")}).finally(function(){bz.peticion=false})};bz.guardarEtiquetaIconos=function(datos,v){bz.peticion=true;angular.forEach(bz.logos,valor=>{if(valor.on!=undefined&&valor.on===true){bz.iconos.push(valor.idElemento);valor.on=false}});if(bz.iconos.length==0)return notificacionService.mensaje("Seleccione algun icono por favor");datos.iconos=bz.iconos;datos._ids=[];angular.forEach(datos.etiquetas,function(et){datos._ids.push(et._id)});bz.iconos=[];bz.searchText=null;etiquetasService.guardarEtiquetaIconos(datos).then(function(res){if(res==undefined)return notificacionService.mensaje("No se ha podido vincular las etiquetas.");bz.guardarEtiquetaIconos=[];return notificacionService.mensaje("Logos Vinculados")}).finally(function(){bz.peticion=false})};bz.borrarEtiqueta=function(id,index){bz.peticion=true;etiquetasService.borrarEtiqueta(id).then(function(res){if(res==undefined)return notificacionService.mensaje("No se ha podido borrar la etiqueta.");bz.etiquetas.splice(index,1);return notificacionService.mensaje("Etiqueta Borrada")}).finally(function(){bz.peticion=false})};bz.actualizarEtiqueta=function(params,v){if(!v)return notificacionService.mensaje("Rellene todos los campos por favor");etiquetasService.actualizarEtiqueta({_id:params._id,etiqueta:params}).then(function(res){if(res==undefined)return;notificacionService.mensaje("Etiqueta Actualizada!")}).finally(function(){bz.peticion=false})};bz.incrementarEtiquetas=function(eliminar){if(!eliminar){item=[];angular.forEach(bz.idiomas,valor=>{item.push({idioma:valor.codigo,valor:""})});bz.guardarEtiquetas.push({traducciones:item})}else if(bz.guardarEtiquetas.length>1){return bz.guardarEtiquetas.pop()}};bz.mostrar=function(params){switch(params.op){case"traducciones":bz.acciones=2;bz.actualizarEtiquetaDatos=params.datosEtiqueta;var etiqueta=angular.toJson(params.datosEtiqueta.traducciones);angular.forEach(bz.idiomas,function(valor,key){if(!etiqueta.includes(valor.codigo)){bz.actualizarEtiquetaDatos.traducciones.push({idioma:valor,valor:""})}});break;case"asignar-etiqueta":if(params.ce){bz.asignarEtiqueta=false;return bz.acciones=0}bz.asignarEtiqueta=!bz.asignarEtiqueta;bz.acciones=3;break;default:break}};bz.paginar=function(accion,actual,array){console.log(actual);if(accion){if(array[actual+52]!=undefined){bz.actual=bz.actual+52}else{return notificacionService.mensaje("Ya no hay mas iconos")}}else{if(array[actual-52]!=undefined){bz.actual=bz.actual+52}}}}])},function(module,exports){angular.module("administrador").controller("elementosController",["$state","$mdSidenav","$mdDialog","$scope","iconoFuente","categoriasService","notificacionService","SweetAlert","$base64","etiquetasService","idiomasService",function($state,$mdSidenav,$mdDialog,$scope,iconoFuente,categoriasService,notificacionService,SweetAlert,$base64,etiquetasService,idiomasService){var bz=this;bz.registroFuente={};bz.registroIcono={};bz.modificar={};bz.listar={};bz.categorias=[];bz.preferencias=[];bz.base64=$base64;idiomasService.listarIdiomas().then(function(res){bz.idiomas=res});bz.listarCategorias=function(tipoCategoria){bz.peticion=true;bz.tipoListado=tipoCategoria;categoriasService.listarCategorias({tipo:tipoCategoria}).then(function(res){if(res==undefined){bz.categorias=[];bz.elementos=[];return notificacionService.mensaje("No hay categorias.")}bz.categorias=res.data}).finally(function(){bz.peticion=false})};categoriasService.listarPreferencias().then(function(res){angular.forEach(res.data,function(valor){valor.valor=2;bz.preferencias.push(valor)});bz.registroFuente.datoPrefe=angular.copy(bz.preferencias);bz.registroIcono.datoPrefe=angular.copy(bz.preferencias);bz.modificar.preferencias=angular.copy(bz.preferencias)});bz.nuevaFuente=function(datos,v){if(!v)return notificacionService.mensaje("Rellene los campos de forma correcta!");bz.peticion=true;bz.valMulFonts=true;if(bz.regFmArchivos)return bz.subidaMasiva(datos);else{iconoFuente.nuevaFuente(datos).then(function(res){notificacionService.mensaje("Fuente Agregada!");datos.idElemento=res.data.insertId;datos.tipo="FUENTE";bz.valMulFonts=false}).catch(function(res){notificacionService.mensaje(res)}).finally(function(){bz.peticion=false})}};bz.nuevoIcono=function(datos,v){if(!v)return notificacionService.mensaje("Rellene los campos de forma correcta!");bz.peticion=true;bz.valMulIcons=true;if(bz.regImArchivos)return bz.subidaMasiva(datos);else{iconoFuente.nuevoIcono(datos).then(function(res){datos.idElemento=res.data.insertId;datos.tipo="ICONO";notificacionService.mensaje("Icono Agregado!");bz.valMulIcons=false}).catch(function(){}).finally(function(){bz.peticion=false})}};bz.subidaMasiva=function(datos){iconoFuente.subidaMasiva(datos).then(function(){notificacionService.mensaje("Datos Agregados!");bz.valMulFonts=false;bz.valMulIcons=false}).catch(function(res){notificacionService.mensaje(res)}).finally(function(){bz.peticion=false})};bz.listado=function(tipo){bz.peticion=true;bz.listar.tipo=tipo;iconoFuente.listar(bz.listar).then(function(res){bz.elementos=res.data}).catch(function(res){notificacionService.mensaje(res)}).finally(function(){bz.peticion=false})};bz.accionesMostrar=function(opcion,index){if(opcion=="modElemento"){bz.acciones=3;bz.modificarElemento.idElemento=bz.elementos[index].idElemento}else if(opcion=="modEtiquetas"){bz.idIcono=bz.elementos[index].idElemento;etiquetasService.obtenerPorIcono(bz.elementos[index].idElemento).then(function(res){bz.acciones=4;if(res==undefined)return notificacionService.mensaje("Este elemento no posee etiquetas.");bz.etiquetasIcono=res.data}).catch(function(){notificacionService.mensaje("Este elemento no posee etiquetas.")}).finally(function(){})}};bz.mostrar=function(tipo){bz.mn=false;bz.peticion=true;if(tipo=="ICONO"){bz.acciones=2;return bz.listarCategorias(tipo)}bz.acciones=1;bz.listarCategorias(tipo)};bz.modificarElemento=function(datos){bz.peticion=true;iconoFuente.modificarPreferencias(datos).then(function(res){bz.acciones=0;SweetAlert.swal("Genial",res.data.result,"success")}).catch(function(res){notificacionService.mensaje(res)}).finally(function(){bz.peticion=false})};bz.desvincularEtiqueta=function(item,index){bz.peticion=true;etiquetasService.desasignarEtiqueta(item._id,bz.idIcono).then(function(res){if(res==undefined)return;bz.etiquetasIcono.splice(index,1);notificacionService.mensaje("Etiqueta Desvinculada.")}).finally(function(){bz.peticion=false})}}])},function(module,exports){angular.module("administrador").controller("disenadoresController",["$state","$mdSidenav","$scope","administrarService","notificacionService","$base64","designerService",function($state,$mdSidenav,$scope,administrarService,notificacionService,$base64,designerService){var bz=this;bz.logos=[];bz.disenadores=[];bz.logosDisenador=[];bz.vista=0;bz.listarLogos=function(){bz.logos=[];bz.peticion=true;bz.listaL=!bz.listaL;designerService.listarLogos().then(function(res){angular.forEach(res,function(valor){if(valor.atributos){if(valor.atributos.length>0){angular.forEach(valor.atributos,function(valor2){if(valor2.clave=="calificacion-admin"){valor.calificado=true}})}}});bz.logos=res}).finally(function(){bz.peticion=false})};bz.aprobarLogo=function(i,datos,id){bz.peticion=true;bz.cal=!bz.cal;bz.logoCalificarA=datos;designerService.aprobarLogo(id).then(function(){notificacionService.mensaje("Aprobado!");bz.logos[i].estado="Aprobado"}).catch(function(res){notificacionService.mensaje(res)}).finally(function(){bz.peticion=false})};bz.borrarLogo=function(i,id,op){bz.peticion=true;designerService.borrarLogo(id).then(function(){notificacionService.mensaje("No Aprobado!");if(op){bz.modfire=false;return bz.logosDisenador.splice(i,1)}bz.listaL=!bz.listaL;bz.logos.splice(i,1);bz.logosDisenador.splice(i,1)}).catch(function(res){notificacionService.mensaje(res)}).finally(function(){bz.peticion=false})};bz.ponerCalificacion=function(datos,v,i){designerService.calificarLogo(datos).then(function(){if(v){bz.cal=false;return notificacionService.mensaje("Calificacion Colocada!")}bz.cal2=false;bz.cal=false;bz.logosDisenador[i].calificado=true;notificacionService.mensaje("Calificacion Colocada!")}).catch(function(res){notificacionService.mensaje(res)}).finally(function(){bz.peticion=false})};bz.verLogo=function(logo,v){bz.logoVisualizar=bz.base64(logo);bz.lda=v?true:false;bz.modfire=false;bz.modInit=false;bz.vista=3};bz.mostrarPop=function(){bz.vista=bz.lda?1:0};bz.destacado=function(datos){bz.peticion=true;designerService.destacado(datos).then(function(){notificacionService.mensaje("Destacado!");bz.logos[datos.i].destacado=true}).catch(function(res){notificacionService.mensaje(res)}).finally(function(){bz.peticion=false})};bz.listarDisenadores=function(){bz.disenadores=[];bz.peticion=true;bz.listaD=!bz.listaD;designerService.listarDisenadores().then(function(res){if(res!=undefined)return bz.disenadores=res}).finally(function(){bz.peticion=false})};bz.bloquearDisenador=function(id){bz.peticion=true;designerService.bloquearDisenador(id).then(function(){notificacionService.mensaje("Usuario Bloqueado!");angular.forEach(bz.disenadores,function(valor){if(valor.idCliente==id){valor.bloqueado=1}})}).catch(function(res){notificacionService.mensaje(res)}).finally(function(){bz.peticion=false})};bz.notificarDisenador=function(idC,idF){bz.peticion=true;var datos={idCliente:idC,fecha:formatDate(new Date),monto:0,idFacturacion:idF};angular.forEach(bz.disenadores,function(valor){if(valor.idCliente==idC){datos.monto=valor.deuda.deuda}});designerService.notificarPago(datos).then(function(){notificacionService.mensaje("Usuario Notificado!");angular.forEach(bz.disenadores,function(valor){if(valor.idCliente==idC){valor.deuda.deuda=0}});bz.metodoPagoi=false}).catch(function(res){notificacionService.mensaje(res)}).finally(function(){bz.peticion=false})};bz.mostrar=function(opcion,index,id){if(opcion=="logos-designer"){bz.peticion=true;designerService.logosDisenador(id).then(function(res){angular.forEach(res,function(valor){if(valor.atributos.length>0){angular.forEach(valor.atributos,function(valor2){if(valor2.clave=="calificacion-admin"){valor.calificado=true}})}});bz.logosDisenador=res;bz.vista=1}).catch(function(res){notificacionService.mensaje(res)}).finally(function(){bz.peticion=false})}else if(opcion=="historial"){bz.peticion=true;designerService.historialDisenador(id).then(function(res){if(res==undefined)return notificacionService.mensaje("No hay registro de pagos en la base de datos.");bz.vista=2;bz.historialPagos=res.data}).catch(function(res){notificacionService.mensaje(res)}).finally(function(){bz.peticion=false})}};bz.base64=function(icono){return $base64.decode(icono)};function formatDate(date){var d=new Date(date),month=""+(d.getMonth()+1),day=""+d.getDate(),year=d.getFullYear();if(month.length<2)month="0"+month;if(day.length<2)day="0"+day;return[year,month,day].join("-")}}])},function(module,exports){angular.module("administrador").controller("clienteController",["$state","$mdSidenav","clientesServiceAdmin","$scope","pedidosService","SweetAlert","$window","notificacionService","$base64",function($state,$mdSidenav,clientesServiceAdmin,$scope,pedidosService,SweetAlert,$window,notificacionService,$base64){var bz=this;bz.filtrosActivos;bz.peticion=true;clientesServiceAdmin.listarClientes().then(function(res){if(res!=undefined)bz.clientes=res.data}).catch(function(res){notificacionService.mensaje(res)}).finally(function(){bz.peticion=false});bz.pedidosCliente=function(id){bz.peticion=true;pedidosService.pedidosCliente(id).then(function(res){bz.mostrarPedido=true;if(res!=undefined)return bz.pedidosC=res.data}).catch(function(){bz.mostrarPedido=false;notificacionService.mensaje("No existen pedidos de este cliente.")}).finally(function(){bz.peticion=false})};bz.estadoPedidos=["EN PROCESO","EN ESPERA","CANCELADO","COMPLETADO"];bz.cambiarEstado=function(id,estado,index){bz.peticion=true;pedidosService.cambiarEstado(id,estado).then(function(){notificacionService.mensaje("Estado Cambiado!");bz.pedidosC[index].estado=estado;bz.modInit=!bz.modInit}).catch(function(res){notificacionService.mensaje(res)}).finally(function(){bz.peticion=false})};bz.base64=function(icono){return $base64.decode(icono)}}])},function(module,exports){angular.module("administrador").controller("categoriasController",["$state","$mdSidenav","$mdDialog","$scope","categoriasService","SweetAlert","notificacionService",function($state,$mdSidenav,$mdMenu,$scope,categoriasService,SweetAlert,notificacionService){var bz=this;bz.datos={modCategoria:{},nuevaCategoria:{},modPreferencia:{},nuevaPreferencia:{}};bz.listarCategorias=function(tipoCategoria){bz.peticion=true;bz.cats=[];categoriasService.listarCategorias({tipo:tipoCategoria}).then(function(res){if(res==undefined)return notificacionService.mensaje("No hay categorias.");bz.cats=res.data}).catch(function(res){notificacionService.mensaje(res)}).finally(function(){bz.peticion=false})};categoriasService.listarPreferencias().then(function(res){bz.prefs=res.data}).catch(function(res){notificacionService.mensaje(res)}).finally(function(){bz.peticion=false});bz.modificarElemento=function(datos,opcion,v){if(!v)return notificacionService.mensaje("Rellene los campos de forma correcta!");if(opcion=="categoria"){bz.peticion=true;categoriasService.modificarCategoria(datos).then(function(){notificacionService.mensaje("Modificacion Exitosa");bz.cats[bz.elementoActivoIndex].nombreCategoria=datos.nombreCategoria;bz.modNombre=datos.nombreCategoria}).catch(function(res){notificacionService.mensaje(res)}).finally(function(){bz.peticion=false})}else{bz.peticion=true;categoriasService.modificarPreferencia(datos).then(function(){notificacionService.mensaje("Modificación Exitosa!");bz.prefs[bz.elementoActivoIndex].nombre1=datos.nombre1;bz.prefs[bz.elementoActivoIndex].nombre2=datos.nombre2;bz.modNombre=datos.nombre1+" y "+datos.nombre2}).catch(function(res){notificacionService.mensaje(res)}).finally(function(){bz.peticion=false})}};bz.crear=function(datos,opcion,v){if(!v)return notificacionService.mensaje("Rellene los campos de forma correcta!");if(opcion=="categoria"){bz.peticion=true;categoriasService.nuevaCategoria(datos).then(function(res){notificacionService.mensaje("Registro Existoso");datos.idCategoria=res.data.insertId;bz.cats.push(datos);bz.datos.nuevaCategoria={}}).catch(function(res){notificacionService.mensaje(res)}).finally(function(){bz.peticion=false})}else{bz.peticion=true;categoriasService.nuevaPreferencia(datos).then(function(res){notificacionService.mensaje("Registro Exitoso!");datos.idPreferencia=res.data.insertId;bz.prefs.push(datos);bz.datos.nuevaPreferencia={}}).catch(function(res){notificacionService.mensaje(res)}).finally(function(){bz.peticion=false})}}}])},function(module,exports){angular.module("administrador",["ngMessages","ui.router","ngAnimate","ngAria","ngMaterial","base64","720kb.socialshare","oitozero.ngSweetAlert","ngFileUpload"]).config(function($stateProvider,$mdThemingProvider,socialshareConfProvider,$httpProvider,$urlRouterProvider,$locationProvider){$locationProvider.html5Mode(true);$httpProvider.interceptors.push("AuthInterceptor");$stateProvider.state("app",{url:"/app",abstract:true,templateUrl:"app/views/menu.html",controller:"sidenavController as sidenav",resolve:{currentAuth:["$q","clientesService",function($q,clientesService){if(!clientesService.autorizado()){return $q.reject("AUTH_REQUIRED")}}]}}).state({name:"app.categorias",url:"/categorias",views:{menuContent:{templateUrl:"app/views/categorias.html",controller:"categoriasController as categorias"}}}).state({name:"app.etiquetas",url:"/etiquetas",views:{menuContent:{templateUrl:"app/views/etiquetas.html",controller:"etiquetasController as ctrl"}}}).state({name:"app.cliente",url:"/cliente",views:{menuContent:{templateUrl:"app/views/cliente.html",controller:"clienteController as cliente"}}}).state({name:"app.elementos",url:"/elementos",views:{menuContent:{templateUrl:"app/views/elementos.html",controller:"elementosController as ctrl"}}}).state({name:"app.monedas",url:"/monedas",views:{menuContent:{templateUrl:"app/views/monedas.html",controller:"monedasController as moneda"}}}).state({name:"app.paises",url:"/paises",views:{menuContent:{templateUrl:"app/views/paises.html",controller:"paisesController as paises"}}}).state({name:"app.pedidos",url:"/pedidos",views:{menuContent:{templateUrl:"app/views/pedidos.html",controller:"pedidosController as pedidos"}}}).state({name:"app.idiomas",url:"/idiomas",views:{menuContent:{templateUrl:"app/views/idiomas.html",controller:"idiomasController as ctrl"}}}).state({name:"app.planes",url:"/planes",views:{menuContent:{templateUrl:"app/views/planes.html",controller:"planesController as planes"}}}).state({name:"app.usuario",url:"/usuario",views:{menuContent:{templateUrl:"app/views/usuario.html",controller:"usuarioController as usuario"}}}).state({name:"app.disenadores",url:"/disenadores",views:{menuContent:{templateUrl:"app/views/disenadores.html",controller:"disenadoresController as designer"}}}).state({name:"login",url:"/login",templateUrl:"app/views/login.html",controller:"loginController as login",resolve:{currentAuth:["$q","clientesService",function($q,clientesService){if(clientesService.autorizado()){return $q.reject("LOGOUT_REQUIRED")}}]}});$urlRouterProvider.rule(function($injector,$location){var path=$location.url();if("/"===path[path.length-1]||path.indexOf("/?")>-1){return}if(path.indexOf("?")>-1){return path.replace("?","/?")}return path+"/"});$urlRouterProvider.otherwise("app/pedidos")}).run(function($rootScope,$state){$rootScope.$on("$stateChangeError",function(event,toState,toParams,fromState,fromParams,error){if(error==="AUTH_REQUIRED"){$state.go("login")}else if(error==="LOGOUT_REQUIRED"){$state.go("app/pedidos")}})})}]);
